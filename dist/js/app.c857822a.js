(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},i=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00fe":function(t,e,a){"use strict";a("171a")},"05c8":function(t,e,a){},"065a":function(t,e,a){"use strict";a("438e")},"0688":function(t,e,a){"use strict";a("0fc5")},"069e":function(t,e,a){},"092a":function(t,e,a){"use strict";a("7ef6")},"0c57":function(t,e,a){"use strict";a("05c8")},"0fc5":function(t,e,a){},"146e":function(t,e,a){"use strict";a("ba10")},"171a":function(t,e,a){},2045:function(t,e,a){},"25e6":function(t,e,a){},"2cc2":function(t,e,a){"use strict";a("b13f")},"34cd":function(t,e,a){},"351f":function(t,e,a){"use strict";a("d3b8")},"3b17":function(t,e,a){},"3b71":function(t,e,a){"use strict";a("a4df")},"3c5d":function(t,e,a){},"3c9d":function(t,e,a){"use strict";a("3b17")},"3d28":function(t,e,a){},"3fdb":function(t,e,a){"use strict";a("4571")},4308:function(t,e,a){"use strict";a("538c")},"438e":function(t,e,a){},4571:function(t,e,a){},4732:function(t,e,a){},"49c2":function(t,e,a){"use strict";a("3d28")},"538c":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("ac1f"),a("1276"),a("498a"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=a("5887"),i=a.n(r),n=a("5886"),o=a("2ead"),l=a.n(o),c=a("9955"),d=a.n(c),u=a("2ef0"),m=a.n(u),p=a("6944"),f=a.n(p),g=a("10df"),v=a.n(g),x=a("7bb1"),b=a("755e");a("4de4"),a("fb6a");s["default"].filter("date",(function(t){var e={year:"numeric",month:"2-digit",day:"2-digit"};return Intl.DateTimeFormat("en-US",e).format(t)})),s["default"].filter("currency",(function(t){return Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t)})),s["default"].filter("ucfirst",(function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),s["default"].filter("age",(function(t){var e=new Date(Date.now()-new Date(t).getTime());return Math.abs(e.getUTCFullYear()-1970)})),s["default"].filter("number",(function(t){return t.toLocaleString()}));var h,_,C,D,w,y,k,P,S,M,A,L,E,R,N,I,j,$,O,F,U,T,q,Y,B,H,W,V,z,K,Z,J,X,Q,G,tt,et,at,st,rt,it,nt,ot,lt,ct,dt,ut,mt,pt,ft,gt,vt,xt,bt,ht,_t,Ct=a("ecee"),Dt=a("c074"),wt=a("f2d1"),yt=a("ad3d"),kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},Pt=[],St=a("2877"),Mt={},At=Object(St["a"])(Mt,kt,Pt,!1,null,null,null),Lt=At.exports,Et=a("8c4f"),Rt=a("bc3a"),Nt=a.n(Rt),It=a("2106"),jt=a.n(It),$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container h-screen w-full"},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("form",{staticClass:"h-full",on:{submit:function(e){return e.preventDefault(),t.login()}}},[a("div",{staticClass:"flex h-full"},[a("div",{staticClass:"flex-1 bg-div"}),a("div",{staticClass:"login-content bg-sidemenuChildBgColor pt-36 px-12"},[a("div",{staticClass:"text-center"},[a("img",{staticClass:"mb-7 w-7/10 ",attrs:{src:"../assets/img/EmpatKali_Logo.png",alt:"empatkali logo"}})]),t._m(0),a("div",{staticClass:"input-div text-left mb-5"},[a("label",{staticClass:"font-bold mb-1 block",attrs:{for:""}},[t._v("email/username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.body.identity,expression:"data.body.identity"}],staticClass:"text-base",class:{error:t.isEmailErr},attrs:{type:"text",placeholder:"Masukkan email/ username",name:"username",autofocus:""},domProps:{value:t.data.body.identity},on:{input:function(e){e.target.composing||t.$set(t.data.body,"identity",e.target.value)}}})]),a("div",{staticClass:"input-div text-left mb-5 relative"},[a("label",{staticClass:"font-bold mb-1 block",attrs:{for:""}},[t._v("password")]),"checkbox"===(t.isShowPassword?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.body.password,expression:"data.body.password"}],staticClass:"text-base",class:{error:t.isPassErr},attrs:{placeholder:"Masukkan password",name:"password",type:"checkbox"},domProps:{checked:Array.isArray(t.data.body.password)?t._i(t.data.body.password,null)>-1:t.data.body.password},on:{change:function(e){var a=t.data.body.password,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,n=t._i(a,i);s.checked?n<0&&t.$set(t.data.body,"password",a.concat([i])):n>-1&&t.$set(t.data.body,"password",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.data.body,"password",r)}}}):"radio"===(t.isShowPassword?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.body.password,expression:"data.body.password"}],staticClass:"text-base",class:{error:t.isPassErr},attrs:{placeholder:"Masukkan password",name:"password",type:"radio"},domProps:{checked:t._q(t.data.body.password,null)},on:{change:function(e){return t.$set(t.data.body,"password",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.body.password,expression:"data.body.password"}],staticClass:"text-base",class:{error:t.isPassErr},attrs:{placeholder:"Masukkan password",name:"password",type:t.isShowPassword?"text":"password"},domProps:{value:t.data.body.password},on:{input:function(e){e.target.composing||t.$set(t.data.body,"password",e.target.value)}}}),a("span",{staticClass:"cursor-pointer absolute right-0 bottom-1",on:{click:function(e){return t.togglePassword()}}},[t.isShowPassword?a("img",{staticClass:"w-8",attrs:{src:"../assets/img/eye.png"}}):t._e(),t.isShowPassword?t._e():a("img",{staticClass:"w-8",attrs:{src:"../assets/img/eye-hide.png"}})])]),a("a",{staticClass:"text-violet text-md my-3 text-left",attrs:{href:"#"}},[t._v("forgot password?")]),t._m(1),t.loginError.isShow?a("div",{staticClass:"rounded-full p-2 bg-white mt-8 shadow-md"},[a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"img-container mr-2 w-8"},[a("img",{staticClass:"w-full",attrs:{src:"../../assets/img/red-circle-times.png",alt:""}})]),a("p",{staticClass:"text-xs flex-1"},[t._v(t._s(t.loginError.err))])])]):t._e()])])])],1)},Ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-10 text-center "},[a("p",{staticClass:"text-2xl"},[a("span",{staticClass:"font-bold"},[t._v("Verification")]),t._v(" Dashboard")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center mt-6"},[a("button",{staticClass:"btn px-6 py-4 bg-primaryBtn text-white rounded-md w-full font-bold"},[t._v("Login")])])}],Ft=(a("a15b"),a("d81d"),a("d3b7"),a("25f0"),a("5319"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loader-container fixed w-full h-screen top-0 left-0 bg-loader"},[a("div",{staticClass:"flex items-center justify-center h-full"},[a("div",{staticClass:"text-center"},[a("img",{staticClass:"w-36 block mx-auto",attrs:{src:"../../assets/img/EmpatKali-LG_Alternative.png"}}),a("span",{staticClass:"text-white text-2xl mt-4 font-bold block text-center"},[t._v(t._s(t.message)+" ...")])])])])}),Ut=[],Tt={props:{message:String},data:function(){return{}},created:function(){},methods:{}},qt=Tt,Yt=qt,Bt=Object(St["a"])(Yt,h,_,!1,null,null,null),Ht=Bt.exports,Wt=Ht,Vt=Wt,zt=(a("2cc2"),Object(St["a"])(Vt,Ft,Ut,!1,null,"6496bf2e",null)),Kt=zt.exports,Zt={components:{Loader:Kt},data:function(){return{data:{body:{},rememberMe:!1,fetchUser:!0},loginError:{isShow:!1,err:""},isEmailErr:!1,isPassErr:!1,isShowPassword:!1,loader:{isShow:!1,message:"Preparing"}}},created:function(){},methods:{login:function(){var t=this,e=this;return e.data.body.identity||e.data.body.password?e.data.body.identity?(e.isEmailErr=!1,e.data.body.password?(e.isPassErr=!1,e.loader={isShow:!0,message:"Logging in"},void e.$auth.login({data:e.data.body,rememberMe:!0,redirect:"/users/all",fetchUser:!1,headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","Content-Type":"application/json"}}).then((function(a){t.actionAdmin("Admin new login",a.data.token),e.captureInfo(),e.loader.isShow=!1,e.loginError.isShow=!1}),(function(t){console.log(t.message),e.loader.isShow=!1,e.$swal("Error!","Invalid Email/Password!","error")}))):(e.loginError={isShow:!0,err:"Anda belum memasukkan kata sandi"},e.isPassErr=!0,!1)):(e.loginError={isShow:!0,err:"Anda belum memasukkan email/nama pengguna"},e.isEmailErr=!0,!1):(e.loginError={isShow:!0,err:"Anda belum memasukkan email/nama pengguna atau kata sandi"},e.isEmailErr=!0,e.isPassErr=!0,!1)},decodeJwt:function(t){var e=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},a=function(t){return JSON.parse(e(t.split(".")[1].replace("-","+").replace("_","/")))};return a(t)},actionAdmin:function(t,e){var a=this,s=a.decodeJwt(e);delete s.iat,delete s.mobileNumber,delete s._id;var r={adminLogin:s,action:t};r=JSON.stringify(r),Nt.a.post("https://mon.empatkali.co.id/cs",{actionAdmin:r}).then((function(t){console.log("res",t)})).catch((function(t){console.log(t.res)}))},captureInfo:function(){var t=this;fetch("https://api.ipify.org?format=json").then((function(t){return t.json()})).then((function(e){var a=e.ip,s={username:t.data.body.identity,ipAddress:a};Nt.a.post("https://web-api.empatkali.co.id/admin-logger",s).then((function(){}))}))},togglePassword:function(){var t=this;t.isShowPassword=!t.isShowPassword}}},Jt=Zt,Xt=(a("146e"),Object(St["a"])(Jt,$t,Ot,!1,null,"732e6271",null)),Qt=Xt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[t.showLoader?a("Loader"):t._e(),"User Limit Details"==t.$route.name||"User Details"==t.$route.name?a("Header"):t._e(),a("div",{staticClass:"main-content h-full"},[a("div",{staticClass:"flex h-full"},["User Limit Details"!=t.$route.name&&"User Details"!=t.$route.name?a("Sidemenu"):t._e(),a("div",{staticClass:"flex-1 h-full"},[a("router-view")],1)],1)])],1)},te=[],ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["User Limit Details"==t.$route.name||"User Details"==t.$route.name?a("div",{staticClass:"header-container flex border-b items-center px-4 shadow-sm bg-navColor"},[a("div",{staticClass:"logo-wrapper h-full flex items-center py-4 mr-2"},[a("img",{staticClass:"h-full",attrs:{src:"../../assets/img/EmpatKali_Logo.png",alt:""}})]),t._m(0),a("div",{staticClass:"flex flex-1 text-right items-center"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-sm font-bold"},[t._v("Hi, "+t._s(t.adminData.displayName))])]),a("div",{staticClass:"flex-none ml-3 user-img relative user-header-toggle"},[a("div",{staticClass:"flex items-center cursor-pointer",on:{click:function(e){t.isShowUserProfileMenu=!t.isShowUserProfileMenu}}},[a("div",{staticClass:"img-container flex-1 mr-3"},[a("img",{staticClass:"h-9 w-9 border border-gray-300 rounded-full",attrs:{src:t.adminData?t.adminData.profileImageURL:"../../assets/img/users.png",alt:""}})]),a("svg",{staticClass:"w-4 text-gray-400",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])]),t.isShowUserProfileMenu?a("div",{staticClass:"user-drop-container absolute right-0 top-10 z-50"},[a("div",{staticClass:"bg-white shadow-md border middle rounded-2xl w-40 p-4"},[a("div",{staticClass:"flex items-center cursor-pointer",on:{click:function(e){return e.preventDefault(),t.logout()}}},[a("div",{staticClass:"img-container mr-3"},[a("img",{staticClass:"w-4",attrs:{src:"../../assets/img/logout.png",alt:""}})]),a("p",{staticClass:"text-sm"},[t._v("Logout")])])])]):t._e()])])]):a("div",{staticClass:"header-container flex items-center px-4"},[a("div",{staticClass:"flex-2"},["default"==t.headerContentName||""==t.headerContentName?a("p",{staticClass:"text-md font-bold"},[t._v(" "+t._s(t.$route.name)+" ")]):t._e(),"default"!=t.headerContentName&&""!=t.headerContentName?a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"flex-none mr-8"},[a("p",{staticClass:"text-md font-bold inline-block capitalize"},[t._v(" "+t._s("Dashboard"!=t.headerContentName&&"All users"!=t.headerContentName&&"All request"!=t.headerContentName&&"settings"!=t.headerContentName&&"tools"!=t.headerContentName?t.$route.name+" - "+t.headerContentName:t.headerContentName)+" ")]),"Change Limit"==t.$route.name&&"All request"!=t.headerContentName||"Users"==t.$route.name&&"All users"!=t.headerContentName?a("div",{staticClass:"count-badge rounded-2xl px-4 py-2 inline-block text-white font-bold text-xs ml-3",class:{"bg-v-status-pending":"pending"==t.headerContentName,"bg-v-status-approved":"approved"==t.headerContentName,"bg-v-status-rejected":"rejected"==t.headerContentName,"bg-v-status-active":"active"==t.headerContentName,"bg-v-status-incomplete":"incomplete"==t.headerContentName,"bg-v-status-banned":"banned"==t.headerContentName,"bg-v-status-freeze":"freeze"==t.headerContentName}},[t._v(" "+t._s(t.headerOptions.resultCount)+" ")]):t._e()]),a("div",{staticClass:"flex flex-1"},[a("div",{staticClass:"flex items-center flex-none mr-4"},[a("div",{staticClass:"w-5 mr-4"},[a("img",{staticClass:"w-full inline-block",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 text-sm"},[t._v(" "+t._s(t._f("moment")(t.dateToday,"DD MMM YYYY"))+" ")])]),a("div",{staticClass:"flex items-center flex-none mr-4"},[a("div",{staticClass:"w-6 mr-4"},[a("img",{staticClass:"w-full inline-block",attrs:{src:"../assets/img/clock-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 text-sm"},[t._v(" "+t._s(t.timeNow)+" WIB ")])])])]):t._e()]),a("div",{staticClass:"flex flex-1 text-right items-center"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-sm font-bold"},[t._v("Hi, "+t._s(t.adminData.displayName))])]),a("div",{staticClass:"flex-none ml-3 user-img relative user-header-toggle"},[a("div",{staticClass:"flex items-center cursor-pointer",on:{click:function(e){t.isShowUserProfileMenu=!t.isShowUserProfileMenu}}},[a("div",{staticClass:"img-container flex-1 mr-3"},[a("img",{staticClass:"h-9 w-9 border border-gray-300 rounded-full",attrs:{src:t.adminData?t.adminData.profileImageURL:"../../assets/img/users.png",alt:""}})]),a("svg",{staticClass:"w-4 text-gray-400",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])]),t.isShowUserProfileMenu?a("div",{staticClass:"user-drop-container absolute right-0 top-10 z-50"},[a("div",{staticClass:"bg-white shadow-md border middle rounded-2xl w-40 p-4"},[a("div",{staticClass:"flex items-center cursor-pointer",on:{click:function(e){return e.preventDefault(),t.logout()}}},[a("div",{staticClass:"img-container mr-3"},[a("img",{staticClass:"w-4",attrs:{src:"../../assets/img/logout.png",alt:""}})]),a("p",{staticClass:"text-sm"},[t._v("Logout")])])])]):t._e()])])]),a("Modal",{attrs:{title:" ","modal-class":"modal-wrapper w-3/10 mt-20"},model:{value:t.isShowUpdateProfileModal,callback:function(e){t.isShowUpdateProfileModal=e},expression:"isShowUpdateProfileModal"}},[a("UpdateProfileModal",{attrs:{admin:t.adminData,closeModal:t.toggleProfileModal,toggleLoader:t.toggleLoader}})],1)],1)},ae=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-sm"},[a("span",{staticClass:"font-bold"},[t._v("Verification")]),t._v(" Dashboard")])])}],se=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{"data-vv-scope":"frmUpdateProfile"},on:{submit:function(e){return e.preventDefault(),t.formValidator("frmUpdateProfile")}}},[a("div",{staticClass:"img-container text-center -mt-8 mb-8"},[a("img",{staticClass:"h-32 w-32 rounded-full border border-gray-300",attrs:{src:t.admin?t.admin.profileImageURL:"../../assets/img/users.png",alt:""}}),a("div",{staticClass:"flex justify-center items-center mt-4"},[a("div",{staticClass:"img-container mr-3"},[a("img",{staticClass:"w-4",attrs:{src:"../assets/img/edit.png",alt:""}})]),a("p",{staticClass:"text-base"},[t._v("Ubah Profil")])])]),a("div",{staticClass:"input-div mb-5"},[a("label",{staticClass:"font-bold mb-1 block",attrs:{for:""}},[t._v("username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.updateProfileData.username,expression:"updateProfileData.username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmUpdateProfile.username")},attrs:{type:"text",name:"username",autofocus:""},domProps:{value:t.updateProfileData.username},on:{input:function(e){e.target.composing||t.$set(t.updateProfileData,"username",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmUpdateProfile.username")))])]),a("div",{staticClass:"input-div mb-5"},[a("label",{staticClass:"font-bold mb-1 block",attrs:{for:""}},[t._v("email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.updateProfileData.email,expression:"updateProfileData.email"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmUpdateProfile.email")},attrs:{type:"text",name:"email"},domProps:{value:t.updateProfileData.email},on:{input:function(e){e.target.composing||t.$set(t.updateProfileData,"email",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmUpdateProfile.email")))])]),a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn px-4 py-2 mx-1 text-violet font-bold rounded-md text-base",on:{click:function(e){return e.preventDefault(),t.closeModal(!1)}}},[t._v("Kembali")]),a("button",{staticClass:"btn px-12 py-3 mx-1 font-bold bg-primaryBtn text-white rounded-md text-base"},[t._v("Simpan")])])])])}),re=[],ie={props:{closeModal:Function,toggleLoader:Function,admin:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},updateProfileData:{}}},created:function(){var t=this;t.updateProfileData={username:t.admin.username,email:t.admin.email,_id:t.admin._id}},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){}))},saveProfile:function(){var t=this;t.toggleLoader(!0),Nt.a.post("".concat("https://api.empatkali.co.id/admin","/api/usersalary"),t.updateProfileData,t.requestedHeaders).then((function(e){t.$swal("Success!","Profile Updated!","success"),t.addFeeSuccess(e.data,"add")})).catch((function(e){t.toggleLoader(!1),t.$swal("Error!",e.response.data.message,"error")}))}}},ne=ie,oe=(a("49c2"),Object(St["a"])(ne,se,re,!1,null,"7c3d2c5a",null)),le=oe.exports,ce={components:{UpdateProfileModal:le,Loader:Kt},props:{headerOptions:{required:!1,type:Object}},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},isShowUserProfileMenu:!1,headerContentName:"default",dateToday:new Date,timeNow:this.$moment().format("hh:mm:ss"),isShowUpdateProfileModal:!1,adminData:{}}},created:function(){this.getAdmin(),this.liveClock(),this.initializeShowHideListener(),this.actionAdmin(),this.getHeaderContent()},watch:{$route:function(t,e){console.log("from",e.params),console.log("to",t.params),this.getHeaderContent()}},methods:{decodeJwt:function(t){var e=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},a=function(t){return JSON.parse(e(t.split(".")[1].replace("-","+").replace("_","/")))};return a(t)},initializeShowHideListener:function(){var t=this;window.addEventListener("click",(function(e){if(t.isShowUserProfileMenu){var a=e.target,s=document.getElementsByClassName("user-header-toggle")[0];void 0===s&&(s=document);var r=a.parentNode,i=!1;if(r==s)i=!0;else while(r!==s){var n=r;if(null==n)break;r=n.parentNode,r==s&&(i=!0)}t.isShowUserProfileMenu=i}}))},logout:function(){this.actionAdmin("admin logout"),this.$auth.logout({success:function(){},error:function(){},redirect:"/login"})},actionAdmin:function(t){var e=this,a=e.decodeJwt(e.requestedHeaders.headers["x-access-token"]);delete a.iat,delete a.mobileNumber,delete a._id;var s={adminLogin:a,action:t};s=JSON.stringify(s),Nt.a.post("https://mon.empatkali.co.id/cs",{actionAdmin:s}).then((function(t){console.log("res",t)})).catch((function(t){console.log(t.res)}))},getHeaderContent:function(){var t=this;"Settings"==t.$route.name||"Email Template"==t.$route.name||"Fee"==t.$route.name||"User Management"==t.$route.name||"Salary"==t.$route.name?t.headerContentName="settings":"Tools"==t.$route.name||"UnbanOTP"==t.$route.name?t.headerContentName="tools":"Change Limit"==t.$route.name?t.headerContentName="all"==t.$route.params.status?"All request":t.$route.params.status:"Users"==t.$route.name?t.headerContentName="all"==t.$route.params.status?"All users":t.$route.params.status:"Home"==t.$route.name&&(t.headerContentName="Dashboard")},toggleProfileModal:function(t){var e=this;e.isShowUpdateProfileModal=t,e.isShowUserProfileMenu=!1},toggleLoader:function(t){t?this.$parent.hideLoading():this.$parent.showLoading()},liveClock:function(){var t=this,e=this;setInterval((function(){e.timeNow=t.$moment().format("hh:mm:ss")}),1e3)},getAdmin:function(){var t=this,e=t.decodeJwt(t.requestedHeaders.headers["x-access-token"]);Nt.a.get("api/admins/".concat(e._id),t.requestedHeaders).then((function(e){e&&(t.adminData=e.data)})).catch((function(t){console.log(t)}))}}},de=ce,ue=de,me=Object(St["a"])(ue,C,D,!1,null,null,null),pe=me.exports,fe=pe,ge=fe,ve=(a("0688"),Object(St["a"])(ge,ee,ae,!1,null,"94a8e59e",null)),xe=ve.exports,be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidemenu-container w-64 py-4 h-full shadow-lg bg-sidemenuColor"},[a("div",{staticClass:"logo-wrapper h-10 mb-5 px-4"},[a("router-link",{attrs:{"active-class":"bg-transparent",to:{name:"Users",params:{status:"all"}}}},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/EmpatKali_Logo.png",alt:""}})])],1),t._m(0),a("div",{staticClass:"sidemenu-items px-4 pb-4 overflow-y-auto"},[a("div",{staticClass:"menu-item-w-child sidemenu-user-toggle rounded-xl mb-2",class:{"bg-sidemenuChildBgColor":t.isShowUserChildMenu}},[a("div",{staticClass:"w-full rounded-xl inline-block",class:{"bg-sidemenuActiveColor":t.isShowUserChildMenu||"Users"==t.$route.name},on:{click:function(e){return t.toggleDrop("users")}}},[a("div",{staticClass:"menu-item flex items-center px-4 py-5 cursor-pointer rounded-xl"},[a("div",{staticClass:"icon-container w-7 mr-3"},[a("img",{staticClass:"w-full",attrs:{src:"../assets/img/users.png",alt:""}})]),t._m(1),a("div",{staticClass:"flex-1 text-center"},[t.isShowUserChildMenu?t._e():a("svg",{staticClass:"w-4 text-gray-400 inline-block",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})]),t.isShowUserChildMenu?a("svg",{staticClass:"w-4 text-gray-400 inline-block",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"}})]):t._e()])])]),t.isShowUserChildMenu?a("div",{staticClass:"menu-child-items pt-2"},[a("router-link",{attrs:{to:{name:"Users",params:{status:"all"}}}},[a("div",{staticClass:"child-item px-4 pt-4 pb-6 rounded mb-1 cursor-pointer"},[a("p",{staticClass:"text-md ff-medium font-bold",class:{"text-sidemenuTextActiveColor":"all"==t.$route.params.status}},[t._v("All Users")])])]),a("router-link",{attrs:{to:{name:"Users",params:{status:"active"}}}},[a("div",{staticClass:"child-item px-4 pt-4 pb-6 rounded mb-1 cursor-pointer"},[a("p",{staticClass:"text-md ff-medium font-bold",class:{"text-sidemenuTextActiveColor":"active"==t.$route.params.status}},[t._v("Active")])])]),a("router-link",{attrs:{to:{name:"Users",params:{status:"pending"}}}},[a("div",{staticClass:"child-item px-4 pt-4 pb-6 rounded mb-1 cursor-pointer flex items-center"},[a("p",{staticClass:"text-md ff-medium font-bold flex-1",class:{"text-sidemenuTextActiveColor":"pending"==t.$route.params.status}},[t._v("Pending")]),a("div",{staticClass:"flex-none"},[a("div",{staticClass:"count-badge rounded-2xl px-4 py-2 inline-block font-bold text-xxs ml-3 bg-v-status-pending text-white"},[t._v(" "+t._s(t.pendingUsersCount)+" ")])])])]),a("router-link",{attrs:{to:{name:"Users",params:{status:"incomplete"}}}},[a("div",{staticClass:"child-item px-4 pt-4 pb-6 rounded mb-1 cursor-pointer"},[a("p",{staticClass:"text-md ff-medium font-bold",class:{"text-sidemenuTextActiveColor":"incomplete"==t.$route.params.status}},[t._v("Incomplete")])])]),a("router-link",{attrs:{to:{name:"Users",params:{status:"banned"}}}},[a("div",{staticClass:"child-item px-4 pt-4 pb-6 rounded mb-1 cursor-pointer"},[a("p",{staticClass:"text-md ff-medium font-bold",class:{"text-sidemenuTextActiveColor":"banned"==t.$route.params.status}},[t._v("Banned")])])]),a("router-link",{attrs:{to:{name:"Users",params:{status:"freeze"}}}},[a("div",{staticClass:"child-item px-4 pt-4 pb-6 rounded mb-1 cursor-pointer"},[a("p",{staticClass:"text-md ff-medium font-bold",class:{"text-sidemenuTextActiveColor":"freeze"==t.$route.params.status}},[t._v("Freeze")])])]),a("router-link",{attrs:{to:{name:"Users",params:{status:"approved"}}}},[a("div",{staticClass:"child-item px-4 pt-4 pb-6 rounded mb-1 cursor-pointer"},[a("p",{staticClass:"text-md ff-medium font-bold",class:{"text-sidemenuTextActiveColor":"approved"==t.$route.params.status}},[t._v("Approved")])])]),a("router-link",{attrs:{to:{name:"Users",params:{status:"rejected"}}}},[a("div",{staticClass:"child-item px-4 pt-4 pb-6 rounded mb-1 cursor-pointer"},[a("p",{staticClass:"text-md ff-medium font-bold",class:{"text-sidemenuTextActiveColor":"rejected"==t.$route.params.status}},[t._v("Rejected")])])])],1):t._e()]),a("div",{staticClass:"menu-item-w-child sidemenu-limit-toggle rounded-xl mb-2",class:{"bg-sidemenuChildBgColor":"Change Limit"==t.$route.name}},[a("router-link",{staticClass:"w-full rounded-xl inline-block",class:{"bg-sidemenuActiveColor":"Change Limit"==t.$route.name},attrs:{to:{name:"Change Limit",params:{status:"pending"}}}},[a("div",{staticClass:"menu-item flex items-center px-4 py-5"},[a("div",{staticClass:"icon-container w-7 mr-3"},[a("img",{staticClass:"w-full",attrs:{src:"../assets/img/change-limit.png",alt:""}})]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-md ff-medium font-bold",class:{"text-sidemenuTextActiveColor":"Change Limit"==t.$route.name}},[t._v("Change Limit")])])])]),"Change Limit"==t.$route.name?a("div",{staticClass:"menu-child-items pt-2"},[a("router-link",{attrs:{to:{name:"Change Limit",params:{status:"all"}}}},[a("div",{staticClass:"child-item px-4 pt-4 pb-6 rounded mb-1 cursor-pointer"},[a("p",{staticClass:"text-md ff-medium font-bold",class:{"text-sidemenuTextActiveColor":"all"==t.$route.params.status}},[t._v("All Request")])])]),a("router-link",{attrs:{to:{name:"Change Limit",params:{status:"pending"}}}},[a("div",{staticClass:"child-item px-4 pt-2 pb-6 rounded mb-1 cursor-pointer flex items-center"},[a("p",{staticClass:"text-md ff-medium font-bold flex-1",class:{"text-sidemenuTextActiveColor":"pending"==t.$route.params.status}},[t._v("Pending")]),a("div",{staticClass:"flex-none"},[a("div",{staticClass:"count-badge rounded-2xl px-4 py-2 inline-block font-bold text-xxs ml-3 bg-v-status-pending text-white"},[t._v(" "+t._s(t.pendingLimitUsersCount)+" ")])])])]),a("router-link",{attrs:{to:{name:"Change Limit",params:{status:"approved"}}}},[a("div",{staticClass:"child-item px-4 pt-2 pb-6 rounded mb-1 cursor-pointer"},[a("p",{staticClass:"text-md ff-medium font-bold",class:{"text-sidemenuTextActiveColor":"approved"==t.$route.params.status}},[t._v("Approved")])])]),a("router-link",{attrs:{to:{name:"Change Limit",params:{status:"rejected"}}}},[a("div",{staticClass:"child-item px-4 pt-2 pb-6 rounded mb-1 cursor-pointer"},[a("p",{staticClass:"text-md ff-medium font-bold",class:{"text-sidemenuTextActiveColor":"rejected"==t.$route.params.status}},[t._v("Rejected")])])])],1):t._e()],1),a("router-link",{staticClass:"w-full rounded-xl inline-block mb-2",class:{"bg-sidemenuActiveColor":"Email Template"==t.$route.name},attrs:{to:{name:"Settings"}}},[a("div",{staticClass:"menu-item flex items-center px-4 py-5"},[a("div",{staticClass:"icon-container w-7 mr-3"},[a("img",{staticClass:"w-full",attrs:{src:"../assets/img/settings.png",alt:""}})]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-md ff-medium font-bold"},[t._v("Settings")])])])]),a("router-link",{staticClass:"w-full rounded-xl inline-block mb-2",class:{"bg-sidemenuActiveColor":"Tools"==t.$route.name},attrs:{to:{name:"Tools"}}},[a("div",{staticClass:"menu-item flex items-center px-4 py-5"},[a("div",{staticClass:"icon-container w-7 mr-3"},[a("svg",{staticClass:"w-full text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}}),a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}})])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-md ff-medium font-bold"},[t._v("Tools")])])])])],1)])},he=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-8 px-4"},[a("p",{staticClass:"text-md"},[a("span",{staticClass:"font-bold"},[t._v("Verification")]),t._v(" Dashboard")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-md ff-medium font-bold"},[t._v("Users")])])}],_e=(a("96cf"),a("1da1")),Ce={data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},isShowUserChildMenu:!1,isShowLimitChildMenu:!1,pendingUsersCount:0,pendingLimitUsersCount:0}},created:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t,t.initializeShowHideListener(),console.log(a.$route.name),"Users"!=a.$route.name){e.next=7;break}return e.next=6,t.getUserStatusCount(1);case 6:a.pendingUsersCount=e.sent;case 7:if("Change Limit"!=a.$route.name){e.next=11;break}return e.next=10,t.getLimitStatusCount(0);case 10:a.pendingLimitUsersCount=e.sent;case 11:a.$on("refreshData",a.refreshData());case 12:case"end":return e.stop()}}),e)})))()},methods:{refreshData:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("refresh"),a=t,console.log(a.$route.name),"Users"!=a.$route.name){e.next=7;break}return e.next=6,t.getUserStatusCount(1);case 6:a.pendingUsersCount=e.sent;case 7:if("Change Limit"!=a.$route.name){e.next=11;break}return e.next=10,t.getLimitStatusCount(0);case 10:a.pendingLimitUsersCount=e.sent;case 11:case"end":return e.stop()}}),e)})))()},toggleLoader:function(t,e){var a=this;a.$parent.toggleLoader(t,e)},initializeShowHideListener:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,document.addEventListener("click",function(){var t=Object(_e["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.isShowLimitChildMenu){t.next=5;break}return t.next=3,a.checkParentMatch(e,"sidemenu-limit-toggle");case 3:s=t.sent,a.isShowLimitChildMenu=s;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()},checkParentMatch:function(t,e){return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.target,r=document.getElementsByClassName(e)[0],void 0===r&&(r=document),i=s.parentNode,n=!1,i!=r){a.next=9;break}n=!0,a.next=17;break;case 9:if(i===r){a.next=17;break}if(o=i,null!=o){a.next=13;break}return a.abrupt("break",17);case 13:i=o.parentNode,i==r&&(n=!0),a.next=9;break;case 17:return a.abrupt("return",n);case 18:case"end":return a.stop()}}),a)})))()},toggleDrop:function(t){var e=this;e.isShowUserChildMenu="users"==t&&!e.isShowUserChildMenu,e.isShowLimitChildMenu="users"==t&&!e.isShowLimitChildMenu},getUserStatusCount:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,a.prev=1,r="/api/users?skip=0&limit=10000",null!=t&&(r+="&status=".concat(t)),a.next=6,Nt.a.get(r,s.requestedHeaders);case 6:return i=a.sent,a.abrupt("return",i.data.total);case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),e.$swal("Error!",a.t0,"error"),s.toggleLoader(!1);case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getLimitStatusCount:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,a.prev=1,r="/api/users/getuserupdatecredit?skip=0&limit=10000",null!=t&&(r+="&status=".concat(t)),a.next=6,Nt.a.get(r,s.requestedHeaders);case 6:return i=a.sent,a.abrupt("return",i.data.total);case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),e.$swal("Error!",a.t0,"error"),s.toggleLoader(!1);case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()}}},De=Ce,we=De,ye=Object(St["a"])(we,w,y,!1,null,null,null),ke=ye.exports,Pe=ke,Se=Pe,Me=(a("e6be"),Object(St["a"])(Se,be,he,!1,null,"401b280d",null)),Ae=Me.exports,Le={components:{Header:xe,Sidemenu:Ae,Loader:Kt},data:function(){return{showLoader:!1}},created:function(){},methods:{showLoading:function(){this.showLoader=!0},hideLoading:function(){this.showLoader=!1}}},Ee=Le,Re=Ee,Ne=Object(St["a"])(Re,k,P,!1,null,null,null),Ie=Ne.exports,je=Ie,$e=je,Oe=(a("351f"),Object(St["a"])($e,Gt,te,!1,null,"126f8985",null)),Fe=Oe.exports,Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-container"},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("Header"),a("div",{staticClass:"home-content px-4 pb-4 flex-1"},[a("div",{staticClass:"card p-5 h-full"},[a("div",{staticClass:"flex items-center w-full h-full no-data-content "},[a("div",{staticClass:"w-full text-center relative"},[a("img",{staticClass:"my-4 w-3/10",class:{"h-6/10":!1},attrs:{src:"../assets/img/Prototyping process.png",alt:""}}),t._m(0)])])])])],1)},Te=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-xl 2xl:text-2xl mt-5 2xl:mt-10 ff-medium"},[t._v("Designernya masih bertapa di Mars guys biar fiturnya maksimal."),a("br"),t._v("Ditunggu ya..")])}],qe={components:{Header:xe,Loader:Kt},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},loader:{isShow:!1,message:"Preparing"}}},created:function(){},methods:{}},Ye=qe,Be=Ye,He=Object(St["a"])(Be,S,M,!1,null,null,null),We=He.exports,Ve=We,ze=Ve,Ke=(a("092a"),Object(St["a"])(ze,Ue,Te,!1,null,"39211054",null)),Ze=Ke.exports,Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"users-list-container "},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("Header",{attrs:{headerOptions:t.headerOptions}}),a("div",{staticClass:"users-content overflow-y-auto flex flex-col relative"},["all"==t.statusSelected?a("AllUsers",{attrs:{headerOptions:t.setHeaderOptions}}):t._e(),"active"==t.statusSelected?a("Active",{attrs:{headerOptions:t.setHeaderOptions}}):t._e(),"pending"==t.statusSelected?a("Pending",{attrs:{headerOptions:t.setHeaderOptions}}):t._e(),"incomplete"==t.statusSelected?a("Incomplete",{attrs:{headerOptions:t.setHeaderOptions}}):t._e(),"banned"==t.statusSelected?a("Banned",{attrs:{headerOptions:t.setHeaderOptions}}):t._e(),"freeze"==t.statusSelected?a("Freeze",{attrs:{headerOptions:t.setHeaderOptions}}):t._e(),"approved"==t.statusSelected?a("Approved",{attrs:{headerOptions:t.setHeaderOptions}}):t._e(),"rejected"==t.statusSelected?a("Rejected",{attrs:{headerOptions:t.setHeaderOptions}}):t._e()],1)],1)},Xe=[],Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._e(),a("div",{staticClass:"users-status-count-wrapper px-4 pb-4"},[a("div",{staticClass:"user-count-div grid grid-cols-4 gap-3"},[a("div",{staticClass:"card p-5 cursor-pointer border-2 border-white",class:{active:"all"==t.activeStatus},on:{click:function(e){return t.selectUserStatus("all")}}},[t._m(0),a("div",[null===t.statusCount.all?a("InsideSpinner",{attrs:{options:{}}}):t._e(),null!=t.statusCount.all?a("p",{staticClass:"text-xl 2xl:text-2xl ff-light"},[t._v(t._s(t.statusCount.all))]):t._e()],1)]),a("div",{staticClass:"card p-5 cursor-pointer border-2 border-white",class:{active:"active"==t.activeStatus},on:{click:function(e){return t.selectUserStatus(2)}}},[t._m(1),a("div",[null===t.statusCount.active?a("InsideSpinner",{attrs:{options:{}}}):t._e(),null!=t.statusCount.active?a("p",{staticClass:"text-xl 2xl:text-2xl ff-light"},[t._v(t._s(t.statusCount.active))]):t._e()],1)]),a("div",{staticClass:"card p-5 cursor-pointer border-2 border-white",class:{active:"pending"==t.activeStatus},on:{click:function(e){return t.selectUserStatus(1)}}},[t._m(2),a("div",[null===t.statusCount.pending?a("InsideSpinner",{attrs:{options:{}}}):t._e(),null!=t.statusCount.pending?a("p",{staticClass:"text-xl 2xl:text-2xl ff-light"},[t._v(t._s(t.statusCount.pending))]):t._e()],1)]),a("div",{staticClass:"card p-5 cursor-pointer border-2 border-white",class:{active:"incomplete"==t.activeStatus},on:{click:function(e){return t.selectUserStatus(0)}}},[t._m(3),a("div",[null===t.statusCount.incomplete?a("InsideSpinner",{attrs:{options:{}}}):t._e(),null!=t.statusCount.incomplete?a("p",{staticClass:"text-xl 2xl:text-2xl ff-light"},[t._v(t._s(t.statusCount.incomplete))]):t._e()],1)]),a("div",{staticClass:"card p-5 cursor-pointer border-2 border-white",class:{active:"banned"==t.activeStatus},on:{click:function(e){return t.selectUserStatus(3)}}},[t._m(4),a("div",[null===t.statusCount.banned?a("InsideSpinner",{attrs:{options:{}}}):t._e(),null!=t.statusCount.banned?a("p",{staticClass:"text-xl 2xl:text-2xl ff-light"},[t._v(t._s(t.statusCount.banned))]):t._e()],1)]),a("div",{staticClass:"card p-5 cursor-pointer border-2 border-white",class:{active:"freeze"==t.activeStatus},on:{click:function(e){return t.selectUserStatus(5)}}},[t._m(5),a("div",[null===t.statusCount.freeze?a("InsideSpinner",{attrs:{options:{}}}):t._e(),null!=t.statusCount.freeze?a("p",{staticClass:"text-xl 2xl:text-2xl ff-light"},[t._v(t._s(t.statusCount.freeze))]):t._e()],1)]),a("div",{staticClass:"card p-5 cursor-pointer border-2 border-white",class:{active:"approved"==t.activeStatus},on:{click:function(e){return t.selectUserStatus(6)}}},[t._m(6),a("div",[null===t.statusCount.approved?a("InsideSpinner",{attrs:{options:{}}}):t._e(),null!=t.statusCount.approved?a("p",{staticClass:"text-xl 2xl:text-2xl ff-light"},[t._v(t._s(t.statusCount.approved))]):t._e()],1)]),a("div",{staticClass:"card p-5 cursor-pointer border-2 border-white",class:{active:"rejected"==t.activeStatus},on:{click:function(e){return t.selectUserStatus(4)}}},[t._m(7),a("div",[null===t.statusCount.rejected?a("InsideSpinner",{attrs:{options:{}}}):t._e(),null!=t.statusCount.rejected?a("p",{staticClass:"text-xl 2xl:text-2xl ff-light"},[t._v(t._s(t.statusCount.rejected))]):t._e()],1)])])]),a("div",{staticClass:"users-list-content px-4 pb-4 flex-1"},[a("div",{staticClass:"card p-5 h-full"},[a("div",{staticClass:"flex items-center mb-6"},[a("p",{staticClass:"font-bold"},[t._v("List of users")]),a("div",{staticClass:"count-badge rounded-2xl px-4 py-1 inline-block font-bold text-xs ml-3",class:{"dot--all":"all"==t.activeStatus,"bg-v-status-pending text-white":"pending"==t.activeStatus,"bg-v-status-approved text-white":"approved"==t.activeStatus,"bg-v-status-rejected text-white":"rejected"==t.activeStatus,"bg-v-status-active text-white":"active"==t.activeStatus,"bg-v-status-incomplete text-white":"incomplete"==t.activeStatus,"bg-v-status-banned text-white":"banned"==t.activeStatus,"bg-v-status-freeze text-white":"freeze"==t.activeStatus}},[t._v(" "+t._s(t.paginationData.totalResultsRows)+" ")])]),a("div",{staticClass:"filter-container flex mb-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitFilter()}}},[a("div",{staticClass:"input-div with-icon border-r pr-4 mr-4"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("svg",{staticClass:"h-full text-gray-800",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.searchVal,expression:"filter.searchVal"}],staticClass:"min-w-350px",attrs:{type:"text",placeholder:"Cari nama, email, nomor hp, NIK"},domProps:{value:t.filter.searchVal},on:{input:function(e){e.target.composing||t.$set(t.filter,"searchVal",e.target.value)}}})])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},on:{input:t.filterDateChanged},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"Start Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.startDate,callback:function(e){t.$set(t.filter,"startDate",e)},expression:"filter.startDate"}})],1),a("span",{staticClass:"font-bold text-black-100 mx-5 text-sm"},[t._v("sampai")]),a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"End Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.endDate,callback:function(e){t.$set(t.filter,"endDate",e)},expression:"filter.endDate"}})],1),a("button",{staticClass:"btn bg-primaryBtn text-white px-10 py-4 font-bold ml-3 rounded-md",on:{click:function(e){return t.submitFilter()}}},[t._v("Cari")]),a("button",{staticClass:"btn border-none text-gray-400 font-bold p-2 ml-3",on:{click:t.removeFilter}},[t._v("reset filter")])])]),a("table",{staticClass:"w-full text-left"},[t._m(8),a("tbody",t._l(t.usersArr.data,(function(e,s){return a("tr",{key:e.index},[a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[a("p",{staticClass:"text-sm mb-1 font-bold text-violet"},[t._v(" "+t._s(e.detail?e.detail.name:"---")+" ")]),a("p",{staticClass:"text-gray-500 text-xs"},[t._v(" "+t._s(e.detail?e.detail.email:"---")+" ")])]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(e.mobileNumber?e.mobileNumber:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(e.ktp&&e.ktp.number?e.ktp.number:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6"},[a("div",{staticClass:"text-sm"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"DD MMM YYYY")))])]),a("div",{staticClass:"text-xs text-gray-500"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"HH:mm:ss"))+" WIB")])])]),a("td",{staticClass:"border-b-2 py-3 pr-6"},[0==e.status?a("div",{staticClass:"count-badge rounded-2xl text-center w-24 px-4 py-1 inline-block font-bold text-xs bg-v-status-incomplete text-white"},[t._v("Incomplete")]):t._e(),1==e.status?a("div",{staticClass:"count-badge rounded-2xl text-center w-24  px-4 py-1 inline-block font-bold text-xs bg-v-status-pending text-white"},[t._v("Pending")]):t._e(),2==e.status?a("div",{staticClass:"count-badge rounded-2xl text-center w-24 px-4 py-1 inline-block font-bold text-xs bg-v-status-active text-white"},[t._v("Active")]):t._e(),3==e.status?a("div",{staticClass:"count-badge rounded-2xl text-center w-24 px-4 py-1 inline-block font-bold text-xs bg-v-status-banned text-white"},[t._v("Banned")]):t._e(),4==e.status?a("div",{staticClass:"count-badge rounded-2xl text-center w-24 px-4 py-1 inline-block font-bold text-xs bg-v-status-rejected text-white"},[t._v("Rejected")]):t._e(),5==e.status?a("div",{staticClass:"count-badge rounded-2xl text-center w-24 px-4 py-1 inline-block font-bold text-xs bg-v-status-freeze text-white"},[t._v("Freeze")]):t._e(),6==e.status?a("div",{staticClass:"count-badge rounded-2xl text-center w-24 px-4 py-1 inline-block font-bold text-xs bg-v-status-approved text-white"},[t._v("Approved")]):t._e(),7==e.status?a("div",{staticClass:"count-badge rounded-2xl text-center w-24 px-4 py-1 inline-block font-bold text-xs dot--all text-black"},[t._v("In Review")]):t._e()]),a("td",{staticClass:"border-b-2 py-3 text-sm text-center"},[a("button",{staticClass:"btn border-2 font-bold border-violet font-bold py-2 px-4 rounded-md text-violet text-sm",on:{click:function(a){return t.goToUserDetails(e,s)}}},[t._v("Lihat Detail")])])])})),0)]),t.usersArr.data&&0==t.usersArr.data.length?a("div",{staticClass:"flex items-center w-full no-data-content ",class:{isAllUsers:!1}},[a("div",{staticClass:"w-full h-full text-center relative"},[a("img",{staticClass:"my-4 w-1/4",class:{"h-6/10":!1},attrs:{src:"../assets/img/no data results.png",alt:""}}),a("p",{staticClass:"text-xl 2xl:text-2xl mt-5 2xl:mt-10"},[t._v("Pencarian kamu tidak ditemukan")])])]):t._e(),t.usersArr.data&&t.usersArr.data.length>0?a("div",{staticClass:"flex text-sm py-3"},[a("div",{staticClass:"flex-1 flex font-bold"},[a("span",{staticClass:"mr-1"},[t._v("Terlihat")]),a("span",{staticClass:"mr-1"},[t._v(t._s(t.paginationData.resultStart)+"-"+t._s(t.paginationData.resultEnd))]),a("span",{staticClass:"mr-1"},[t._v("dari")]),a("span",[t._v(t._s(t.paginationData.totalResultsRows))])]),a("div",{staticClass:"flex-1 flex justify-end pr-5"},[t.paginationData.currentPage>1?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("prev")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})])]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(1)}}},[t._v("1")]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t._l(t.paginateTotalPages,(function(e){return a("div",{key:e.index,staticClass:"font-bold px-1 mx-1 h-5 cursor-pointer",class:{"text-violet":e!=t.paginationData.currentPage},on:{click:function(a){return t.selectPage(e)}}},[t._v(t._s(e))])})),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(t.paginationData.totalPages)}}},[t._v(t._s(t.paginationData.totalPages))]):t._e(),t.paginationData.currentPage<t.paginationData.totalPages?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("next")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"}})])]):t._e()],2)]):t._e()])])])},Ge=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex mb-5 items-center"},[a("div",{staticClass:"dot-div h-3 w-3 2xl:h-4 2xl:w-4 rounded-full mr-4 text-sm 2xl:text-base dot--all"}),a("p",{staticClass:"flex-1 font-bold text-sm"},[t._v("All users")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex mb-5 items-center"},[a("div",{staticClass:"dot-div h-3 w-3 2xl:h-4 2xl:w-4 rounded-full mr-4 text-sm 2xl:text-base bg-v-status-active"}),a("p",{staticClass:"flex-1 font-bold text-sm"},[t._v("Active")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex mb-5 items-center"},[a("div",{staticClass:"dot-div h-3 w-3 2xl:h-4 2xl:w-4 rounded-full mr-4 text-sm 2xl:text-base bg-v-status-pending"}),a("p",{staticClass:"flex-1 font-bold text-sm"},[t._v("Pending")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex mb-5 items-center"},[a("div",{staticClass:"dot-div h-3 w-3 2xl:h-4 2xl:w-4 rounded-full mr-4 text-sm 2xl:text-base bg-v-status-incomplete"}),a("p",{staticClass:"flex-1 font-bold text-sm"},[t._v("Incomplete")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex mb-5 items-center"},[a("div",{staticClass:"dot-div h-3 w-3 2xl:h-4 2xl:w-4 rounded-full mr-4 text-sm 2xl:text-base bg-v-status-banned"}),a("p",{staticClass:"flex-1 font-bold text-sm"},[t._v("Banned")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex mb-5 items-center"},[a("div",{staticClass:"dot-div h-3 w-3 2xl:h-4 2xl:w-4 rounded-full mr-4 text-sm 2xl:text-base bg-v-status-freeze"}),a("p",{staticClass:"flex-1 font-bold text-sm"},[t._v("Freeze")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex mb-5 items-center"},[a("div",{staticClass:"dot-div h-3 w-3 2xl:h-4 2xl:w-4 rounded-full mr-4 text-sm 2xl:text-base bg-v-status-approved"}),a("p",{staticClass:"flex-1 font-bold text-sm"},[t._v("Approved")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex mb-5 items-center"},[a("div",{staticClass:"dot-div h-3 w-3 2xl:h-4 2xl:w-4 rounded-full mr-4 text-sm 2xl:text-base bg-v-status-rejected"}),a("p",{staticClass:"flex-1 font-bold text-sm"},[t._v("Rejected")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nama")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nomor HP")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("NIK")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Waktu Daftar")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Status")]),a("th",{staticClass:"border-b-2 py-3 text-sm text-center"},[t._v("Aksi")])])])}],ta=(a("99af"),a("c740"),a("caad"),a("b64b"),a("07ac"),a("2532"),a("ddb0"),a("5530")),ea=a("2909"),aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner-container"},[a("div",{staticClass:"spinner",class:[t.options.class],style:{"border-width":t.options.borderWidth?t.options.borderWidth:"3px","border-left-color":t.options.borderColor?t.options.borderColor:"#393c8e","border-top-color":t.options.borderColor?t.options.borderColor:"#393c8e",width:t.options.width?t.options.width:"24px",height:t.options.height?t.options.height:"24px"}})])},sa=[],ra={props:{options:Object},data:function(){return{}},created:function(){},methods:{}},ia=ra,na=ia,oa=Object(St["a"])(na,A,L,!1,null,null,null),la=oa.exports,ca=la,da=ca,ua=(a("cdc7"),Object(St["a"])(da,aa,sa,!1,null,"6a6e1338",null)),ma=ua.exports,pa={components:{InsideSpinner:ma},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},filter:{searchVal:null,startDate:null,endDate:null},dateFormat:{input:"DD MMM YYYY"},paginationData:{totalResultsRows:1,currentPage:1,perPage:5,resultStart:1,resultEnd:1,totalPages:1},paginationCount:10,allUsers:[],usersArr:{},search:{},activeStatus:"all",statusCount:{all:null,active:null,pending:null,incomplete:null,banned:null,freeze:null,approved:null,rejected:null},isSearchActive:!1,isDatePickerActive:!1}},created:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.toggleLoader(!0),a.getEachTotalUsers(),e.next=5,a.getUserList(1);case 5:case"end":return e.stop()}}),e)})))()},computed:{paginateTotalPages:function(){var t=this;if(t.paginationData.totalPages>t.paginationCount){var e=[],a=t._.chunk(Object(ea["a"])(Array(t.paginationData.totalPages).keys()),10);return e=a[t._.findIndex(a,(function(e){return e.includes(t.paginationData.currentPage-1)}))],e=e.map((function(t){return t+1})),e[e.length-1]<t.paginationData.totalPages&&e.push(e[e.length-1]+1),e}return t.paginationData.totalPages}},methods:{decodeJwt:function(t){var e=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},a=function(t){return JSON.parse(e(t.split(".")[1].replace("-","+").replace("_","/")))};return a(t)},toggleLoader:function(t,e){var a=this;a.$parent.toggleLoader(t,e)},submitFilter:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e,null!=s.filter.searchVal||null!=s.filter.startDate||null!=s.filter.endDate){a.next=4;break}return s.$swal("Error!","Seems like you forgot to put something on search filters!","error"),a.abrupt("return",!1);case 4:if(null!=s.filter.startDate||!s.filter.endDate){a.next=7;break}return s.$swal("Error!","Please select a Start Date.","error"),a.abrupt("return",!1);case 7:if(!s.filter.startDate||null!=s.filter.endDate){a.next=10;break}return s.$swal("Error!","Please select an End Date.","error"),a.abrupt("return",!1);case 10:return r={date_from:s.filter.startDate?s.$moment(s.filter.startDate).format("YYYY-MM-DD"):null,date_to:s.filter.endDate?s.$moment(s.filter.endDate).format("YYYY-MM-DD"):null,filter:s.filter.searchVal},"all"!=s.activeStatus&&(r.filterStatus=s.getStatusValue(s.activeStatus)),console.log(r),s.isSearchActive=!0,s.toggleLoader(!0,"Loading data"),s.paginationData.currentPage=void 0!==t?s.paginationData.currentPage:1,a.next=18,s.getUserList(s.paginationData.currentPage,r);case 18:case"end":return a.stop()}}),a)})))()},removeFilter:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.isSearchActive=!1,a.filter={searchVal:null,startDate:null,endDate:null},a.isDatePickerActive=!1,a.toggleLoader(!0,"Loading data"),e.next=7,a.getUserList(1);case 7:case"end":return e.stop()}}),e)})))()},filterDateChanged:function(){var t=this;t.isDatePickerActive=!0},selectUserStatus:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:s=e,s.activeStatus="all"==t?"all":s.getStatusValue(t),s.toggleLoader(!0,"Loading data"),s.isSearchActive?s.submitFilter(1):s.getUserList(1);case 4:case"end":return a.stop()}}),a)})))()},getStatusValue:function(t){var e="",a="";switch(t){case 0:case"incomplete":e="incomplete",a=0;break;case 1:case"pending":e="pending",a=1;break;case 2:case"active":e="active",a=2;break;case 3:case"banned":e="banned",a=3;break;case 4:case"rejected":e="rejected",a=4;break;case 5:case"freeze":e="freeze",a=5;break;case 6:case"approved":e="approved",a=6;break;default:e="",a=null;break}return"number"==typeof t?e:a},goToUserDetails:function(t){var e=this,a=e.getStatusValue(t.status);""!=a&&e.$router.push({name:"User Details",params:{id:t._id}})},getAllUsers:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/users?skip=0&limit=10000",e.next=4,Nt.a.get(s,a.requestedHeaders);case 4:r=e.sent,a.allUsers=r.data.data;case 6:case"end":return e.stop()}}),e)})))()},totalUsers:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,a.prev=1,r="/api/users?skip=0&limit=10000".concat(void 0!==t?"&".concat(Object.keys(t),"=").concat(Object.values(t)):""),"all"!=s.activeStatus&&(r+="&status=".concat(s.getStatusValue(s.activeStatus))),a.next=6,Nt.a.get(r,s.requestedHeaders);case 6:i=a.sent,s.paginationData.totalResultsRows=i.data.total,a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),e.$swal("Error!",a.t0,"error"),s.toggleLoader(!1);case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getUserList:function(t,e){var a=this;return Object(_e["a"])(regeneratorRuntime.mark((function s(){var r,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=a,1==r.paginationData.currentPage?i=0:r.paginationData.currentPage==t&&(i=(t-1)*r.paginationData.perPage),n="/api/users?&skip=".concat(i,"&limit=").concat(r.paginationData.perPage),void 0!==e&&Object.keys(e).map((function(t){return null!=e[t]&&(n+="&".concat(t,"=").concat(e[t]))})),"all"!=r.activeStatus&&(n+="&status=".concat(r.getStatusValue(r.activeStatus))),r.toggleLoader(!0,"Loading data"),s.next=8,Nt.a.get(n,r.requestedHeaders).then((function(e){console.log(e),r.usersArr=e.data,r.paginationData.totalResultsRows=e.data.total,r.paginationData=Object(ta["a"])(Object(ta["a"])({},r.paginationData),{resultStart:i+1,resultEnd:i+r.usersArr.data.length,totalPages:Math.ceil(r.paginationData.totalResultsRows/r.paginationData.perPage),currentPage:t}),r.toggleLoader(!1)})).catch((function(t){console.log(t),r.$swal("Error!",t,"error"),r.toggleLoader(!1)}));case 8:case"end":return s.stop()}}),s)})))()},selectPage:function(t){var e=this;e.paginationData.currentPage=t,e.isSearchActive?e.submitFilter(t):e.getUserList(t)},changePage:function(t){var e=this;e.paginationData.currentPage="prev"==t?e.paginationData.currentPage-1:e.paginationData.currentPage+1,e.isSearchActive?e.submitFilter(e.paginationData.currentPage):e.getUserList(e.paginationData.currentPage)},getEachTotalUsers:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,a.getUserStatusCount(null);case 3:return a.statusCount.all=e.sent,e.next=6,a.getUserStatusCount(2);case 6:return a.statusCount.active=e.sent,e.next=9,a.getUserStatusCount(1);case 9:return a.statusCount.pending=e.sent,e.next=12,a.getUserStatusCount(0);case 12:return a.statusCount.incomplete=e.sent,e.next=15,a.getUserStatusCount(3);case 15:return a.statusCount.banned=e.sent,e.next=18,a.getUserStatusCount(5);case 18:return a.statusCount.freeze=e.sent,e.next=21,a.getUserStatusCount(6);case 21:return a.statusCount.approved=e.sent,e.next=24,a.getUserStatusCount(4);case 24:a.statusCount.rejected=e.sent;case 25:case"end":return e.stop()}}),e)})))()},getUserStatusCount:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,a.prev=1,r="/api/users?skip=0",null!=t&&(r+="&status=".concat(t)),a.next=6,Nt.a.get(r,s.requestedHeaders);case 6:return i=a.sent,a.abrupt("return",i.data.total);case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),e.$swal("Error!",a.t0,"error"),s.toggleLoader(!1);case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()}}},fa=pa,ga=fa,va=Object(St["a"])(ga,E,R,!1,null,null,null),xa=va.exports,ba=xa,ha=ba,_a=(a("9682"),Object(St["a"])(ha,Qe,Ge,!1,null,"1ab3678b",null)),Ca=_a.exports,Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isBanStatusAlertShow?a("div",{staticClass:"bg-white p-4 rounded-xl shadow-md fixed right-10 top-14 z-50 w-68"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"icon mr-4"},[a("img",{staticClass:"max-w-40px",attrs:{src:"../assets/img/check-green-circle.png",alt:""}})]),t._m(0),a("div",{staticClass:"w-1 relative"},[a("a",{staticClass:"relative -top-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.closeAlert(e)}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"times",size:"sm"}})],1)])])]):t._e(),a("div",{staticClass:"users-list-content px-4 pb-4 flex-1"},[a("div",{staticClass:"card p-5 h-full"},[a("div",{staticClass:"filter-container flex mb-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitFilter(e)}}},[a("div",{staticClass:"input-div with-icon border-r pr-4 mr-4"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("svg",{staticClass:"h-full text-gray-800",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.searchVal,expression:"filter.searchVal"}],staticClass:"min-w-350px",attrs:{type:"text",placeholder:"Cari nama, email, nomor hp, NIK"},domProps:{value:t.filter.searchVal},on:{input:function(e){e.target.composing||t.$set(t.filter,"searchVal",e.target.value)}}})])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},on:{input:t.filterDateChanged},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"Start Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.startDate,callback:function(e){t.$set(t.filter,"startDate",e)},expression:"filter.startDate"}})],1),a("span",{staticClass:"font-bold text-black-100 mx-5 text-sm"},[t._v("sampai")]),a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"End Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.endDate,callback:function(e){t.$set(t.filter,"endDate",e)},expression:"filter.endDate"}})],1),a("button",{staticClass:"btn bg-primaryBtn text-white px-10 py-4 font-bold ml-3 rounded-md",on:{click:t.submitFilter}},[t._v("Cari")]),a("button",{staticClass:"btn border-none text-gray-400 font-bold p-2 ml-3",on:{click:t.removeFilter}},[t._v("reset filter")])])]),a("table",{staticClass:"w-full text-left"},[t._m(1),a("tbody",t._l(t.usersArr.data,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"border-b-2 py-3 pr-6 text-xs 2xl:text-sm"},[a("p",{staticClass:"text-xs 2xl:text-sm mb-1 font-bold text-violet"},[t._v(" "+t._s(e.detail?e.detail.name:"---")+" ")]),a("p",{staticClass:"text-gray-500 text-xxs 2xl:text-xs"},[t._v(" "+t._s(e.detail?e.detail.email:"---")+" ")])]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-xs 2xl:text-sm"},[t._v(" "+t._s(e.mobileNumber?e.mobileNumber:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-xs 2xl:text-sm"},[t._v(" "+t._s(e.ktp&&e.ktp.number?e.ktp.number:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-xs 2xl:text-sm font-bold"},[t._v(" "+t._s(t._f("currency")(e.credit))+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-xs 2xl:text-sm"},[a("div",{staticClass:"flex mb-1 text-xs 2xl:text-sm"},[a("span",[t._v(t._s(t._f("currency")(e.credit-e.remainingCredit)))])]),a("div",{staticClass:"flex text-xxs 2xl:text-xs color--blue font-bold"},[a("label",{staticClass:"mr-1"},[t._v("Sisa :")]),a("span",[t._v(t._s(t._f("currency")(e.remainingCredit)))])])]),a("td",{staticClass:"border-b-2 py-3 pr-6"},[a("div",{staticClass:"text-xs 2xl:text-sm"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"DD MMM YYYY")))])]),a("div",{staticClass:"text-xxs 2xl:text-xs text-gray-500"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"HH:mm:ss"))+" WIB")])])]),a("td",{staticClass:"border-b-2 py-3 text-xs 2xl:text-sm text-center"},[a("div",{staticClass:"mr-3 inline-block "},[a("a",{staticClass:"relative has-tooltip",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toggleModals(!0,"ban",e)}}},[a("img",{staticClass:"w-6",attrs:{src:"../assets/img/banned.png",alt:""}}),t._m(2,!0)])]),a("div",{staticClass:"mr-3 inline-block relative"},[a("a",{staticClass:"relative has-tooltip",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toggleModals(!0,"transaction",e)}}},[a("img",{staticClass:"w-6",attrs:{src:"../assets/img/transactions.png",alt:""}}),t._m(3,!0)])]),a("button",{staticClass:"btn border-2 font-bold border-violet font-bold py-2 px-3 rounded-md text-violet text-sm",on:{click:function(a){return t.goToUserDetails(e)}}},[t._v("Lihat Detail")])])])})),0)]),t.usersArr.data&&0==t.usersArr.data.length?a("div",{staticClass:"flex items-center w-full no-data-content "},[a("div",{staticClass:"w-full h-full text-center relative"},[a("img",{staticClass:"my-4 w-1/4",class:{"h-6/10":!1},attrs:{src:"../assets/img/no data results.png",alt:""}}),a("p",{staticClass:"text-xl 2xl:text-2xl mt-5 2xl:mt-10"},[t._v("Pencarian kamu tidak ditemukan")])])]):t._e(),t.usersArr.data&&t.usersArr.data.length>0?a("div",{staticClass:"flex text-sm py-3"},[a("div",{staticClass:"flex-1 flex font-bold"},[a("span",{staticClass:"mr-1"},[t._v("Terlihat")]),a("span",{staticClass:"mr-1"},[t._v(t._s(t.paginationData.resultStart)+"-"+t._s(t.paginationData.resultEnd))]),a("span",{staticClass:"mr-1"},[t._v("dari")]),a("span",[t._v(t._s(t.paginationData.totalResultsRows))])]),a("div",{staticClass:"flex-1 flex justify-end pr-5"},[t.paginationData.currentPage>1?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("prev")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})])]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(1)}}},[t._v("1")]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t._l(t.paginateTotalPages,(function(e){return a("div",{key:e.index,staticClass:"font-bold px-1 mx-1 h-5 cursor-pointer",class:{"text-violet":e!=t.paginationData.currentPage},on:{click:function(a){return t.selectPage(e)}}},[t._v(t._s(e))])})),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(t.paginationData.totalPages)}}},[t._v(t._s(t.paginationData.totalPages))]):t._e(),t.paginationData.currentPage<t.paginationData.totalPages?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("next")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"}})])]):t._e()],2)]):t._e()])]),a("Modal",{attrs:{title:"List Transaksi","modal-class":"modal-wrapper max-w-none w-9/10"},model:{value:t.isTransModalShow,callback:function(e){t.isTransModalShow=e},expression:"isTransModalShow"}},[a("TransactionsModal",{attrs:{user:t.selectedUser,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Banned Confirmation","modal-class":"modal-wrapper"},model:{value:t.isBanUserModalShow,callback:function(e){t.isBanUserModalShow=e},expression:"isBanUserModalShow"}},[a("BanUserModal",{attrs:{user:t.selectedUser,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1)],1)},wa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-1"},[a("p",{staticClass:"mb-1 text-sm font-bold"},[t._v("User Banned")]),a("p",{staticClass:"text-sm"},[t._v("Kamu berhasil banned user. ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nama")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nomor HP")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("NIK")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Limit")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Limit digunakan")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Waktu Daftar")]),a("th",{staticClass:"border-b-2 py-3 text-sm text-center w-48"},[t._v("Aksi")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom-tooltip ban"},[a("div",{staticClass:"text-white bg-gray-700 rounded-md py-1 px-3 font-bold relative z-20"},[t._v("Banned")]),a("div",{staticClass:"top-2 h-3 w-3 bg-gray-700 transform rotate-45 relative -top-2 inline-block z-10"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom-tooltip trans"},[a("div",{staticClass:"text-white bg-gray-700 rounded-md py-1 px-3 font-bold relative z-20"},[t._v("Transaction")]),a("div",{staticClass:"h-3 w-3 bg-gray-700 transform rotate-45 relative -top-2 inline-block z-10"})])}],ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"w-full"},[t._m(0),t._l(t.transactionsArr,(function(e){return a("tbody",{key:e.index},[a("tr",{staticClass:"cursor-pointer",on:{click:function(a){return t.toggleTransDrop(e)}}},[a("td",{staticClass:"border-b text-xs text-left py-3 pr-3"},[t._v(t._s(e.transactionNumber?e.transactionNumber:"---"))]),a("td",{staticClass:"border-b text-xs text-left py-3 pr-3"},[t._v(t._s(e.store?e.store.name:"---"))]),a("td",{staticClass:"border-b text-xs text-left py-3 pr-3"},[t._v("Cicilan ke- "+t._s(1==e.status?"2nd":2==e.status?"3rd":3==e.status||4==e.status?"4th":"1st"))]),a("td",{staticClass:"border-b text-xs text-left py-3 pr-3"},[t._v(t._s(t._f("currency")(e.total)))]),a("td",{staticClass:"border-b text-right"},[e.showDrop?t._e():a("svg",{staticClass:"text-gray-500 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})]),e.showDrop?a("svg",{staticClass:"text-gray-500 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"}})]):t._e()])]),e.showDrop?a("tr",t._l(e.termins,(function(s,r){return a("td",{key:s.index,staticClass:"p-3 border-r-2 border-white align-top",class:{"trans--success":!t.mapTransactionTerms(s).btnGenerateVA,"trans--warning":t.mapTransactionTerms(s).btnGenerateVA,"trans--danger":1==s.number&&!t.mapTransactionTerms(s).paymentStatus},attrs:{colspan:3==r?2:1}},[a("p",{staticClass:"font-bold text-xs text-gray-500 mb-2"},[t._v(" "+t._s(0==r?"1st":1==r?"2nd":2==r?"3rd":3==r?"4th":"N/A")+" ")]),a("div",{staticClass:"rounded-2xl py-2 px-8 mb-3 text-white font-bold inline-block text-xs",class:{"bdg-status--success":!t.mapTransactionTerms(s).btnGenerateVA,"bdg-status--warning":t.mapTransactionTerms(s).btnGenerateVA,"bdg-status--danger":1==s.number&&!t.mapTransactionTerms(s).paymentStatus}},[t._v(t._s(t.mapTransactionTerms(s).msg))]),a("div",{staticClass:"flex items-center mb-2"},[a("div",{staticClass:"w-4 mr-3"},[a("img",{staticClass:"w-full block",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 text-xs"},[t.mapTransactionTerms(s).paid_date?a("span",[t._v(t._s(t._f("moment")(t.mapTransactionTerms(s).paid_date,"DD MMM YYYY")))]):t._e(),t.mapTransactionTerms(s).paid_date?t._e():a("span",[t._v(t._s("---"))])])]),a("div",{staticClass:"flex items-center mb-2"},[a("div",{staticClass:"w-4 mr-3"},[a("img",{staticClass:"w-full block",attrs:{src:"../assets/img/money.png",alt:""}})]),a("div",{staticClass:"flex-1 text-xs font-bold"},[t._v(" "+t._s(t._f("currency")(5!=t.user.status?t.mapTransactionTerms(s).total:parseFloat(s.total)+parseFloat(s.lateFee)))+" ")])]),r>0?a("div",[a("div",{staticClass:"flex mb-2"},[t._m(1,!0),a("p",{staticClass:"text-xs flex-1"},[t._v(" "+t._s(t._f("moment")(s.due.date,"DD MMM YYYY"))+" ")])]),a("div",{staticClass:"flex mb-2"},[t._m(2,!0),a("p",{staticClass:"text-xs flex-1"},[t._v(" "+t._s(s.paid.payment_id?s.paid.payment_id:"---")+" ")])]),a("div",{staticClass:"flex mb-2"},[t._m(3,!0),a("p",{staticClass:"text-xs flex-1"},[t._v(" "+t._s(t._f("moment")(t.mapTransactionTerms(s).paid_date,"DD MMM YYYY"))+" ")])]),a("div",{staticClass:"flex mb-2"},[t._m(4,!0),a("p",{staticClass:"text-xs flex-1"},[t._v(" "+t._s(t._f("currency")(s.reimbursement))+" ")])]),a("button",{staticClass:"btn rounded-md px-8 py-2 bg-white border border-violet w-44 text-xs text-violet font-bold mt-2 mb-3",on:{click:function(a){return a.preventDefault(),t.checkPayment(e,s)}}},[t._v("Check Payment")]),a("div",{staticClass:"mb-3"},[a("div",{staticClass:"input-div mb-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.generateVAforUnpaidInstallmentBankInput[s._id],expression:"generateVAforUnpaidInstallmentBankInput[terms._id]"}],staticClass:"va-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.generateVAforUnpaidInstallmentBankInput,s._id,e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Select a bank")]),a("option",{attrs:{value:"BNI"}},[t._v("BNI")]),a("option",{attrs:{value:"MANDIRI"}},[t._v("Mandiri")]),a("option",{attrs:{value:"PERMATA"}},[t._v("Permata")]),a("option",{attrs:{value:"BRI"}},[t._v("BRI")])])]),a("button",{staticClass:"btn bg-violet rounded-md text-sm font-bold text-white mt-1 w-44 px-8 py-2",on:{click:function(a){return a.preventDefault(),t.generateVAforUnpaidInstallment(e,s)}}},[t._v("Generate VA")])]),5==t.user.status&&0!==s.lateFee?a("div",[a("div",{staticClass:"input-div mb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reqAdjustLateFee[s._id],expression:"reqAdjustLateFee[terms._id]"}],staticClass:"late-fee-input",attrs:{type:"number",placeholder:"Masukkan disini"},domProps:{value:t.reqAdjustLateFee[s._id]},on:{input:function(e){e.target.composing||t.$set(t.reqAdjustLateFee,s._id,e.target.value)}}})]),a("button",{staticClass:"btn bg-dangerBtn rounded-md text-sm font-bold text-white mt-1 w-44 px-8 py-2",on:{click:function(a){return a.preventDefault(),t.adjustLateFee(e._id,s._id,s)}}},[t._v("Adjust Late Fee")])]):t._e()]):t._e()])})),0):t._e()])}))],2)])},ka=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"border-b font-bold text-xs text-left pb-3 pr-3"},[t._v("Nomor Transaksi")]),a("th",{staticClass:"border-b font-bold text-xs text-left pb-3 pr-3"},[t._v("Merchant")]),a("th",{staticClass:"border-b font-bold text-xs text-left pb-3 pr-3"},[t._v("Status Pembayaran")]),a("th",{staticClass:"border-b font-bold text-xs text-left pb-3 pr-3"},[t._v("Total Transaksi")]),a("th",{staticClass:"border-b w-5 text-right"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"font-bold text-red-500 text-xs relative flex-1"},[t._v("Masa Berlaku Cicilan "),a("span",{staticClass:"absolute top-0 right-2 font-bold text-gray-500"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 text-xs relative flex-1"},[t._v("Nomor VA "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 text-xs relative flex-1"},[t._v("Masa Berlaku VA "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 text-xs relative flex-1"},[t._v("Reimburse "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])}],Pa={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},transactionsArr:[],generateVAforUnpaidInstallmentBankInput:[],reqAdjustLateFee:[]}},created:function(){var t=this;t.getTransactionList()},methods:{getTransactionList:function(){var t=this;t.toggleLoader(!0,"Loading data"),Nt.a.get("".concat("https://api.empatkali.co.id/admin","/api/approvedtransactions?skip=0&limit=0&user=").concat(t.user._id),t.requestedHeaders).then((function(e){console.log(e),t.transactionsArr=e.data,t.toggleLoader(!1)})).catch((function(e){console.log(e),t.$swal("Error!",e,"error"),t.toggleLoader(!1)}))},toggleTransDrop:function(t){var e=this;t.showDrop=1!=t.showDrop,e.$forceUpdate()},mapTransactionTerms:function(t){var e=this,a={payment_id:t.paid.payment_id,paid_date:t.paid.date};return a.total=parseFloat(t.total)+parseFloat(t.lateFee)+t.reimbursement,e.reqAdjustLateFee[t._id]=t.lateFee,this.generateVAforUnpaidInstallmentBankInput[t._id]="",a.btnCheckPayment=!1,a.btnGenerateVA=!1,1!==t.number?201!=t.paid.status_code&&200!=t.paid.status_code||!t.paid.status?""!=t.paid.payment_id||201!=t.paid.status_code||t.paid.status?""==t.paid.payment_id||201!=t.paid.status_code||t.paid.status||(a.msg="VA telah di buat",a.dateLabel="Dibuat pada",a.btnCheckPayment=!0,a.btnGenerateVA=!0):(a.msg="VA belum di buat",a.btnCheckPayment=!0,a.btnGenerateVA=!0):(a.msg="Va telah dibayar",a.dateLabel="Dibayar pada"):t.paid.status?(a.msg="Paid",a.dateLabel="Dibuat pada",a.paymentStatus=!0):(a.msg="Not Paid",a.paymentStatus=!1),a},generateVAforUnpaidInstallment:function(t,e){var a=this,s={terminId:e._id,bank:a.generateVAforUnpaidInstallmentBankInput[e._id]};if(""==a.generateVAforUnpaidInstallmentBankInput[e._id])return a.$swal("Error!","Please select a bank","error"),!1;a.toggleLoader(!0,"Generating"),Nt.a.post("/api/approvedtransactions/injectva/".concat(t._id),s,a.requestedHeaders).then((function(t){console.log(t),a.toggleLoader(!1),e.paid.payment_id=t.data.virtual_account,a.generateVAforUnpaidInstallmentBankInput[e._id]="",a.$forceUpdate(),a.$swal("Success!","Successfully generated!","success")})).catch((function(t){console.log(t),a.$swal("Error!",t.response,"error"),console.log(t.response),a.toggleLoader(!1)}))},checkPayment:function(t,e){var a=this;return Object(_e["a"])(regeneratorRuntime.mark((function s(){var r,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=a,i={transactionNumber:t.transactionNumber,terminNumber:e.number},r.toggleLoader(!0,"Checking"),s.prev=3,s.next=6,Nt.a.post("/api/approvedtransactions/checkpayment",i,r.requestedHeaders);case 6:n=s.sent,r.toggleLoader(!1),r.$swal("",n.data,"info"),s.next=16;break;case 11:s.prev=11,s.t0=s["catch"](3),console.log(s.t0),r.toggleLoader(!1),r.$swal("Error!","Tidak ada pembayaran untuk transaksi ini.","error");case 16:case"end":return s.stop()}}),s,null,[[3,11]])})))()},adjustLateFee:function(t,e,a){var s=this;if(!s.reqAdjustLateFee[e]||""==s.reqAdjustLateFee[e])return s.$swal("Error","Mohon isi latefee terlebih dahulu","error"),!1;s.$swal({title:"Adjust late fee?",text:"Late fee will be adjusted to ".concat(s.reqAdjustLateFee[e],", sure?"),type:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Adjust"}).then((function(r){if(r.value){var i={terminId:e,amount:s.reqAdjustLateFee[e]};Nt.a.post("/api/approvedtransactions/".concat(t,"/adjustlatefee"),i,s.requestedHeaders).then((function(){a.lateFee=s.reqAdjustLateFee[e],s.$swal("Success!","Late fee adjusted accordingly.","success")}))}}))}}},Sa=Pa,Ma=(a("c7f9"),Object(St["a"])(Sa,ya,ka,!1,null,"27083045",null)),Aa=Ma.exports,La=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"text-sm mt-2 mb-4"},[t._v("Kamu yakin akan banned user ini :")]),a("div",{staticClass:"flex mb-3"},[t._m(0),a("p",{staticClass:"flex-1 text-sm font-bold"},[t._v(t._s(t.user.detail?t.user.detail.name:"---"))])]),a("div",{staticClass:"flex mb-3"},[t._m(1),a("p",{staticClass:"flex-1 text-sm"},[t._v(t._s(t.user.mobileNumber?t.user.mobileNumber:"---"))])]),a("div",{staticClass:"flex mb-3"},[t._m(2),a("p",{staticClass:"flex-1 text-sm text-violet font-bold"},[t._v(t._s(t.user.detail?t.user.detail.email:"---"))])]),a("div",{staticClass:"text-right mt-8"},[a("button",{staticClass:"btn px-4 py-2 mx-1 text-violet font-bold rounded-md text-sm",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"ban")}}},[t._v("Batal")]),a("button",{staticClass:"btn px-6 py-3 mx-1 bg-black font-bold text-white rounded-md text-sm",on:{click:t.banUser}},[t._v("Banned")])])])},Ea=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Nama "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Nomor HP "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Email "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])}],Ra={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}}}},created:function(){},methods:{banUser:function(){var t=this,e={user:t.user._id};t.toggleLoader(!0),Nt.a.post("/api/users/banninguser",e,t.requestedHeaders).then((function(e){console.log(e),t.requestSuccess("ban")})).catch((function(e){console.log(e),t.$swal("Error!",e,"error"),t.toggleLoader(!1)}))}}},Na=Ra,Ia=Object(St["a"])(Na,La,Ea,!1,null,"612a39b6",null),ja=Ia.exports,$a={components:{TransactionsModal:Aa,BanUserModal:ja},props:{headerOptions:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},filter:{searchVal:null,startDate:null,endDate:null},dateFormat:{input:"DD MMM YYYY"},paginationData:{totalResultsRows:1,currentPage:1,perPage:10,resultStart:1,resultEnd:1,totalPages:1},paginationCount:10,allUsers:[],usersArr:{},search:{},isTransModalShow:!1,isBanUserModalShow:!1,selectedUser:null,isBanStatusAlertShow:!1,isSearchActive:!1,isDatePickerActive:!1}},created:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.toggleLoader(!0),e.next=4,a.getUserList(1);case 4:case"end":return e.stop()}}),e)})))()},computed:{paginateTotalPages:function(){var t=this;if(t.paginationData.totalPages>t.paginationCount){var e=[],a=t._.chunk(Object(ea["a"])(Array(t.paginationData.totalPages).keys()),10);return e=a[t._.findIndex(a,(function(e){return e.includes(t.paginationData.currentPage-1)}))],e=e.map((function(t){return t+1})),e[e.length-1]<t.paginationData.totalPages&&e.push(e[e.length-1]+1),e}return t.paginationData.totalPages}},methods:{decodeJwt:function(t){var e=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},a=function(t){return JSON.parse(e(t.split(".")[1].replace("-","+").replace("_","/")))};return a(t)},toggleLoader:function(t,e){var a=this;a.$parent.toggleLoader(t,e)},submitFilter:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e,null!=s.filter.searchVal||null!=s.filter.startDate||null!=s.filter.endDate){a.next=4;break}return s.$swal("Error!","Seems like you forgot to put something on search filters!","error"),a.abrupt("return",!1);case 4:if(null!=s.filter.startDate||!s.filter.endDate){a.next=7;break}return s.$swal("Error!","Please select a Start Date.","error"),a.abrupt("return",!1);case 7:if(!s.filter.startDate||null!=s.filter.endDate){a.next=10;break}return s.$swal("Error!","Please select an End Date.","error"),a.abrupt("return",!1);case 10:return r={date_from:s.filter.startDate?s.$moment(s.filter.startDate).format("YYYY-MM-DD"):null,date_to:s.filter.endDate?s.$moment(s.filter.endDate).format("YYYY-MM-DD"):null,filter:s.filter.searchVal,filterStatus:2},s.isSearchActive=!0,s.toggleLoader(!0,"Loading data"),s.paginationData.currentPage=void 0!==t?s.paginationData.currentPage:1,a.next=16,s.getUserList(s.paginationData.currentPage,r);case 16:case"end":return a.stop()}}),a)})))()},removeFilter:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.isSearchActive=!1,a.filter={searchVal:null,startDate:null,endDate:null},a.isDatePickerActive=!1,a.toggleLoader(!0,"Loading data"),e.next=7,a.getUserList(1);case 7:case"end":return e.stop()}}),e)})))()},filterDateChanged:function(){var t=this;t.isDatePickerActive=!0},goToUserDetails:function(t){var e=this;e.$router.push({name:"User Details",params:{id:t._id}})},getAllUsers:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/users?skip=0&limit=10000",e.next=4,Nt.a.get(s,a.requestedHeaders);case 4:r=e.sent,a.allUsers=r.data.data;case 6:case"end":return e.stop()}}),e)})))()},totalUsers:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,a.prev=1,r="/api/users?status=2&skip=0&limit=10000".concat(void 0!==t?"&".concat(Object.keys(t),"=").concat(Object.values(t)):""),a.next=5,Nt.a.get(r,s.requestedHeaders);case 5:i=a.sent,s.paginationData.totalResultsRows=i.data.total,s.headerOptions({startDate:new Date,endDate:new Date,resultCount:s.paginationData.totalResultsRows}),a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),e.$swal("Error!",a.t0,"error"),s.toggleLoader(!1);case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getUserList:function(t,e){var a=this;return Object(_e["a"])(regeneratorRuntime.mark((function s(){var r,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=a,1==r.paginationData.currentPage?i=0:r.paginationData.currentPage==t&&(i=(t-1)*r.paginationData.perPage),n="/api/users?status=2&skip=".concat(i,"&limit=").concat(r.paginationData.perPage),void 0!==e&&Object.keys(e).map((function(t){return null!=e[t]&&(n+="&".concat(t,"=").concat(e[t]))})),r.toggleLoader(!0,"Loading data"),s.next=7,Nt.a.get(n,r.requestedHeaders).then((function(e){console.log(e),r.usersArr=e.data,r.paginationData.totalResultsRows=e.data.total,r.paginationData=Object(ta["a"])(Object(ta["a"])({},r.paginationData),{resultStart:i+1,resultEnd:i+r.usersArr.data.length,totalPages:Math.ceil(r.paginationData.totalResultsRows/r.paginationData.perPage),currentPage:t}),console.log(r.paginationData),r.headerOptions({startDate:new Date,endDate:new Date,resultCount:r.paginationData.totalResultsRows}),r.toggleLoader(!1)})).catch((function(t){console.log(t),r.$swal("Error!",t,"error"),r.toggleLoader(!1)}));case 7:case"end":return s.stop()}}),s)})))()},selectPage:function(t){var e=this;e.paginationData.currentPage=t,e.isSearchActive?e.submitFilter(t):e.getUserList(t)},changePage:function(t){var e=this;e.paginationData.currentPage="prev"==t?e.paginationData.currentPage-1:e.paginationData.currentPage+1,e.isSearchActive?e.submitFilter(e.paginationData.currentPage):e.getUserList(e.paginationData.currentPage)},toggleModals:function(t,e,a){var s=this;s.isTransModalShow="transaction"==e&&t,s.isBanUserModalShow="ban"==e&&t,a&&(s.selectedUser=a)},refreshData:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,s.isBanUserModalShow=!1,s.isTransModalShow=!1,t&&"ban"==t&&(s.isBanStatusAlertShow=!0,setTimeout((function(){s.closeAlert()}),1e4)),s.toggleLoader(!0),a.next=7,s.getUserList(1);case 7:case"end":return a.stop()}}),a)})))()},closeAlert:function(){var t=this;t.isBanStatusAlertShow=!1}}},Oa=$a,Fa=Oa,Ua=Object(St["a"])(Fa,N,I,!1,null,null,null),Ta=Ua.exports,qa=Ta,Ya=qa,Ba=(a("cca9"),Object(St["a"])(Ya,Da,wa,!1,null,"67514d36",null)),Ha=Ba.exports,Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.userReqAlert.isShow?a("div",{staticClass:"bg-white p-4 rounded-xl shadow-md fixed right-10 top-14 z-50 w-68"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"icon mr-4"},[a("img",{staticClass:"max-w-40px",attrs:{src:"../assets/img/check-green-circle.png",alt:""}})]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"mb-1 text-sm font-bold"},[t._v(" User "+t._s("approve"==t.userReqAlert.type?"Approved":"reject"==t.userReqAlert.type?"Rejected":"Incomplete")+" ")]),a("p",{staticClass:"text-sm"},["approve"==t.userReqAlert.type?a("span",[t._v("Kamu berhasil menyetujui "+t._s(t.userReqAlert.name)+".")]):t._e(),"reject"==t.userReqAlert.type?a("span",[t._v("Kamu berhasil menolak "+t._s(t.userReqAlert.name)+".")]):t._e(),"incomplete"==t.userReqAlert.type?a("span",[t._v("Kamu berhasil menjadikan "+t._s(t.userReqAlert.name)+" Incomplete.")]):t._e()])]),a("div",{staticClass:"w-1 relative"},[a("a",{staticClass:"relative -top-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.closeAlert(e)}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"times",size:"sm"}})],1)])])]):t._e(),a("div",{staticClass:"users-list-content px-4 pb-4 flex-1"},[a("div",{staticClass:"card p-5 h-full"},[a("div",{staticClass:"filter-container flex mb-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitFilter(e)}}},[a("div",{staticClass:"input-div with-icon border-r pr-4 mr-4"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("svg",{staticClass:"h-full text-gray-800",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.searchVal,expression:"filter.searchVal"}],staticClass:"min-w-350px",attrs:{type:"text",placeholder:"Cari nama, email, nomor hp, NIK"},domProps:{value:t.filter.searchVal},on:{input:function(e){e.target.composing||t.$set(t.filter,"searchVal",e.target.value)}}})])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},on:{input:t.filterDateChanged},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"Start Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.startDate,callback:function(e){t.$set(t.filter,"startDate",e)},expression:"filter.startDate"}})],1),a("span",{staticClass:"font-bold text-black-100 mx-5 text-sm"},[t._v("sampai")]),a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"End Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.endDate,callback:function(e){t.$set(t.filter,"endDate",e)},expression:"filter.endDate"}})],1),a("button",{staticClass:"btn bg-primaryBtn text-white px-10 py-4 font-bold ml-3 rounded-md",on:{click:t.submitFilter}},[t._v("Cari")]),a("button",{staticClass:"btn border-none text-gray-400 font-bold p-2 ml-3",on:{click:t.removeFilter}},[t._v("reset filter")])])]),a("table",{staticClass:"w-full text-left"},[t._m(0),a("tbody",t._l(t.usersArr.data,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[a("p",{staticClass:"text-sm mb-1 font-bold text-violet"},[t._v(" "+t._s(e.detail?e.detail.name:"---")+" ")]),a("p",{staticClass:"text-gray-500 text-xs"},[t._v(" "+t._s(e.detail?e.detail.email:"---")+" ")])]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(e.mobileNumber?e.mobileNumber:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(e.ktp&&e.ktp.number?e.ktp.number:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6"},[a("div",{staticClass:"text-sm"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"DD MMM YYYY")))])]),a("div",{staticClass:"text-xs text-gray-500"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"HH:mm:ss"))+" WIB")])])]),a("td",{staticClass:"border-b-2 py-3 text-sm"},[a("button",{staticClass:"btn border-2 font-bold border-violet font-bold py-2 px-4 rounded-md text-violet text-sm",on:{click:function(a){return t.goToUserDetails(e)}}},[t._v("Lihat Detail")])])])})),0)]),t.usersArr.data&&0==t.usersArr.data.length?a("div",{staticClass:"flex items-center w-full no-data-content "},[a("div",{staticClass:"w-full h-full text-center relative"},[a("img",{staticClass:"my-4 w-1/4",class:{"h-6/10":!1},attrs:{src:"../assets/img/no data results.png",alt:""}}),a("p",{staticClass:"text-xl 2xl:text-2xl mt-5 2xl:mt-10"},[t._v("Pencarian kamu tidak ditemukan")])])]):t._e(),t.usersArr.data&&t.usersArr.data.length>0?a("div",{staticClass:"flex text-sm py-3"},[a("div",{staticClass:"flex-1 flex font-bold"},[a("span",{staticClass:"mr-1"},[t._v("Terlihat")]),a("span",{staticClass:"mr-1"},[t._v(t._s(t.paginationData.resultStart)+"-"+t._s(t.paginationData.resultEnd))]),a("span",{staticClass:"mr-1"},[t._v("dari")]),a("span",[t._v(t._s(t.paginationData.totalResultsRows))])]),a("div",{staticClass:"flex-1 flex justify-end pr-5"},[t.paginationData.currentPage>1?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("prev")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})])]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(1)}}},[t._v("1")]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t._l(t.paginateTotalPages,(function(e){return a("div",{key:e.index,staticClass:"font-bold px-1 mx-1 h-5 cursor-pointer",class:{"text-violet":e!=t.paginationData.currentPage},on:{click:function(a){return t.selectPage(e)}}},[t._v(t._s(e))])})),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(t.paginationData.totalPages)}}},[t._v(t._s(t.paginationData.totalPages))]):t._e(),t.paginationData.currentPage<t.paginationData.totalPages?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("next")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"}})])]):t._e()],2)]):t._e()])])])},Va=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nama")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nomor HP")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("NIK")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Waktu Daftar")]),a("th",{staticClass:"border-b-2 py-3 text-sm"},[t._v("Aksi")])])])}],za={components:{},props:{headerOptions:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},filter:{searchVal:null,startDate:null,endDate:null},dateFormat:{input:"DD MMM YYYY"},paginationData:{totalResultsRows:1,currentPage:1,perPage:10,resultStart:1,resultEnd:1,totalPages:1},paginationCount:10,allUsers:[],usersArr:{},search:{},userReqAlert:{isShow:!0},isSearchActive:!1,isDatePickerActive:!1}},created:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.toggleLoader(!0),a.checkUserRequestTransactions(),e.next=5,a.getUserList(1);case 5:case"end":return e.stop()}}),e)})))()},computed:{paginateTotalPages:function(){var t=this;if(t.paginationData.totalPages>t.paginationCount){var e=[],a=t._.chunk(Object(ea["a"])(Array(t.paginationData.totalPages).keys()),10);return e=a[t._.findIndex(a,(function(e){return e.includes(t.paginationData.currentPage-1)}))],e=e.map((function(t){return t+1})),e[e.length-1]<t.paginationData.totalPages&&e.push(e[e.length-1]+1),e}return t.paginationData.totalPages}},methods:{checkUserRequestTransactions:function(){var t=this,e=JSON.parse(localStorage.getItem("emitUserRequestStatus"));console.log(e),t.userReqAlert=e?Object(ta["a"])({isShow:!0},e):{isShow:!1},setTimeout((function(){t.closeAlert()}),1e4)},closeAlert:function(){var t=this;t.userReqAlert.isShow=!1,localStorage.setItem("emitUserRequestStatus",null)},decodeJwt:function(t){var e=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},a=function(t){return JSON.parse(e(t.split(".")[1].replace("-","+").replace("_","/")))};return a(t)},toggleLoader:function(t,e){var a=this;a.$parent.toggleLoader(t,e)},submitFilter:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e,null!=s.filter.searchVal||null!=s.filter.startDate||null!=s.filter.endDate){a.next=4;break}return s.$swal("Error!","Seems like you forgot to put something on search filters!","error"),a.abrupt("return",!1);case 4:if(null!=s.filter.startDate||!s.filter.endDate){a.next=7;break}return s.$swal("Error!","Please select a Start Date.","error"),a.abrupt("return",!1);case 7:if(!s.filter.startDate||null!=s.filter.endDate){a.next=10;break}return s.$swal("Error!","Please select an End Date.","error"),a.abrupt("return",!1);case 10:return r={date_from:s.filter.startDate?s.$moment(s.filter.startDate).format("YYYY-MM-DD"):null,date_to:s.filter.endDate?s.$moment(s.filter.endDate).format("YYYY-MM-DD"):null,filter:s.filter.searchVal,filterStatus:1},s.isSearchActive=!0,s.toggleLoader(!0,"Loading data"),s.paginationData.currentPage=void 0!==t?s.paginationData.currentPage:1,a.next=16,s.getUserList(s.paginationData.currentPage,r);case 16:case"end":return a.stop()}}),a)})))()},removeFilter:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.isSearchActive=!1,a.filter={searchVal:null,startDate:null,endDate:null},a.isDatePickerActive=!1,a.toggleLoader(!0,"Loading data"),e.next=7,a.getUserList(1);case 7:case"end":return e.stop()}}),e)})))()},filterDateChanged:function(){var t=this;t.isDatePickerActive=!0},goToUserDetails:function(t){var e=this;e.$router.push({name:"User Details",params:{id:t._id}})},getAllUsers:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/users?skip=0&limit=10000",e.next=4,Nt.a.get(s,a.requestedHeaders);case 4:r=e.sent,a.allUsers=r.data.data;case 6:case"end":return e.stop()}}),e)})))()},totalUsers:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,a.prev=1,r="/api/users?status=1&skip=0&limit=10000".concat(void 0!==t?"&".concat(Object.keys(t),"=").concat(Object.values(t)):""),a.next=5,Nt.a.get(r,s.requestedHeaders);case 5:i=a.sent,s.paginationData.totalResultsRows=i.data.total,s.headerOptions({startDate:new Date,endDate:new Date,resultCount:s.paginationData.totalResultsRows}),a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),e.$swal("Error!",a.t0,"error"),s.toggleLoader(!1);case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getUserList:function(t,e){var a=this;return Object(_e["a"])(regeneratorRuntime.mark((function s(){var r,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=a,1==r.paginationData.currentPage?i=0:r.paginationData.currentPage==t&&(i=(t-1)*r.paginationData.perPage),n="/api/users?status=1&skip=".concat(i,"&limit=").concat(r.paginationData.perPage),void 0!==e&&Object.keys(e).map((function(t){return null!=e[t]&&(n+="&".concat(t,"=").concat(e[t]))})),r.toggleLoader(!0,"Loading data"),s.next=7,Nt.a.get(n,r.requestedHeaders).then((function(e){console.log(e),r.usersArr=e.data,r.paginationData.totalResultsRows=e.data.total,r.headerOptions({startDate:new Date,endDate:new Date,resultCount:r.paginationData.totalResultsRows}),r.paginationData=Object(ta["a"])(Object(ta["a"])({},r.paginationData),{resultStart:i+1,resultEnd:i+r.usersArr.data.length,totalPages:Math.ceil(r.paginationData.totalResultsRows/r.paginationData.perPage),currentPage:t}),r.toggleLoader(!1)})).catch((function(t){console.log(t),r.$swal("Error!",t,"error"),r.toggleLoader(!1)}));case 7:case"end":return s.stop()}}),s)})))()},selectPage:function(t){var e=this;e.paginationData.currentPage=t,e.isSearchActive?e.submitFilter(t):e.getUserList(t)},changePage:function(t){var e=this;e.paginationData.currentPage="prev"==t?e.paginationData.currentPage-1:e.paginationData.currentPage+1,e.isSearchActive?e.submitFilter(e.paginationData.currentPage):e.getUserList(e.paginationData.currentPage)}}},Ka=za,Za=Ka,Ja=Object(St["a"])(Za,j,$,!1,null,null,null),Xa=Ja.exports,Qa=Xa,Ga=Qa,ts=(a("7ef8"),Object(St["a"])(Ga,Wa,Va,!1,null,"1cda4e5c",null)),es=ts.exports,as=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"users-list-content px-4 pb-4 flex-1"},[a("div",{staticClass:"card p-5 h-full"},[a("div",{staticClass:"filter-container flex mb-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitFilter(e)}}},[a("div",{staticClass:"input-div with-icon border-r pr-4 mr-4"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("svg",{staticClass:"h-full text-gray-800",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.searchVal,expression:"filter.searchVal"}],staticClass:"min-w-350px",attrs:{type:"text",placeholder:"Cari nama, email, nomor hp, NIK"},domProps:{value:t.filter.searchVal},on:{input:function(e){e.target.composing||t.$set(t.filter,"searchVal",e.target.value)}}})])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},on:{input:t.filterDateChanged},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"Start Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.startDate,callback:function(e){t.$set(t.filter,"startDate",e)},expression:"filter.startDate"}})],1),a("span",{staticClass:"font-bold text-black-100 mx-5 text-sm"},[t._v("sampai")]),a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"End Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.endDate,callback:function(e){t.$set(t.filter,"endDate",e)},expression:"filter.endDate"}})],1),a("button",{staticClass:"btn bg-primaryBtn text-white px-10 py-4 font-bold ml-3 rounded-md",on:{click:t.submitFilter}},[t._v("Cari")]),a("button",{staticClass:"btn border-none text-gray-400 font-bold p-2 ml-3",on:{click:t.removeFilter}},[t._v("reset filter")])])]),a("table",{staticClass:"w-full text-left"},[t._m(0),a("tbody",t._l(t.usersArr.data,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[a("p",{staticClass:"text-sm mb-1 font-bold text-violet"},[t._v(" "+t._s(e.detail?e.detail.name:"---")+" ")]),a("p",{staticClass:"text-gray-500 text-xs"},[t._v(" "+t._s(e.detail?e.detail.email:"---")+" ")])]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(e.mobileNumber?e.mobileNumber:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(e.ktp&&e.ktp.number?e.ktp.number:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6"},[a("div",{staticClass:"text-sm"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"DD MMM YYYY")))])]),a("div",{staticClass:"text-xs text-gray-500"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"HH:mm:ss"))+" WIB")])])]),a("td",{staticClass:"border-b-2 py-3 text-sm"},[a("button",{staticClass:"btn border-2 font-bold border-violet font-bold py-2 px-4 rounded-md text-violet text-sm",on:{click:function(a){return t.goToUserDetails(e)}}},[t._v("Lihat Detail")])])])})),0)]),t.usersArr.data&&0==t.usersArr.data.length?a("div",{staticClass:"flex items-center w-full no-data-content "},[a("div",{staticClass:"w-full h-full text-center relative"},[a("img",{staticClass:"my-4 w-1/4",class:{"h-6/10":!1},attrs:{src:"../assets/img/no data results.png",alt:""}}),a("p",{staticClass:"text-xl 2xl:text-2xl mt-5 2xl:mt-10"},[t._v("Pencarian kamu tidak ditemukan")])])]):t._e(),t.usersArr.data&&t.usersArr.data.length>0?a("div",{staticClass:"flex text-sm py-3"},[a("div",{staticClass:"flex-1 flex font-bold"},[a("span",{staticClass:"mr-1"},[t._v("Terlihat")]),a("span",{staticClass:"mr-1"},[t._v(t._s(t.paginationData.resultStart)+"-"+t._s(t.paginationData.resultEnd))]),a("span",{staticClass:"mr-1"},[t._v("dari")]),a("span",[t._v(t._s(t.paginationData.totalResultsRows))])]),a("div",{staticClass:"flex-1 flex justify-end pr-5"},[t.paginationData.currentPage>1?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("prev")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})])]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(1)}}},[t._v("1")]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t._l(t.paginateTotalPages,(function(e){return a("div",{key:e.index,staticClass:"font-bold px-1 mx-1 h-5 cursor-pointer",class:{"text-violet":e!=t.paginationData.currentPage},on:{click:function(a){return t.selectPage(e)}}},[t._v(t._s(e))])})),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(t.paginationData.totalPages)}}},[t._v(t._s(t.paginationData.totalPages))]):t._e(),t.paginationData.currentPage<t.paginationData.totalPages?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("next")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"}})])]):t._e()],2)]):t._e()])])])},ss=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nama")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nomor HP")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("NIK")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Waktu Daftar")]),a("th",{staticClass:"border-b-2 py-3 text-sm"},[t._v("Aksi")])])])}],rs={components:{},props:{headerOptions:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},filter:{searchVal:null,startDate:null,endDate:null},dateFormat:{input:"DD MMM YYYY"},paginationData:{totalResultsRows:1,currentPage:1,perPage:10,resultStart:1,resultEnd:1,totalPages:1},paginationCount:10,allUsers:[],usersArr:{},search:{},isSearchActive:!1,isDatePickerActive:!1}},created:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.toggleLoader(!0),e.next=4,a.getUserList(1);case 4:case"end":return e.stop()}}),e)})))()},computed:{paginateTotalPages:function(){var t=this;if(t.paginationData.totalPages>t.paginationCount){var e=[],a=t._.chunk(Object(ea["a"])(Array(t.paginationData.totalPages).keys()),10);return e=a[t._.findIndex(a,(function(e){return e.includes(t.paginationData.currentPage-1)}))],e=e.map((function(t){return t+1})),e[e.length-1]<t.paginationData.totalPages&&e.push(e[e.length-1]+1),e}return t.paginationData.totalPages}},methods:{decodeJwt:function(t){var e=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},a=function(t){return JSON.parse(e(t.split(".")[1].replace("-","+").replace("_","/")))};return a(t)},toggleLoader:function(t,e){var a=this;a.$parent.toggleLoader(t,e)},submitFilter:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e,null!=s.filter.searchVal||null!=s.filter.startDate||null!=s.filter.endDate){a.next=4;break}return s.$swal("Error!","Seems like you forgot to put something on search filters!","error"),a.abrupt("return",!1);case 4:if(null!=s.filter.startDate||!s.filter.endDate){a.next=7;break}return s.$swal("Error!","Please select a Start Date.","error"),a.abrupt("return",!1);case 7:if(!s.filter.startDate||null!=s.filter.endDate){a.next=10;break}return s.$swal("Error!","Please select an End Date.","error"),a.abrupt("return",!1);case 10:return r={date_from:s.filter.startDate?s.$moment(s.filter.startDate).format("YYYY-MM-DD"):null,date_to:s.filter.endDate?s.$moment(s.filter.endDate).format("YYYY-MM-DD"):null,filter:s.filter.searchVal,filterStatus:0},s.isSearchActive=!0,s.toggleLoader(!0,"Loading data"),s.paginationData.currentPage=void 0!==t?s.paginationData.currentPage:1,a.next=16,s.getUserList(s.paginationData.currentPage,r);case 16:case"end":return a.stop()}}),a)})))()},removeFilter:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.isSearchActive=!1,a.filter={searchVal:null,startDate:null,endDate:null},a.isDatePickerActive=!1,a.toggleLoader(!0,"Loading data"),e.next=7,a.getUserList(1);case 7:case"end":return e.stop()}}),e)})))()},filterDateChanged:function(){var t=this;t.isDatePickerActive=!0},goToUserDetails:function(t){var e=this;e.$router.push({name:"User Details",params:{id:t._id}})},getAllUsers:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/users?skip=0&limit=10000",e.next=4,Nt.a.get(s,a.requestedHeaders);case 4:r=e.sent,a.allUsers=r.data.data;case 6:case"end":return e.stop()}}),e)})))()},totalUsers:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,a.prev=1,r="/api/users?status=0&skip=0&limit=10000".concat(void 0!==t?"&".concat(Object.keys(t),"=").concat(Object.values(t)):""),a.next=5,Nt.a.get(r,s.requestedHeaders);case 5:i=a.sent,s.paginationData.totalResultsRows=i.data.total,s.headerOptions({startDate:new Date,endDate:new Date,resultCount:s.paginationData.totalResultsRows}),a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),e.$swal("Error!",a.t0,"error"),s.toggleLoader(!1);case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getUserList:function(t,e){var a=this;return Object(_e["a"])(regeneratorRuntime.mark((function s(){var r,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=a,1==r.paginationData.currentPage?i=0:r.paginationData.currentPage==t&&(i=(t-1)*r.paginationData.perPage),n="/api/users?status=0&skip=".concat(i,"&limit=").concat(r.paginationData.perPage),void 0!==e&&Object.keys(e).map((function(t){return null!=e[t]&&(n+="&".concat(t,"=").concat(e[t]))})),r.toggleLoader(!0,"Loading data"),s.next=7,Nt.a.get(n,r.requestedHeaders).then((function(e){console.log(e),r.usersArr=e.data,r.paginationData.totalResultsRows=e.data.total,r.headerOptions({startDate:new Date,endDate:new Date,resultCount:r.paginationData.totalResultsRows}),r.paginationData=Object(ta["a"])(Object(ta["a"])({},r.paginationData),{resultStart:i+1,resultEnd:i+r.usersArr.data.length,totalPages:Math.ceil(r.paginationData.totalResultsRows/r.paginationData.perPage),currentPage:t}),r.toggleLoader(!1)})).catch((function(t){console.log(t),r.$swal("Error!",t,"error"),r.toggleLoader(!1)}));case 7:case"end":return s.stop()}}),s)})))()},selectPage:function(t){var e=this;e.paginationData.currentPage=t,e.isSearchActive?e.submitFilter(t):e.getUserList(t)},changePage:function(t){var e=this;e.paginationData.currentPage="prev"==t?e.paginationData.currentPage-1:e.paginationData.currentPage+1,e.isSearchActive?e.submitFilter(e.paginationData.currentPage):e.getUserList(e.paginationData.currentPage)}}},is=rs,ns=is,os=Object(St["a"])(ns,O,F,!1,null,null,null),ls=os.exports,cs=ls,ds=cs,us=(a("e779"),Object(St["a"])(ds,as,ss,!1,null,"cb38b194",null)),ms=us.exports,ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isBanStatusAlertShow?a("div",{staticClass:"bg-white p-4 rounded-xl shadow-md fixed right-10 top-14 z-50 w-68"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"icon mr-4"},[a("img",{staticClass:"max-w-40px",attrs:{src:"../assets/img/check-green-circle.png",alt:""}})]),t._m(0),a("div",{staticClass:"w-1 relative"},[a("a",{staticClass:"relative -top-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.closeAlert(e)}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"times",size:"sm"}})],1)])])]):t._e(),a("div",{staticClass:"users-list-content px-4 pb-4 flex-1"},[a("div",{staticClass:"card p-5 h-full"},[a("div",{staticClass:"filter-container flex mb-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitFilter(e)}}},[a("div",{staticClass:"input-div with-icon border-r pr-4 mr-4"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("svg",{staticClass:"h-full text-gray-800",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.searchVal,expression:"filter.searchVal"}],staticClass:"min-w-350px",attrs:{type:"text",placeholder:"Cari nama, email, nomor hp, NIK"},domProps:{value:t.filter.searchVal},on:{input:function(e){e.target.composing||t.$set(t.filter,"searchVal",e.target.value)}}})])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},on:{input:t.filterDateChanged},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"Start Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.startDate,callback:function(e){t.$set(t.filter,"startDate",e)},expression:"filter.startDate"}})],1),a("span",{staticClass:"font-bold text-black-100 mx-5 text-sm"},[t._v("sampai")]),a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"End Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.endDate,callback:function(e){t.$set(t.filter,"endDate",e)},expression:"filter.endDate"}})],1),a("button",{staticClass:"btn bg-primaryBtn text-white px-10 py-4 font-bold ml-3 rounded-md",on:{click:t.submitFilter}},[t._v("Cari")]),a("button",{staticClass:"btn border-none text-gray-400 font-bold p-2 ml-3",on:{click:t.removeFilter}},[t._v("reset filter")])])]),a("table",{staticClass:"w-full text-left"},[t._m(1),a("tbody",t._l(t.usersArr.data,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[a("p",{staticClass:"text-sm mb-1 font-bold text-violet"},[t._v(" "+t._s(e.detail?e.detail.name:"---")+" ")]),a("p",{staticClass:"text-gray-500 text-xs"},[t._v(" "+t._s(e.detail?e.detail.email:"---")+" ")])]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(e.mobileNumber?e.mobileNumber:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(e.ktp&&e.ktp.number?e.ktp.number:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6"},[a("div",{staticClass:"text-sm"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"DD MMM YYYY")))])]),a("div",{staticClass:"text-xs text-gray-500"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"HH:mm:ss"))+" WIB")])])]),a("td",{staticClass:"border-b-2 py-3 text-sm text-center"},[a("div",{staticClass:"mr-5 inline-block"},[a("a",{staticClass:"relative has-tooltip",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toggleModals(!0,"ban",e)}}},[a("img",{staticClass:"w-6",attrs:{src:"../assets/img/un-banned.png",alt:""}}),t._m(2,!0)])]),a("button",{staticClass:"btn border-2 font-bold border-violet font-bold py-2 px-4 rounded-md text-violet text-sm",on:{click:function(a){return t.goToUserDetails(e)}}},[t._v("Lihat Detail")])])])})),0)]),t.usersArr.data&&0==t.usersArr.data.length?a("div",{staticClass:"flex items-center w-full no-data-content "},[a("div",{staticClass:"w-full h-full text-center relative"},[a("img",{staticClass:"my-4 w-1/4",class:{"h-6/10":!1},attrs:{src:"../assets/img/no data results.png",alt:""}}),a("p",{staticClass:"text-xl 2xl:text-2xl mt-5 2xl:mt-10"},[t._v("Pencarian kamu tidak ditemukan")])])]):t._e(),t.usersArr.data&&t.usersArr.data.length>0?a("div",{staticClass:"flex text-sm py-3"},[a("div",{staticClass:"flex-1 flex font-bold"},[a("span",{staticClass:"mr-1"},[t._v("Terlihat")]),a("span",{staticClass:"mr-1"},[t._v(t._s(t.paginationData.resultStart)+"-"+t._s(t.paginationData.resultEnd))]),a("span",{staticClass:"mr-1"},[t._v("dari")]),a("span",[t._v(t._s(t.paginationData.totalResultsRows))])]),a("div",{staticClass:"flex-1 flex justify-end pr-5"},[t.paginationData.currentPage>1?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("prev")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})])]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(1)}}},[t._v("1")]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t._l(t.paginateTotalPages,(function(e){return a("div",{key:e.index,staticClass:"font-bold px-1 mx-1 h-5 cursor-pointer",class:{"text-violet":e!=t.paginationData.currentPage},on:{click:function(a){return t.selectPage(e)}}},[t._v(t._s(e))])})),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(t.paginationData.totalPages)}}},[t._v(t._s(t.paginationData.totalPages))]):t._e(),t.paginationData.currentPage<t.paginationData.totalPages?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("next")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"}})])]):t._e()],2)]):t._e()])]),a("Modal",{attrs:{title:"UnBanned Confirmation","modal-class":"modal-wrapper"},model:{value:t.isBanUserModalShow,callback:function(e){t.isBanUserModalShow=e},expression:"isBanUserModalShow"}},[a("UnBanUserModal",{attrs:{user:t.selectedUser,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1)],1)},fs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-1"},[a("p",{staticClass:"mb-1 text-sm font-bold"},[t._v("User UnBanned")]),a("p",{staticClass:"text-sm"},[t._v("Kamu berhasil unbanned user. ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nama")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nomor HP")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("NIK")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Waktu Daftar")]),a("th",{staticClass:"border-b-2 py-3 text-sm text-center"},[t._v("Aksi")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom-tooltip unban"},[a("div",{staticClass:"text-white bg-gray-700 rounded-md py-1 px-3 font-bold relative z-20 whitespace-nowrap text-xs"},[t._v("Unbanned User")]),a("div",{staticClass:"h-4 w-4 bg-gray-700 transform rotate-45 relative -top-3 inline-block z-10"})])}],gs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"text-sm mt-2 mb-4"},[t._v("Kamu yakin akan unbanned user ini :")]),a("div",{staticClass:"flex mb-3"},[t._m(0),a("p",{staticClass:"flex-1 text-sm font-bold"},[t._v(t._s(t.user.detail?t.user.detail.name:"---"))])]),a("div",{staticClass:"flex mb-3"},[t._m(1),a("p",{staticClass:"flex-1 text-sm"},[t._v(t._s(t.user.mobileNumber?t.user.mobileNumber:"---"))])]),a("div",{staticClass:"flex mb-3"},[t._m(2),a("p",{staticClass:"flex-1 text-sm text-violet font-bold"},[t._v(t._s(t.user.detail?t.user.detail.email:"---"))])]),a("div",{staticClass:"text-right mt-8"},[a("button",{staticClass:"btn px-4 py-2 mx-1 text-violet font-bold rounded-md text-sm",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"ban")}}},[t._v("Batal")]),a("button",{staticClass:"btn px-6 py-3 mx-1 bg-violet font-bold text-white rounded-md text-sm",on:{click:t.unbanUser}},[t._v("UnBanned")])])])},vs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Nama "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Nomor HP "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Email "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])}],xs={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}}}},created:function(){},methods:{unbanUser:function(){var t=this,e={user:t.user.mobileNumber};t.toggleLoader(!0),Nt.a.post("/api/users/unbanuser",e,t.requestedHeaders).then((function(e){console.log(e),t.requestSuccess("ban")})).catch((function(e){console.log(e),t.$swal("Error!",e,"error"),t.toggleLoader(!1)}))}}},bs=xs,hs=Object(St["a"])(bs,gs,vs,!1,null,"1c9188cc",null),_s=hs.exports,Cs={components:{UnBanUserModal:_s},props:{headerOptions:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},filter:{searchVal:null,startDate:null,endDate:null},dateFormat:{input:"DD MMM YYYY"},paginationData:{totalResultsRows:1,currentPage:1,perPage:10,resultStart:1,resultEnd:1,totalPages:1},paginationCount:10,allUsers:[],usersArr:{},search:{},isBanUserModalShow:!1,isBanStatusAlertShow:!1,selectedUser:null,isSearchActive:!1,isDatePickerActive:!1}},created:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.toggleLoader(!0),e.next=4,a.getUserList(1);case 4:case"end":return e.stop()}}),e)})))()},computed:{paginateTotalPages:function(){var t=this;if(t.paginationData.totalPages>t.paginationCount){var e=[],a=t._.chunk(Object(ea["a"])(Array(t.paginationData.totalPages).keys()),10);return e=a[t._.findIndex(a,(function(e){return e.includes(t.paginationData.currentPage-1)}))],e=e.map((function(t){return t+1})),e[e.length-1]<t.paginationData.totalPages&&e.push(e[e.length-1]+1),e}return t.paginationData.totalPages}},methods:{decodeJwt:function(t){var e=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},a=function(t){return JSON.parse(e(t.split(".")[1].replace("-","+").replace("_","/")))};return a(t)},toggleLoader:function(t,e){var a=this;a.$parent.toggleLoader(t,e)},submitFilter:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e,null!=s.filter.searchVal||null!=s.filter.startDate||null!=s.filter.endDate){a.next=4;break}return s.$swal("Error!","Seems like you forgot to put something on search filters!","error"),a.abrupt("return",!1);case 4:if(null!=s.filter.startDate||!s.filter.endDate){a.next=7;break}return s.$swal("Error!","Please select a Start Date.","error"),a.abrupt("return",!1);case 7:if(!s.filter.startDate||null!=s.filter.endDate){a.next=10;break}return s.$swal("Error!","Please select an End Date.","error"),a.abrupt("return",!1);case 10:return r={date_from:s.filter.startDate?s.$moment(s.filter.startDate).format("YYYY-MM-DD"):null,date_to:s.filter.endDate?s.$moment(s.filter.endDate).format("YYYY-MM-DD"):null,filter:s.filter.searchVal,filterStatus:3},s.isSearchActive=!0,s.toggleLoader(!0,"Loading data"),s.paginationData.currentPage=void 0!==t?s.paginationData.currentPage:1,a.next=16,s.getUserList(s.paginationData.currentPage,r);case 16:case"end":return a.stop()}}),a)})))()},removeFilter:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.isSearchActive=!1,a.filter={searchVal:null,startDate:null,endDate:null},a.isDatePickerActive=!1,a.toggleLoader(!0,"Loading data"),e.next=7,a.getUserList(1);case 7:case"end":return e.stop()}}),e)})))()},filterDateChanged:function(){var t=this;t.isDatePickerActive=!0},goToUserDetails:function(t){var e=this;e.$router.push({name:"User Details",params:{id:t._id}})},getAllUsers:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/users?skip=0&limit=10000",e.next=4,Nt.a.get(s,a.requestedHeaders);case 4:r=e.sent,a.allUsers=r.data.data;case 6:case"end":return e.stop()}}),e)})))()},totalUsers:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,a.prev=1,r="/api/users?status=3&skip=0&limit=10000".concat(void 0!==t?"&".concat(Object.keys(t),"=").concat(Object.values(t)):""),a.next=5,Nt.a.get(r,s.requestedHeaders);case 5:i=a.sent,s.paginationData.totalResultsRows=i.data.total,s.headerOptions({startDate:new Date,endDate:new Date,resultCount:s.paginationData.totalResultsRows}),a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),e.$swal("Error!",a.t0,"error"),s.toggleLoader(!1);case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getUserList:function(t,e){var a=this;return Object(_e["a"])(regeneratorRuntime.mark((function s(){var r,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=a,1==r.paginationData.currentPage?i=0:r.paginationData.currentPage==t&&(i=(t-1)*r.paginationData.perPage),n="/api/users?status=3&skip=".concat(i,"&limit=").concat(r.paginationData.perPage),void 0!==e&&Object.keys(e).map((function(t){return null!=e[t]&&(n+="&".concat(t,"=").concat(e[t]))})),r.toggleLoader(!0,"Loading data"),s.next=7,Nt.a.get(n,r.requestedHeaders).then((function(e){console.log(e),r.usersArr=e.data,r.paginationData.totalResultsRows=e.data.total,r.headerOptions({startDate:new Date,endDate:new Date,resultCount:r.paginationData.totalResultsRows}),r.paginationData=Object(ta["a"])(Object(ta["a"])({},r.paginationData),{resultStart:i+1,resultEnd:i+r.usersArr.data.length,totalPages:Math.ceil(r.paginationData.totalResultsRows/r.paginationData.perPage),currentPage:t}),r.toggleLoader(!1)})).catch((function(t){console.log(t),r.$swal("Error!",t,"error"),r.toggleLoader(!1)}));case 7:case"end":return s.stop()}}),s)})))()},selectPage:function(t){var e=this;e.paginationData.currentPage=t,e.isSearchActive?e.submitFilter(t):e.getUserList(t)},changePage:function(t){var e=this;e.paginationData.currentPage="prev"==t?e.paginationData.currentPage-1:e.paginationData.currentPage+1,e.isSearchActive?e.submitFilter(e.paginationData.currentPage):e.getUserList(e.paginationData.currentPage)},toggleModals:function(t,e,a){var s=this;s.isBanUserModalShow="ban"==e&&t,a&&(s.selectedUser=a)},refreshData:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,s.isBanUserModalShow=!1,t&&"ban"==t&&(s.isBanStatusAlertShow=!0,setTimeout((function(){s.closeAlert()}),1e4)),s.toggleLoader(!0),a.next=6,s.getUserList(1);case 6:case"end":return a.stop()}}),a)})))()},closeAlert:function(){var t=this;t.isBanStatusAlertShow=!1}}},Ds=Cs,ws=Ds,ys=Object(St["a"])(ws,U,T,!1,null,null,null),ks=ys.exports,Ps=ks,Ss=Ps,Ms=(a("f58b"),Object(St["a"])(Ss,ps,fs,!1,null,"66f470e5",null)),As=Ms.exports,Ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isFreezeStatusAlertShow?a("div",{staticClass:"bg-white p-4 rounded-xl shadow-md fixed right-10 top-14 z-50 w-68"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"icon mr-4"},[a("img",{staticClass:"max-w-40px",attrs:{src:"../assets/img/check-green-circle.png",alt:""}})]),t._m(0),a("div",{staticClass:"w-1 relative"},[a("a",{staticClass:"relative -top-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.closeAlert(e)}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"times",size:"sm"}})],1)])])]):t._e(),a("div",{staticClass:"users-list-content px-4 pb-4 flex-1"},[a("div",{staticClass:"card p-5 h-full"},[a("div",{staticClass:"filter-container flex mb-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitFilter(e)}}},[a("div",{staticClass:"input-div with-icon border-r pr-4 mr-4"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("svg",{staticClass:"h-full text-gray-800",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.searchVal,expression:"filter.searchVal"}],staticClass:"min-w-350px",attrs:{type:"text",placeholder:"Cari nama, email, nomor hp, NIK"},domProps:{value:t.filter.searchVal},on:{input:function(e){e.target.composing||t.$set(t.filter,"searchVal",e.target.value)}}})])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},on:{input:t.filterDateChanged},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"Start Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.startDate,callback:function(e){t.$set(t.filter,"startDate",e)},expression:"filter.startDate"}})],1),a("span",{staticClass:"font-bold text-black-100 mx-5 text-sm"},[t._v("sampai")]),a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"End Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.endDate,callback:function(e){t.$set(t.filter,"endDate",e)},expression:"filter.endDate"}})],1),a("button",{staticClass:"btn bg-primaryBtn text-white px-10 py-4 font-bold ml-3 rounded-md",on:{click:t.submitFilter}},[t._v("Cari")]),a("button",{staticClass:"btn border-none text-gray-400 font-bold p-2 ml-3",on:{click:t.removeFilter}},[t._v("reset filter")])])]),a("table",{staticClass:"w-full text-left"},[t._m(1),a("tbody",t._l(t.usersArr.data,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"border-b-2 py-3 pr-6 text-xs 2xl:text-sm"},[a("p",{staticClass:"text-xs 2xl:text-sm mb-1 font-bold text-violet"},[t._v(" "+t._s(e.detail?e.detail.name:"---")+" ")]),a("p",{staticClass:"text-gray-500 text-xxs 2xl:text-xs"},[t._v(" "+t._s(e.detail?e.detail.email:"---")+" ")])]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-xs 2xl:text-sm"},[t._v(" "+t._s(e.mobileNumber?e.mobileNumber:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-xs 2xl:text-sm"},[t._v(" "+t._s(e.ktp&&e.ktp.number?e.ktp.number:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-xs 2xl:text-sm font-bold"},[t._v(" "+t._s(t._f("currency")(e.credit))+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-xs 2xl:text-sm"},[a("div",{staticClass:"flex mb-1 text-xs 2xl:text-sm"},[a("span",[t._v(t._s(t._f("currency")(e.credit-e.remainingCredit)))])]),a("div",{staticClass:"flex text-xxs 2xl:text-xs color--blue font-bold"},[a("label",{staticClass:"mr-1"},[t._v("Sisa :")]),a("span",[t._v(t._s(t._f("currency")(e.remainingCredit)))])])]),a("td",{staticClass:"border-b-2 py-3 pr-6"},[a("div",{staticClass:"text-xs 2xl:text-sm"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"DD MMM YYYY")))])]),a("div",{staticClass:"text-xxs 2xl:text-xs text-gray-500"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"HH:mm:ss"))+" WIB")])])]),a("td",{staticClass:"border-b-2 py-3 text-xs 2xl:text-sm text-center"},[a("div",{staticClass:"mr-5 inline-block"},[a("a",{staticClass:"relative has-tooltip",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toggleModals(!0,"transaction",e)}}},[a("img",{staticClass:"w-6",attrs:{src:"../assets/img/transactions.png",alt:""}}),t._m(2,!0)])]),a("div",{staticClass:"mr-5 inline-block"},[a("a",{staticClass:"relative has-tooltip",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toggleModals(!0,"freeze",e)}}},[a("img",{staticClass:"w-6",attrs:{src:"../assets/img/freeze.png",alt:""}}),t._m(3,!0)])]),a("button",{staticClass:"btn border-2 font-bold border-violet font-bold py-2 px-4 rounded-md text-violet text-sm",on:{click:function(a){return t.goToUserDetails(e)}}},[t._v("Lihat Detail")])])])})),0)]),t.usersArr.data&&0==t.usersArr.data.length?a("div",{staticClass:"flex items-center w-full no-data-content "},[a("div",{staticClass:"w-full h-full text-center relative"},[a("img",{staticClass:"my-4 w-1/4",class:{"h-6/10":!1},attrs:{src:"../assets/img/no data results.png",alt:""}}),a("p",{staticClass:"text-xl 2xl:text-2xl mt-5 2xl:mt-10"},[t._v("Pencarian kamu tidak ditemukan")])])]):t._e(),t.usersArr.data&&t.usersArr.data.length>0?a("div",{staticClass:"flex text-sm py-3"},[a("div",{staticClass:"flex-1 flex font-bold"},[a("span",{staticClass:"mr-1"},[t._v("Terlihat")]),a("span",{staticClass:"mr-1"},[t._v(t._s(t.paginationData.resultStart)+"-"+t._s(t.paginationData.resultEnd))]),a("span",{staticClass:"mr-1"},[t._v("dari")]),a("span",[t._v(t._s(t.paginationData.totalResultsRows))])]),a("div",{staticClass:"flex-1 flex justify-end pr-5"},[t.paginationData.currentPage>1?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("prev")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})])]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(1)}}},[t._v("1")]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t._l(t.paginateTotalPages,(function(e){return a("div",{key:e.index,staticClass:"font-bold px-1 mx-1 h-5 cursor-pointer",class:{"text-violet":e!=t.paginationData.currentPage},on:{click:function(a){return t.selectPage(e)}}},[t._v(t._s(e))])})),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(t.paginationData.totalPages)}}},[t._v(t._s(t.paginationData.totalPages))]):t._e(),t.paginationData.currentPage<t.paginationData.totalPages?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("next")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"}})])]):t._e()],2)]):t._e()])]),a("Modal",{attrs:{title:"List Transaksi","modal-class":"modal-wrapper max-w-none w-9/10"},model:{value:t.isTransModalShow,callback:function(e){t.isTransModalShow=e},expression:"isTransModalShow"}},[a("TransactionsModal",{attrs:{user:t.selectedUser,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Unfreeze Confirmation","modal-class":"modal-wrapper"},model:{value:t.isFreezeUserModalShow,callback:function(e){t.isFreezeUserModalShow=e},expression:"isFreezeUserModalShow"}},[a("FreezeUserModal",{attrs:{user:t.selectedUser,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1)],1)},Es=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-1"},[a("p",{staticClass:"mb-1 text-sm font-bold"},[t._v("User Unfreeze")]),a("p",{staticClass:"text-sm"},[t._v("Kamu berhasil unfreeze user. ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nama")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nomor HP")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("NIK")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Limit")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Limit digunakan")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Waktu Daftar")]),a("th",{staticClass:"border-b-2 py-3 text-sm text-center w-52"},[t._v("Aksi")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom-tooltip trans"},[a("div",{staticClass:"text-white bg-gray-700 rounded-md py-1 px-3 font-bold relative z-20"},[t._v("Transaction")]),a("div",{staticClass:"top-2 h-3 w-3 bg-gray-700 transform rotate-45 relative -top-2 inline-block z-10"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom-tooltip unfreeze"},[a("div",{staticClass:"text-white bg-gray-700 rounded-md py-1 px-3 font-bold relative z-20 whitespace-nowrap"},[t._v("Unfreeze User")]),a("div",{staticClass:"h-3 w-3 bg-gray-700 transform rotate-45 relative -top-2 inline-block z-10"})])}],Rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"text-sm mt-2 mb-4"},[t._v("Kamu yakin akan unfreeze user ini :")]),a("div",{staticClass:"flex mb-3"},[t._m(0),a("p",{staticClass:"flex-1 text-sm font-bold"},[t._v(t._s(t.user.detail?t.user.detail.name:"---"))])]),a("div",{staticClass:"flex mb-3"},[t._m(1),a("p",{staticClass:"flex-1 text-sm"},[t._v(t._s(t.user.mobileNumber?t.user.mobileNumber:"---"))])]),a("div",{staticClass:"flex mb-3"},[t._m(2),a("p",{staticClass:"flex-1 text-sm"},[t._v(t._s(t.user.detail?t.user.detail.email:"---"))])]),a("div",{staticClass:"text-right mt-8"},[a("button",{staticClass:"btn px-4 py-2 mx-1 text-violet font-bold rounded-md text-sm",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"freeze")}}},[t._v("Batal")]),a("button",{staticClass:"btn px-6 py-3 mx-1 bg-violet font-bold text-white rounded-md text-sm",on:{click:function(e){return e.preventDefault(),t.unFreezeUser(e)}}},[t._v("UnFreeze")])])])},Ns=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Nama "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Nomor HP "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Email "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])}],Is={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}}}},created:function(){},methods:{unFreezeUser:function(){var t=this,e={user:t.user.mobileNumber};t.toggleLoader(!0),Nt.a.post("/api/users/unfreezeuser",e,t.requestedHeaders).then((function(e){console.log(e),t.requestSuccess("freeze")})).catch((function(e){console.log(e),t.$swal("Error!",e,"error"),t.toggleLoader(!1)}))}}},js=Is,$s=Object(St["a"])(js,Rs,Ns,!1,null,"9add421a",null),Os=$s.exports,Fs={components:{TransactionsModal:Aa,FreezeUserModal:Os},props:{headerOptions:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},filter:{searchVal:null,startDate:null,endDate:null},dateFormat:{input:"DD MMM YYYY"},paginationData:{totalResultsRows:1,currentPage:1,perPage:10,resultStart:1,resultEnd:1,totalPages:1},paginationCount:10,allUsers:[],usersArr:{},search:{},isTransModalShow:!1,isFreezeUserModalShow:!1,selectedUser:null,isFreezeStatusAlertShow:!1,isSearchActive:!1,isDatePickerActive:!1}},created:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.toggleLoader(!0),e.next=4,a.getUserList(1);case 4:case"end":return e.stop()}}),e)})))()},computed:{paginateTotalPages:function(){var t=this;if(t.paginationData.totalPages>t.paginationCount){var e=[],a=t._.chunk(Object(ea["a"])(Array(t.paginationData.totalPages).keys()),10);return e=a[t._.findIndex(a,(function(e){return e.includes(t.paginationData.currentPage-1)}))],e=e.map((function(t){return t+1})),e[e.length-1]<t.paginationData.totalPages&&e.push(e[e.length-1]+1),e}return t.paginationData.totalPages}},methods:{decodeJwt:function(t){var e=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},a=function(t){return JSON.parse(e(t.split(".")[1].replace("-","+").replace("_","/")))};return a(t)},toggleLoader:function(t,e){var a=this;a.$parent.toggleLoader(t,e)},submitFilter:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e,null!=s.filter.searchVal||null!=s.filter.startDate||null!=s.filter.endDate){a.next=4;break}return s.$swal("Error!","Seems like you forgot to put something on search filters!","error"),a.abrupt("return",!1);case 4:if(null!=s.filter.startDate||!s.filter.endDate){a.next=7;break}return s.$swal("Error!","Please select a Start Date.","error"),a.abrupt("return",!1);case 7:if(!s.filter.startDate||null!=s.filter.endDate){a.next=10;break}return s.$swal("Error!","Please select an End Date.","error"),a.abrupt("return",!1);case 10:return r={date_from:s.filter.startDate?s.$moment(s.filter.startDate).format("YYYY-MM-DD"):null,date_to:s.filter.endDate?s.$moment(s.filter.endDate).format("YYYY-MM-DD"):null,filter:s.filter.searchVal,filterStatus:5},s.isSearchActive=!0,s.toggleLoader(!0,"Loading data"),s.paginationData.currentPage=void 0!==t?s.paginationData.currentPage:1,a.next=16,s.getUserList(s.paginationData.currentPage,r);case 16:case"end":return a.stop()}}),a)})))()},removeFilter:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.isSearchActive=!1,a.filter={searchVal:null,startDate:null,endDate:null},a.isDatePickerActive=!1,a.toggleLoader(!0,"Loading data"),e.next=7,a.getUserList(1);case 7:case"end":return e.stop()}}),e)})))()},filterDateChanged:function(){var t=this;t.isDatePickerActive=!0},goToUserDetails:function(t){var e=this;e.$router.push({name:"User Details",params:{id:t._id}})},getAllUsers:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/users?skip=0&limit=10000",e.next=4,Nt.a.get(s,a.requestedHeaders);case 4:r=e.sent,a.allUsers=r.data.data;case 6:case"end":return e.stop()}}),e)})))()},totalUsers:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,a.prev=1,r="/api/users?status=5&skip=0&limit=10000".concat(void 0!==t?"&".concat(Object.keys(t),"=").concat(Object.values(t)):""),a.next=5,Nt.a.get(r,s.requestedHeaders);case 5:i=a.sent,s.paginationData.totalResultsRows=i.data.total,s.headerOptions({startDate:new Date,endDate:new Date,resultCount:s.paginationData.totalResultsRows}),a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),e.$swal("Error!",a.t0,"error"),s.toggleLoader(!1);case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getUserList:function(t,e){var a=this;return Object(_e["a"])(regeneratorRuntime.mark((function s(){var r,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=a,1==r.paginationData.currentPage?i=0:r.paginationData.currentPage==t&&(i=(t-1)*r.paginationData.perPage),n="/api/users?status=5&skip=".concat(i,"&limit=").concat(r.paginationData.perPage),void 0!==e&&Object.keys(e).map((function(t){return null!=e[t]&&(n+="&".concat(t,"=").concat(e[t]))})),r.toggleLoader(!0,"Loading data"),s.next=7,Nt.a.get(n,r.requestedHeaders).then((function(e){console.log(e),r.usersArr=e.data,r.paginationData.totalResultsRows=e.data.total,r.headerOptions({startDate:new Date,endDate:new Date,resultCount:r.paginationData.totalResultsRows}),r.paginationData=Object(ta["a"])(Object(ta["a"])({},r.paginationData),{resultStart:i+1,resultEnd:i+r.usersArr.data.length,totalPages:Math.ceil(r.paginationData.totalResultsRows/r.paginationData.perPage),currentPage:t}),r.toggleLoader(!1)})).catch((function(t){console.log(t),r.$swal("Error!",t,"error"),r.toggleLoader(!1)}));case 7:case"end":return s.stop()}}),s)})))()},selectPage:function(t){var e=this;e.paginationData.currentPage=t,e.isSearchActive?e.submitFilter(t):e.getUserList(t)},changePage:function(t){var e=this;e.paginationData.currentPage="prev"==t?e.paginationData.currentPage-1:e.paginationData.currentPage+1,e.isSearchActive?e.submitFilter(e.paginationData.currentPage):e.getUserList(e.paginationData.currentPage)},toggleModals:function(t,e,a){var s=this;s.isTransModalShow="transaction"==e&&t,s.isFreezeUserModalShow="freeze"==e&&t,a&&(s.selectedUser=a)},refreshData:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,s.isFreezeUserModalShow=!1,s.isTransModalShow=!1,t&&"freeze"==t&&(s.isFreezeStatusAlertShow=!0,setTimeout((function(){s.closeAlert()}),1e4)),s.toggleLoader(!0),a.next=7,s.getUserList(1);case 7:case"end":return a.stop()}}),a)})))()},closeAlert:function(){var t=this;t.isFreezeStatusAlertShow=!1}}},Us=Fs,Ts=Us,qs=Object(St["a"])(Ts,q,Y,!1,null,null,null),Ys=qs.exports,Bs=Ys,Hs=Bs,Ws=(a("c006"),Object(St["a"])(Hs,Ls,Es,!1,null,"b635731a",null)),Vs=Ws.exports,zs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"users-list-content px-4 pb-4 flex-1"},[a("div",{staticClass:"card p-5 h-full"},[a("div",{staticClass:"filter-container flex mb-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitFilter(e)}}},[a("div",{staticClass:"input-div with-icon border-r pr-4 mr-4"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("svg",{staticClass:"h-full text-gray-800",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.searchVal,expression:"filter.searchVal"}],staticClass:"min-w-350px",attrs:{type:"text",placeholder:"Cari nama, email, nomor hp, NIK"},domProps:{value:t.filter.searchVal},on:{input:function(e){e.target.composing||t.$set(t.filter,"searchVal",e.target.value)}}})])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},on:{input:t.filterDateChanged},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"Start Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.startDate,callback:function(e){t.$set(t.filter,"startDate",e)},expression:"filter.startDate"}})],1),a("span",{staticClass:"font-bold text-black-100 mx-5 text-sm"},[t._v("sampai")]),a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"End Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.endDate,callback:function(e){t.$set(t.filter,"endDate",e)},expression:"filter.endDate"}})],1),a("button",{staticClass:"btn bg-primaryBtn text-white px-10 py-4 font-bold ml-3 rounded-md",on:{click:t.submitFilter}},[t._v("Cari")]),a("button",{staticClass:"btn border-none text-gray-400 font-bold p-2 ml-3",on:{click:t.removeFilter}},[t._v("reset filter")])])]),a("table",{staticClass:"w-full text-left"},[t._m(0),a("tbody",t._l(t.usersArr.data,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[a("p",{staticClass:"text-sm mb-1 font-bold text-violet"},[t._v(" "+t._s(e.detail?e.detail.name:"---")+" ")]),a("p",{staticClass:"text-gray-500 text-xs"},[t._v(" "+t._s(e.detail?e.detail.email:"---")+" ")])]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(e.mobileNumber?e.mobileNumber:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(e.ktp&&e.ktp.number?e.ktp.number:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6"},[a("div",{staticClass:"text-sm"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"DD MMM YYYY")))])]),a("div",{staticClass:"text-xs text-gray-500"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"HH:mm:ss"))+" WIB")])])]),a("td",{staticClass:"border-b-2 py-3 text-sm"},[a("button",{staticClass:"btn border-2 font-bold border-violet font-bold py-2 px-4 rounded-md text-violet text-sm",on:{click:function(a){return t.goToUserDetails(e)}}},[t._v("Lihat Detail")])])])})),0)]),t.usersArr.data&&0==t.usersArr.data.length?a("div",{staticClass:"flex items-center w-full no-data-content "},[a("div",{staticClass:"w-full h-full text-center relative"},[a("img",{staticClass:"my-4 w-1/4",class:{"h-6/10":!1},attrs:{src:"../assets/img/no data results.png",alt:""}}),a("p",{staticClass:"text-xl 2xl:text-2xl mt-5 2xl:mt-10"},[t._v("Pencarian kamu tidak ditemukan")])])]):t._e(),t.usersArr.data&&t.usersArr.data.length>0?a("div",{staticClass:"flex text-sm py-3"},[a("div",{staticClass:"flex-1 flex font-bold"},[a("span",{staticClass:"mr-1"},[t._v("Terlihat")]),a("span",{staticClass:"mr-1"},[t._v(t._s(t.paginationData.resultStart)+"-"+t._s(t.paginationData.resultEnd))]),a("span",{staticClass:"mr-1"},[t._v("dari")]),a("span",[t._v(t._s(t.paginationData.totalResultsRows))])]),a("div",{staticClass:"flex-1 flex justify-end pr-5"},[t.paginationData.currentPage>1?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("prev")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})])]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(1)}}},[t._v("1")]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t._l(t.paginateTotalPages,(function(e){return a("div",{key:e.index,staticClass:"font-bold px-1 mx-1 h-5 cursor-pointer",class:{"text-violet":e!=t.paginationData.currentPage},on:{click:function(a){return t.selectPage(e)}}},[t._v(t._s(e))])})),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(t.paginationData.totalPages)}}},[t._v(t._s(t.paginationData.totalPages))]):t._e(),t.paginationData.currentPage<t.paginationData.totalPages?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("next")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"}})])]):t._e()],2)]):t._e()])])])},Ks=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nama")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nomor HP")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("NIK")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Waktu Daftar")]),a("th",{staticClass:"border-b-2 py-3 text-sm"},[t._v("Aksi")])])])}],Zs={components:{},props:{headerOptions:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},filter:{searchVal:null,startDate:null,endDate:null},dateFormat:{input:"DD MMM YYYY"},paginationData:{totalResultsRows:1,currentPage:1,perPage:10,resultStart:1,resultEnd:1,totalPages:1},paginationCount:10,allUsers:[],usersArr:{},search:{},isSearchActive:!1,isDatePickerActive:!1}},created:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.toggleLoader(!0),e.next=4,a.getUserList(1);case 4:case"end":return e.stop()}}),e)})))()},computed:{paginateTotalPages:function(){var t=this;if(t.paginationData.totalPages>t.paginationCount){var e=[],a=t._.chunk(Object(ea["a"])(Array(t.paginationData.totalPages).keys()),10);return e=a[t._.findIndex(a,(function(e){return e.includes(t.paginationData.currentPage-1)}))],e=e.map((function(t){return t+1})),e[e.length-1]<t.paginationData.totalPages&&e.push(e[e.length-1]+1),e}return t.paginationData.totalPages}},methods:{decodeJwt:function(t){var e=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},a=function(t){return JSON.parse(e(t.split(".")[1].replace("-","+").replace("_","/")))};return a(t)},toggleLoader:function(t,e){var a=this;a.$parent.toggleLoader(t,e)},submitFilter:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e,null!=s.filter.searchVal||null!=s.filter.startDate||null!=s.filter.endDate){a.next=4;break}return s.$swal("Error!","Seems like you forgot to put something on search filters!","error"),a.abrupt("return",!1);case 4:if(null!=s.filter.startDate||!s.filter.endDate){a.next=7;break}return s.$swal("Error!","Please select a Start Date.","error"),a.abrupt("return",!1);case 7:if(!s.filter.startDate||null!=s.filter.endDate){a.next=10;break}return s.$swal("Error!","Please select an End Date.","error"),a.abrupt("return",!1);case 10:return r={date_from:s.filter.startDate?s.$moment(s.filter.startDate).format("YYYY-MM-DD"):null,date_to:s.filter.endDate?s.$moment(s.filter.endDate).format("YYYY-MM-DD"):null,filter:s.filter.searchVal,filterStatus:6},s.isSearchActive=!0,s.toggleLoader(!0,"Loading data"),s.paginationData.currentPage=void 0!==t?s.paginationData.currentPage:1,a.next=16,s.getUserList(s.paginationData.currentPage,r);case 16:case"end":return a.stop()}}),a)})))()},removeFilter:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.isSearchActive=!1,a.filter={searchVal:null,startDate:null,endDate:null},a.isDatePickerActive=!1,a.toggleLoader(!0,"Loading data"),e.next=7,a.getUserList(1);case 7:case"end":return e.stop()}}),e)})))()},filterDateChanged:function(){var t=this;t.isDatePickerActive=!0},goToUserDetails:function(t){var e=this;e.$router.push({name:"User Details",params:{id:t._id}})},getAllUsers:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/users?skip=0&limit=10000",e.next=4,Nt.a.get(s,a.requestedHeaders);case 4:r=e.sent,a.allUsers=r.data.data;case 6:case"end":return e.stop()}}),e)})))()},totalUsers:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,a.prev=1,r="/api/users?status=6&skip=0&limit=10000".concat(void 0!==t?"&".concat(Object.keys(t),"=").concat(Object.values(t)):""),a.next=5,Nt.a.get(r,s.requestedHeaders);case 5:i=a.sent,s.paginationData.totalResultsRows=i.data.total,s.headerOptions({startDate:new Date,endDate:new Date,resultCount:s.paginationData.totalResultsRows}),a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),e.$swal("Error!",a.t0,"error"),s.toggleLoader(!1);case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getUserList:function(t,e){var a=this;return Object(_e["a"])(regeneratorRuntime.mark((function s(){var r,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=a,1==r.paginationData.currentPage?i=0:r.paginationData.currentPage==t&&(i=(t-1)*r.paginationData.perPage),n="/api/users?status=6&skip=".concat(i,"&limit=").concat(r.paginationData.perPage),void 0!==e&&Object.keys(e).map((function(t){return null!=e[t]&&(n+="&".concat(t,"=").concat(e[t]))})),r.toggleLoader(!0,"Loading data"),s.next=7,Nt.a.get(n,r.requestedHeaders).then((function(e){console.log(e),r.usersArr=e.data,r.paginationData.totalResultsRows=e.data.total,r.headerOptions({startDate:new Date,endDate:new Date,resultCount:r.paginationData.totalResultsRows}),r.paginationData=Object(ta["a"])(Object(ta["a"])({},r.paginationData),{resultStart:i+1,resultEnd:i+r.usersArr.data.length,totalPages:Math.ceil(r.paginationData.totalResultsRows/r.paginationData.perPage),currentPage:t}),r.toggleLoader(!1)})).catch((function(t){console.log(t),r.$swal("Error!",t,"error"),r.toggleLoader(!1)}));case 7:case"end":return s.stop()}}),s)})))()},selectPage:function(t){var e=this;e.paginationData.currentPage=t,e.isSearchActive?e.submitFilter(t):e.getUserList(t)},changePage:function(t){var e=this;e.paginationData.currentPage="prev"==t?e.paginationData.currentPage-1:e.paginationData.currentPage+1,e.isSearchActive?e.submitFilter(e.paginationData.currentPage):e.getUserList(e.paginationData.currentPage)}}},Js=Zs,Xs=Js,Qs=Object(St["a"])(Xs,B,H,!1,null,null,null),Gs=Qs.exports,tr=Gs,er=tr,ar=(a("bb6e"),Object(St["a"])(er,zs,Ks,!1,null,"1c0956a2",null)),sr=ar.exports,rr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"users-list-content px-4 pb-4 flex-1"},[a("div",{staticClass:"card p-5 h-full"},[a("div",{staticClass:"filter-container flex mb-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitFilter(e)}}},[a("div",{staticClass:"input-div with-icon border-r pr-4 mr-4"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("svg",{staticClass:"h-full text-gray-800",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.searchVal,expression:"filter.searchVal"}],staticClass:"min-w-350px",attrs:{type:"text",placeholder:"Cari nama, email, nomor hp, NIK"},domProps:{value:t.filter.searchVal},on:{input:function(e){e.target.composing||t.$set(t.filter,"searchVal",e.target.value)}}})])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},on:{input:t.filterDateChanged},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"Start Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.startDate,callback:function(e){t.$set(t.filter,"startDate",e)},expression:"filter.startDate"}})],1),a("span",{staticClass:"font-bold text-black-100 mx-5 text-sm"},[t._v("sampai")]),a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{placeholder:"End Date",readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.endDate,callback:function(e){t.$set(t.filter,"endDate",e)},expression:"filter.endDate"}})],1),a("button",{staticClass:"btn bg-primaryBtn text-white px-10 py-4 font-bold ml-3 rounded-md",on:{click:t.submitFilter}},[t._v("Cari")]),a("button",{staticClass:"btn border-none text-gray-400 font-bold p-2 ml-3",on:{click:t.removeFilter}},[t._v("reset filter")])])]),a("table",{staticClass:"w-full text-left"},[t._m(0),a("tbody",t._l(t.usersArr.data,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[a("p",{staticClass:"text-sm mb-1 font-bold text-violet"},[t._v(" "+t._s(e.detail?e.detail.name:"---")+" ")]),a("p",{staticClass:"text-gray-500 text-xs"},[t._v(" "+t._s(e.detail?e.detail.email:"---")+" ")])]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(e.mobileNumber?e.mobileNumber:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(e.ktp&&e.ktp.number?e.ktp.number:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6"},[a("div",{staticClass:"text-sm"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"DD MMM YYYY")))])]),a("div",{staticClass:"text-xs text-gray-500"},[a("span",[t._v(t._s(t._f("moment")(e.createdAt,"HH:mm:ss"))+" WIB")])])]),a("td",{staticClass:"border-b-2 py-3 text-sm"},[a("button",{staticClass:"btn border-2 font-bold border-violet font-bold py-2 px-4 rounded-md text-violet text-sm",on:{click:function(a){return t.goToUserDetails(e)}}},[t._v("Lihat Detail")])])])})),0)]),t.usersArr.data&&0==t.usersArr.data.length?a("div",{staticClass:"flex items-center w-full no-data-content "},[a("div",{staticClass:"w-full h-full text-center relative"},[a("img",{staticClass:"my-4 w-1/4",class:{"h-6/10":!1},attrs:{src:"../assets/img/no data results.png",alt:""}}),a("p",{staticClass:"text-xl 2xl:text-2xl mt-5 2xl:mt-10"},[t._v("Pencarian kamu tidak ditemukan")])])]):t._e(),t.usersArr.data&&t.usersArr.data.length>0?a("div",{staticClass:"flex text-sm py-3"},[a("div",{staticClass:"flex-1 flex font-bold"},[a("span",{staticClass:"mr-1"},[t._v("Terlihat")]),a("span",{staticClass:"mr-1"},[t._v(t._s(t.paginationData.resultStart)+"-"+t._s(t.paginationData.resultEnd))]),a("span",{staticClass:"mr-1"},[t._v("dari")]),a("span",[t._v(t._s(t.paginationData.totalResultsRows))])]),a("div",{staticClass:"flex-1 flex justify-end pr-5"},[t.paginationData.currentPage>1?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("prev")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})])]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(1)}}},[t._v("1")]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t._l(t.paginateTotalPages,(function(e){return a("div",{key:e.index,staticClass:"font-bold px-1 mx-1 h-5 cursor-pointer",class:{"text-violet":e!=t.paginationData.currentPage},on:{click:function(a){return t.selectPage(e)}}},[t._v(t._s(e))])})),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(t.paginationData.totalPages)}}},[t._v(t._s(t.paginationData.totalPages))]):t._e(),t.paginationData.currentPage<t.paginationData.totalPages?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("next")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"}})])]):t._e()],2)]):t._e()])])])},ir=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nama")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nomor HP")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("NIK")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Waktu Daftar")]),a("th",{staticClass:"border-b-2 py-3 text-sm"},[t._v("Aksi")])])])}],nr={components:{},props:{headerOptions:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},filter:{searchVal:null,startDate:null,endDate:null},dateFormat:{input:"DD MMM YYYY"},paginationData:{totalResultsRows:1,currentPage:1,perPage:10,resultStart:1,resultEnd:1,totalPages:1},paginationCount:10,allUsers:[],usersArr:{},search:{},isSearchActive:!1,isDatePickerActive:!1}},created:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.toggleLoader(!0),e.next=4,a.getUserList(1);case 4:case"end":return e.stop()}}),e)})))()},computed:{paginateTotalPages:function(){var t=this;if(t.paginationData.totalPages>t.paginationCount){var e=[],a=t._.chunk(Object(ea["a"])(Array(t.paginationData.totalPages).keys()),10);return e=a[t._.findIndex(a,(function(e){return e.includes(t.paginationData.currentPage-1)}))],e=e.map((function(t){return t+1})),e[e.length-1]<t.paginationData.totalPages&&e.push(e[e.length-1]+1),e}return t.paginationData.totalPages}},methods:{decodeJwt:function(t){var e=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},a=function(t){return JSON.parse(e(t.split(".")[1].replace("-","+").replace("_","/")))};return a(t)},toggleLoader:function(t,e){var a=this;a.$parent.toggleLoader(t,e)},submitFilter:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e,null!=s.filter.searchVal||null!=s.filter.startDate||null!=s.filter.endDate){a.next=4;break}return s.$swal("Error!","Seems like you forgot to put something on search filters!","error"),a.abrupt("return",!1);case 4:if(null!=s.filter.startDate||!s.filter.endDate){a.next=7;break}return s.$swal("Error!","Please select a Start Date.","error"),a.abrupt("return",!1);case 7:if(!s.filter.startDate||null!=s.filter.endDate){a.next=10;break}return s.$swal("Error!","Please select an End Date.","error"),a.abrupt("return",!1);case 10:return r={date_from:s.filter.startDate?s.$moment(s.filter.startDate).format("YYYY-MM-DD"):null,date_to:s.filter.endDate?s.$moment(s.filter.endDate).format("YYYY-MM-DD"):null,filter:s.filter.searchVal,filterStatus:4},s.isSearchActive=!0,s.toggleLoader(!0,"Loading data"),s.paginationData.currentPage=void 0!==t?s.paginationData.currentPage:1,a.next=16,s.getUserList(s.paginationData.currentPage,r);case 16:case"end":return a.stop()}}),a)})))()},removeFilter:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.isSearchActive=!1,a.filter={searchVal:null,startDate:null,endDate:null},a.isDatePickerActive=!1,a.toggleLoader(!0,"Loading data"),e.next=7,a.getUserList(1);case 7:case"end":return e.stop()}}),e)})))()},filterDateChanged:function(){var t=this;t.isDatePickerActive=!0},goToUserDetails:function(t){var e=this;e.$router.push({name:"User Details",params:{id:t._id}})},getAllUsers:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/users?skip=0&limit=10000",e.next=4,Nt.a.get(s,a.requestedHeaders);case 4:r=e.sent,a.allUsers=r.data.data;case 6:case"end":return e.stop()}}),e)})))()},totalUsers:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,a.prev=1,r="/api/users?status=4&skip=0&limit=10000".concat(void 0!==t?"&".concat(Object.keys(t),"=").concat(Object.values(t)):""),a.next=5,Nt.a.get(r,s.requestedHeaders);case 5:i=a.sent,s.paginationData.totalResultsRows=i.data.total,s.headerOptions({startDate:new Date,endDate:new Date,resultCount:s.paginationData.totalResultsRows}),a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),e.$swal("Error!",a.t0,"error"),s.toggleLoader(!1);case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getUserList:function(t,e){var a=this;return Object(_e["a"])(regeneratorRuntime.mark((function s(){var r,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=a,1==r.paginationData.currentPage?i=0:r.paginationData.currentPage==t&&(i=(t-1)*r.paginationData.perPage),n="/api/users?status=4&skip=".concat(i,"&limit=").concat(r.paginationData.perPage),void 0!==e&&Object.keys(e).map((function(t){return null!=e[t]&&(n+="&".concat(t,"=").concat(e[t]))})),r.toggleLoader(!0,"Loading data"),s.next=7,Nt.a.get(n,r.requestedHeaders).then((function(e){console.log(e),r.usersArr=e.data,r.paginationData.totalResultsRows=e.data.total,r.headerOptions({startDate:new Date,endDate:new Date,resultCount:r.paginationData.totalResultsRows}),r.paginationData=Object(ta["a"])(Object(ta["a"])({},r.paginationData),{resultStart:i+1,resultEnd:i+r.usersArr.data.length,totalPages:Math.ceil(r.paginationData.totalResultsRows/r.paginationData.perPage),currentPage:t}),r.toggleLoader(!1)})).catch((function(t){console.log(t),r.$swal("Error!",t,"error"),r.toggleLoader(!1)}));case 7:case"end":return s.stop()}}),s)})))()},selectPage:function(t){var e=this;e.paginationData.currentPage=t,e.isSearchActive?e.submitFilter(t):e.getUserList(t)},changePage:function(t){var e=this;e.paginationData.currentPage="prev"==t?e.paginationData.currentPage-1:e.paginationData.currentPage+1,e.isSearchActive?e.submitFilter(e.paginationData.currentPage):e.getUserList(e.paginationData.currentPage)}}},or=nr,lr=or,cr=Object(St["a"])(lr,W,V,!1,null,null,null),dr=cr.exports,ur=dr,mr=ur,pr=(a("5cf2"),Object(St["a"])(mr,rr,ir,!1,null,"5bc406f0",null)),fr=pr.exports,gr={components:{Header:xe,Loader:Kt,AllUsers:Ca,Active:Ha,Pending:es,Incomplete:ms,Banned:As,Freeze:Vs,Approved:sr,Rejected:fr},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},loader:{isShow:!1,message:"Preparing"},headerOptions:{startDate:new Date,endDate:new Date,resultCount:0},statusSelected:this.$route.params.status}},created:function(){},watch:{$route:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,a.statusSelected=a.$route.params.status,console.log(a.statusSelected);case 3:case"end":return e.stop()}}),e)})))()}},methods:{toggleLoader:function(t,e){var a=this;a.loader.isShow=t,a.loader.message=e||a.loader.message},setHeaderOptions:function(t){var e=this;e.headerOptions=t}}},vr=gr,xr=vr,br=Object(St["a"])(xr,z,K,!1,null,null,null),hr=br.exports,_r=hr,Cr=_r,Dr=(a("6eef"),Object(St["a"])(Cr,Je,Xe,!1,null,"d9ffd04e",null)),wr=Dr.exports,yr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"verification-details-container relative"},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("div",{staticClass:"h-full"},["active"==t.getStatusValue(t.userDetails.status)||"pending"==t.getStatusValue(t.userDetails.status)||"banned"==t.getStatusValue(t.userDetails.status)||"freeze"==t.getStatusValue(t.userDetails.status)||"approved"==t.getStatusValue(t.userDetails.status)||"rejected"==t.getStatusValue(t.userDetails.status)?a("div",{staticClass:"verification-details-content p-4"},[a("div",{staticClass:"grid details-grid gap-3 h-full w-full"},[a("div",{staticClass:"card p-4 relative"},[a("div",{staticClass:"corner-status absolute right-0 top-0 px-6 py-1 text-white font-bold xs-text rounded-tr-xl rounded-bl-xl capitalize",class:{"bg-v-status-active":"active"==t.getStatusValue(t.userDetails.status),"bg-v-status-pending":"pending"==t.getStatusValue(t.userDetails.status),"bg-v-status-incomplete":"incomplete"==t.getStatusValue(t.userDetails.status),"bg-v-status-banned":"banned"==t.getStatusValue(t.userDetails.status),"bg-v-status-freeze":"freeze"==t.getStatusValue(t.userDetails.status),"bg-v-status-approved":"approved"==t.getStatusValue(t.userDetails.status),"bg-v-status-rejected":"rejected"==t.getStatusValue(t.userDetails.status)}},[t._v(" "+t._s(t.getStatusValue(t.userDetails.status))+" ")]),a("div",{staticClass:"flex mb-3 flex items-center"},[a("p",{staticClass:"sm-text font-bold mr-3"},[t._v("Data Pribadi")]),t.userDetails.hasOwnProperty("detail")?t._e():a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1),a("div",{staticClass:"flex xs-text mb-3"},[t._m(0),a("p",{staticClass:"font-bold flex-4"},[t._v(t._s(t.userDetails.detail?t.userDetails.detail.name:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(1),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.mobileNumber?t.userDetails.mobileNumber:"---"))])]),a("div",{staticClass:"flex items-center xs-text mb-3"},[t._m(2),a("div",{staticClass:"flex-4 flex items-center"},[a("p",[t._v(t._s(t.userDetails.detail?t.userDetails.detail.email:"---"))]),t.userDetails.emailVerified?a("img",{staticClass:"w-5 ml-3",attrs:{src:"../../assets/img/secure.png",alt:""}}):t._e()])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(3),a("div",{staticClass:"flex-4 flex items-center"},[a("p",[t._v(t._s(t.userDetails.ktp&&t.userDetails.ktp.number?t.userDetails.ktp.number:"---"))]),t.userDetails.ktp&&t.userDetails.ktp.validateNIK?a("img",{staticClass:"w-5 ml-3",attrs:{src:"../../assets/img/secure.png",alt:""}}):t._e()])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(4),t.userDetails.detail&&t.userDetails.detail.birthdate?a("p",{staticClass:"flex-4"},[t._v(t._s(t._f("moment")(new Date,"diff",t.userDetails.detail?t.userDetails.detail.birthdate:new Date,"years"))+" tahun")]):a("p",{staticClass:"flex-4"},[t._v(t._s("---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(5),a("p",{staticClass:"flex-4 capitalize"},[t._v(t._s(t.userDetails.detail&&t.userDetails.detail.pekerjaan?t.userDetails.detail.pekerjaan.replace("---"," "):"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(6),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.detail&&t.userDetails.detail.industri_label?t.userDetails.detail.industri_label:"---"))])]),a("div",{staticClass:"flex xs-text"},[t._m(7),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.detail&&t.userDetails.detail.descriptionOfsalary?t.userDetails.detail.descriptionOfsalary:"---"))])])]),a("div",{staticClass:"card p-4 relative"},[!t.userDetails.blacklist||t.userDetails.blacklist&&!t.userDetails.blacklist.data?a("div",{staticClass:"corner-status absolute right-0 top-0 bdg-status--info px-6 py-1 text-white font-bold xs-text rounded-tr-xl rounded-bl-xl"},[t._v(" Clear ")]):t._e(),t.userDetails.blacklist&&t.userDetails.blacklist.data?a("div",{staticClass:"corner-status absolute right-0 top-0 bdg-status--blacklist px-6 py-1 text-white font-bold xs-text rounded-tr-xl rounded-bl-xl"},[t._v(" Blacklist "),a("img",{staticClass:"h-3 ml-2 cursor-pointer relative",staticStyle:{top:"-1px"},attrs:{src:"../../assets/img/info-white.png",alt:""},on:{click:function(e){return t.toggleModals(!0,"blacklist")}}})]):t._e(),a("div",{staticClass:"flex mb-3"},[a("p",{staticClass:"sm-text font-bold mr-3"},[t._v("Di cek oleh sistem")]),t.userDetails.hasOwnProperty("ktp")?t._e():a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1),a("div",{staticClass:"flex xs-text items-center mb-2"},[t._m(8),a("p",{staticClass:"font-bold flex-1"},[t._v(t._s(t.userDetails.npwp?t.userDetails.npwp:"---"))])]),a("div",{staticClass:"flex xs-text items-center mb-2"},[t._m(9),a("div",{staticClass:"flex-1"},[t.userDetails.ktp&&t.userDetails.ktp.number&&t.userDetails.ocrData&&t.userDetails.ocrData.idNumber?a("div",{staticClass:"count-badge rounded-2xl py-1 text-center w-16 inline-block text-white font-bold xs-text",class:{"bdg-status--success":t.userDetails.ktp.number==t.userDetails.ocrData.idNumber,"bdg-status--danger":t.userDetails.ktp.number!=t.userDetails.ocrData.idNumber}},[t._v(" "+t._s(t.userDetails.ktp.number==t.userDetails.ocrData.idNumber?"Yes":"No")+" ")]):a("div",{staticClass:"count-badge rounded-2xl py-1 text-center w-20 2xl:w-28 inline-block text-white font-bold xs-text bdg-status--warning"},[t._v("No Record")])])]),a("div",{staticClass:"flex xs-text items-center mb-2"},[t._m(10),a("div",{staticClass:"flex-1"},[a("div",{staticClass:"count-badge rounded-2xl py-1 text-center w-16 inline-block text-white font-bold xs-text",class:{"bdg-status--success":t.userDetails.isUsedAsEmergencyContact&&0==t.userDetails.isUsedAsEmergencyContact.length,"bdg-status--danger":t.userDetails.isUsedAsEmergencyContact&&t.userDetails.isUsedAsEmergencyContact.length>0}},[t._v(" "+t._s(t.userDetails.isUsedAsEmergencyContact&&t.userDetails.isUsedAsEmergencyContact.length>0?"Yes":"No")+" ")]),a("img",{staticClass:"w-4 ml-3 cursor-pointer",attrs:{src:"../../assets/img/info-circle-violet.png",alt:""},on:{click:function(e){return t.toggleModals(!0,"emergencyContact")}}})])]),"pending"!=t.getStatusValue(t.userDetails.status)?a("div",{staticClass:"flex xs-text items-center mb-2"},[t._m(11),a("p",{staticClass:"flex-1"},[t._v(t._s(t.userDetails.tele_check&&null!=t.userDetails.tele_check.data?t.userDetails.tele_check.data.status_msg:"No Record"))])]):t._e(),a("div",{staticClass:"flex xs-text items-center mb-2"},[t._m(12),a("div",{staticClass:"flex-1"},[a("div",{staticClass:"count-badge rounded-2xl py-1 text-center w-16 inline-block text-white font-bold xs-text",class:{"bdg-status--success":t.userDetails.emergencyContact&&t.userDetails.mobileNumber!=t.userDetails.emergencyContact.mobileNumber,"bdg-status--danger":t.userDetails.emergencyContact&&t.userDetails.mobileNumber==t.userDetails.emergencyContact.mobileNumber}},[t._v(" "+t._s(t.userDetails.emergencyContact&&t.userDetails.mobileNumber==t.userDetails.emergencyContact.mobileNumber?"Yes":"No")+" ")])])]),"pending"!=t.getStatusValue(t.userDetails.status)?a("div",{staticClass:"flex xs-text items-center mb-2"},[t._m(13),a("div",{staticClass:"flex-1"},[t.userDetails.hasOwnProperty("ktp")?t.userDetails.multiPlatformResult&&t.userDetails.multiPlatformResult.queryCount?a("div",{staticClass:"count-badge rounded-2xl py-1 text-center w-16 inline-block text-white font-bold xs-text",class:{"bdg-status--success":!t.userDetails.multiPlatformResult||t.userDetails.multiPlatformResult&&t.userDetails.multiPlatformResult.queryCount<20,"bdg-status--warning":t.userDetails.multiPlatformResult&&t.userDetails.multiPlatformResult.queryCount>=20}},[t._v(" "+t._s(t.userDetails.multiPlatformResult?t.userDetails.multiPlatformResult.queryCount:"0")+" ")]):a("div",{staticClass:"count-badge rounded-2xl py-1 text-center w-20 2xl:w-28 inline-block text-white font-bold xs-text bdg-status--warning"},[t._v("No Record")]):a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1)]):t._e(),"pending"!=t.getStatusValue(t.userDetails.status)?a("div",{staticClass:"flex xs-text items-center mb-2"},[t._m(14),a("div",{staticClass:"flex-1"},[t.userDetails.hasOwnProperty("ktp")?t.userDetails.trusting_social?a("div",{staticClass:"count-badge rounded-2xl py-1 text-center w-16 inline-block text-white font-bold xs-text",class:{"bdg-status--success":t.userDetails.trusting_social>=650,"bdg-status--warning":t.userDetails.trusting_social>=550&&t.userDetails.trusting_social<650,"bdg-status--danger":!t.userDetails.trusting_social||t.userDetails.trusting_social<550}},[t._v(" "+t._s(t.userDetails.trusting_social?t.userDetails.trusting_social:"0")+" ")]):a("div",{staticClass:"count-badge rounded-2xl py-1 text-center w-20 2xl:w-28 inline-block text-white font-bold xs-text bdg-status--warning"},[t._v("No Record")]):a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1)]):t._e()]),a("div",{staticClass:"row-span-2 flex flex-col"},["pending"!=t.getStatusValue(t.userDetails.status)&&"approved"!=t.getStatusValue(t.userDetails.status)&&"rejected"!=t.getStatusValue(t.userDetails.status)?a("div",{staticClass:"flex flex-col flex-3"},[a("div",{staticClass:"flex flex-2"},[a("div",{staticClass:"card px-4 py-3 mr-2 mb-2 flex-5"},[a("p",{staticClass:"sm-text font-bold mb-1 flex items-center"},[a("span",{staticClass:"mr-3"},[t._v("Limit")]),t.userDetails.hasOwnProperty("credit")?t._e():a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1),a("p",{staticClass:"lg-text text-violet font-bold ff-medium mb-1"},[t._v(t._s(t._f("currency")(t.userDetails.credit)))]),a("div",{staticClass:"flex"},[t._m(15),a("p",{staticClass:"flex-5 xs-text"},[t._v(t._s(t._f("currency")(t.userDetails.credit-t.userDetails.remainingCredit)))])])]),a("div",{staticClass:"card px-4 py-3 ml-1 mb-2 flex-3"},[a("p",{staticClass:"xs-text font-bold mb-2"},[t._v("Waktu Daftar")]),a("div",{staticClass:"flex items-center mb-2"},[a("div",{staticClass:"w-5 mr-2"},[a("img",{staticClass:"w-full block",attrs:{src:"../../assets/img/calendar-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 xs-text"},[t._v(" "+t._s(t._f("moment")(t.userDetails.createdAt,"DD MMM YYYY"))+" ")])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-5 mr-2"},[a("img",{staticClass:"w-full block",attrs:{src:"../../assets/img/clock-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 xs-text"},[t._v(" "+t._s(t._f("moment")(t.userDetails.createdAt,"HH:MM:SS"))+" WIB ")])])])]),a("div",{staticClass:"flex flex-3"},[a("div",{staticClass:"card px-4 py-3 mr-2 mt-1 flex-5 flex flex-col"},[a("div",{staticClass:"flex flex-1 mb-2"},[a("div",{staticClass:"flex-1 mr-1"},[a("div",{staticClass:"img-container w-full h-full rounded-lg relative overflow-hidden",on:{click:function(e){return t.toggleModals(!0,"fotoKtp")}}},[a("img",{staticClass:"rounded-lg absolute object-cover w-full",attrs:{src:t.userDetails.ktp?t.userDetails.ktp.image:"/assets/img/no-image.png",alt:""}})])]),a("div",{staticClass:"flex-1 ml-1",on:{click:function(e){return t.toggleModals(!0,"selfieKtp")}}},[a("div",{staticClass:"img-container w-full h-full rounded-lg relative overflow-hidden"},[a("img",{staticClass:"rounded-lg absolute object-cover w-full",attrs:{src:t.userDetails.selfie?t.userDetails.selfie:"/assets/img/no-image.png",alt:""}})])])]),a("div",{staticClass:"flex-none"},[a("div",{staticClass:"count-badge rounded-2xl px-5 py-2 text-center w-full inline-block text-white font-bold xs-text",class:{"bdg-status--success":t.userDetails.ktpValidation?t.userDetails.ktpValidation.isFoundMatch:"---","bdg-status--warning":t.userDetails.ktpValidation?t.userDetails.ktpValidation.isFoundNotMatch:"---","bdg-status--danger":t.userDetails.ktpValidation?t.userDetails.ktpValidation.isNotFound:"---","bdg-status--noRecord":!t.userDetails.ktpValidation}},[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:["fas",t.userDetails.ktpValidation&&t.userDetails.ktpValidation.isFoundMatch?"check":"times"]}}),t._v(" "+t._s(t.userDetails.ktpValidation&&t.userDetails.ktpValidation.isFoundMatch?"Found - Match":t.userDetails.ktpValidation&&t.userDetails.ktpValidation.isFoundNotMatch?"Found - Not Match":t.userDetails.ktpValidation&&t.userDetails.ktpValidation.isNotFound?"Not Found":"No Record")+" ")],1)])]),a("div",{staticClass:"card p-4 ml-1 mt-1 flex-3"},[a("p",{staticClass:"xs-text font-bold mb-2"},[t._v("Metode Pembayaran")]),"card"==t.userDetails.defaultPayment?a("img",{staticClass:"w-14 block mb-2",attrs:{src:"../../assets/img/visa.png",alt:""}}):t._e(),"dana"==t.userDetails.defaultPayment?a("img",{staticClass:"w-18 block mb-2",attrs:{src:"../../assets/img/logo-dana-blue-sm.png",alt:""}}):t._e(),"gopay"==t.userDetails.defaultPayment?a("img",{staticClass:"w-18 block mt-2 mb-4",attrs:{src:"../../assets/img/gopay-logo.svg",alt:""}}):t._e(),a("button",{staticClass:"btn xs-text text-violet border border-violet rounded-md w-full font-bold flex-1 shadow py-2 flex justify-center",class:{"opacity-40":!t.userDetails.hasOwnProperty("danaData")},attrs:{disabled:!t.userDetails.hasOwnProperty("danaData")},on:{click:function(e){return t.toggleModals(!0,"paymentMethod")}}},[t.userDetails.hasOwnProperty("danaData")?a("span",[t._v("Info Lainnya")]):a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1)])])]):t._e(),"pending"==t.getStatusValue(t.userDetails.status)||"approved"==t.getStatusValue(t.userDetails.status)||"rejected"==t.getStatusValue(t.userDetails.status)?a("div",{staticClass:"flex flex-3"},[a("div",{staticClass:"flex flex-col flex-5 mr-2"},[a("div",{staticClass:"card px-4 py-3 flex-1 flex flex-col"},[a("p",{staticClass:"sm-text font-bold mb-3"},[t._v("Validasi KTP")]),a("div",{staticClass:"count-badge rounded-2xl px-5 py-2 text-center w-full inline-block text-white font-bold xs-text mb-3",class:{"bdg-status--success":t.userDetails.ktpValidation?t.userDetails.ktpValidation.isFoundMatch:"---","bdg-status--warning":t.userDetails.ktpValidation?t.userDetails.ktpValidation.isFoundNotMatch:"---","bdg-status--danger":t.userDetails.ktpValidation?t.userDetails.ktpValidation.isNotFound:"---","bdg-status--noRecord":!t.userDetails.ktpValidation}},[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:["fas",t.userDetails.ktpValidation&&t.userDetails.ktpValidation.isFoundMatch?"check":"times"]}}),t._v(" "+t._s(t.userDetails.ktpValidation&&t.userDetails.ktpValidation.isFoundMatch?"Found - Match":t.userDetails.ktpValidation&&t.userDetails.ktpValidation.isFoundNotMatch?"Found - Not Match":t.userDetails.ktpValidation&&t.userDetails.ktpValidation.isNotFound?"Not Found":"No Record")+" ")],1),a("div",{staticClass:"flex flex-1 mb-2"},[a("div",{staticClass:"flex-1 flex flex-col mr-1"},[a("p",{staticClass:"xs-text font-bold mb-3"},[t._v("Foto KTP")]),a("div",{staticClass:"img-container w-full h-full rounded-lg relative overflow-hidden",on:{click:function(e){return t.toggleModals(!0,"fotoKtp")}}},[a("img",{staticClass:"rounded-lg absolute object-cover w-full",attrs:{src:t.userDetails.ktp?t.userDetails.ktp.image:"/assets/img/no-image.png",alt:""}})])]),a("div",{staticClass:"flex-1 flex flex-col ml-1"},[a("p",{staticClass:"xs-text font-bold mb-3"},[t._v("Selfie KTP")]),a("div",{staticClass:"img-container w-full h-full rounded-lg relative overflow-hidden",on:{click:function(e){return t.toggleModals(!0,"selfieKtp")}}},[a("img",{staticClass:"rounded-lg absolute object-cover w-full",attrs:{src:t.userDetails.selfie||"/assets/img/no-image.png",alt:""}})])])])])]),a("div",{staticClass:"flex flex-col flex-3 ml-1"},[a("div",{staticClass:"card px-4 py-3 mb-2 flex-2"},[a("p",{staticClass:"xs-text font-bold mb-2"},[t._v("Waktu Daftar")]),a("div",{staticClass:"flex items-center mb-2"},[a("div",{staticClass:"w-5 mr-2"},[a("img",{staticClass:"w-full block",attrs:{src:"../../assets/img/calendar-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 xs-text"},[t._v(" "+t._s(t._f("moment")(t.userDetails.createdAt,"DD MMM YYYY"))+" ")])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-5 mr-2"},[a("img",{staticClass:"w-full block",attrs:{src:"../../assets/img/clock-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 xs-text"},[t._v(" "+t._s(t._f("moment")(t.userDetails.createdAt,"HH:MM:SS"))+" WIB ")])])]),a("div",{staticClass:"card p-4 mt-1 flex-3"},[a("p",{staticClass:"xs-text font-bold mb-2"},[t._v("Metode Pembayaran")]),"card"==t.userDetails.defaultPayment?a("img",{staticClass:"w-14 block mb-2",attrs:{src:"../../assets/img/visa.png",alt:""}}):t._e(),"dana"==t.userDetails.defaultPayment?a("img",{staticClass:"w-18 block mb-2",attrs:{src:"../../assets/img/logo-dana-blue-sm.png",alt:""}}):t._e(),"gopay"==t.userDetails.defaultPayment?a("img",{staticClass:"w-18 block mt-2 mb-4",attrs:{src:"../../assets/img/gopay-logo.svg",alt:""}}):t._e(),a("button",{staticClass:"btn xs-text text-violet border border-violet rounded-md w-full font-bold flex-1 shadow py-2 flex justify-center",class:{"opacity-40":!t.userDetails.hasOwnProperty("danaData")},attrs:{disabled:!t.userDetails.hasOwnProperty("danaData")},on:{click:function(e){return t.toggleModals(!0,"paymentMethod")}}},[t.userDetails.hasOwnProperty("danaData")?a("span",[t._v("Info Lainnya")]):a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1)])])]):t._e(),"pending"==t.getStatusValue(t.userDetails.status)?a("div",{staticClass:"card p-4 mt-3 flex-4"}):t._e(),"pending"!=t.getStatusValue(t.userDetails.status)?a("div",{staticClass:"card p-4 mt-3 flex-4"},[a("p",{staticClass:"sm-text font-bold mb-3 flex items-center"},[a("span",{staticClass:"mr-3"},[t._v("AFPI")]),t.responseAFPI.hasOwnProperty("income")?t._e():a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1),a("div",{staticClass:"flex border-b-2 mb-2 pb-2"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Income")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t._f("currency")(t.responseAFPI.income?t.responseAFPI.income:0)))])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Limit")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t._f("currency")(t.userDetails.remainingCredit)))])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Total number of loan")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t.responseAFPI.numloan?t.responseAFPI.numloan:0))])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Total amount of loan")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t._f("currency")(t.responseAFPI.totloan?t.responseAFPI.totloan:0)))])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Total paid")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t._f("currency")(t.responseAFPI.totpaid?t.responseAFPI.totpaid:0)))])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Total outstanding")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t._f("currency")(t.responseAFPI.totout?t.responseAFPI.totout:0)))])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Total default")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t._f("currency")(t.responseAFPI.totdefault?t.responseAFPI.totdefault:0)))])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Current Capacity")]),a("p",{staticClass:"xs-text"},[t._v(t._s((t.responseAFPI.totout?t.responseAFPI.totout/t.responseAFPI.income*100:0).toFixed(2)+"%"))])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Default Rate")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t.responseAFPI.defrate?parseFloat(t.responseAFPI.defrate).toFixed(2):"0%"))])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Total default (6 Months)")]),a("p",{staticClass:"xs-text"},[t._v(t._s("---"))])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Max DPD")]),a("p",{staticClass:"xs-text"},[t._v(t._s("---"))])]),a("div",{staticClass:"flex-1"},[a("img",{staticClass:"h-2/5 mt-2",attrs:{src:"../../assets/img/afpi.png",alt:""}})])])]):t._e()]),a("div",{staticClass:"card p-4 relative flex-1"},[a("div",{staticClass:"flex mb-3"},[a("div",{staticClass:"flex-1 flex items-center"},[a("p",{staticClass:"sm-text font-bold mr-5"},[t._v("OCR")]),t.userDetails&&!t.userDetails.ocrData?a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}}):t._e()],1),a("div",{staticClass:"flex-1 text-right"},[a("button",{staticClass:"btn rounded-sm font-bold py-1 px-4 text-violet xs-text",class:{"text-opacity-50":t.userDetails&&!t.userDetails.ocrData},attrs:{disabled:t.userDetails&&!t.userDetails.ocrData},on:{click:function(e){return t.toggleModals(!0,"editInfo")}}},[t._v("Edit")])])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(16),a("p",{staticClass:"font-bold flex-4"},[t._v(t._s(t.userDetails.ocrData&&t.userDetails.ocrData.idNumber?t.userDetails.ocrData.idNumber:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(17),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.ocrData&&t.userDetails.ocrData.birthPlaceBirthday?t.userDetails.ocrData.birthPlaceBirthday:"---"))])]),a("div",{staticClass:"flex items-center xs-text mb-3"},[t._m(18),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.ocrData&&t.userDetails.ocrData.gender?t.userDetails.ocrData.gender:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(19),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.ocrData&&t.userDetails.ocrData.address?t.userDetails.ocrData.address:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(20),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.ocrData&&t.userDetails.ocrData.rtrw?t.userDetails.ocrData.rtrw:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(21),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.ocrData&&t.userDetails.ocrData.village?t.userDetails.ocrData.village:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(22),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.ocrData&&t.userDetails.ocrData.district?t.userDetails.ocrData.district:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(23),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.ocrData&&t.userDetails.ocrData.province?t.userDetails.ocrData.province:"---"))])]),a("div",{staticClass:"flex xs-text"},[t._m(24),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.ocrData&&t.userDetails.ocrData.maritalStatus?t.userDetails.ocrData.maritalStatus:"---"))])])]),a("div",{staticClass:"flex flex-col"},[a("div",{staticClass:"flex flex-3 mb-3"},[a("div",{staticClass:"card px-4 py-3 mr-1 flex-1"},[a("p",{staticClass:"sm-text font-bold mb-3 flex items-center"},[a("span",{staticClass:"mr-3"},[t._v("Date E-Wallet Lainnya")]),t.userDetails.hasOwnProperty("gopay")?t._e():a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1),a("div",{staticClass:"flex xs-text mb-3"},[t._m(25),a("p",{staticClass:"flex-4"},[t._v(" "+t._s(t.userDetails.gopay?t.userDetails.gopay.ewallet_account_name:"---")+" "),t.userDetails.gopay&&t.userDetails.gopay.kyc_status?a("span",[t._v(" ("+t._s(t.userDetails.gopay?t.userDetails.gopay.kyc_status:"")+") ")]):t._e()])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(26),a("p",{staticClass:"flex-4"},[t._v(" "+t._s(t.userDetails.ovo&&t.userDetails.ovo.ewallet_account_name?t.userDetails.ovo.ewallet_account_name.replace(/X/g,"*"):"---")+" ")])]),a("div",{staticClass:"flex xs-text"},[t._m(27),a("p",{staticClass:"flex-4"},[t._v(" "+t._s(t.userDetails.linkaja?t.userDetails.linkaja.ewallet_account_name:"---")+" ")])])]),a("div",{staticClass:"card px-4 py-3 ml-2 flex-1"},[a("p",{staticClass:"sm-text font-bold mb-3 flex items-center"},[a("span",{staticClass:"mr-3"},[t._v("Kontak Darurat")]),t.userDetails.hasOwnProperty("emergencyContact")?t._e():a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1),a("div",{staticClass:"flex xs-text mb-3"},[t._m(28),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.emergencyContact?t.userDetails.emergencyContact.name:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(29),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.emergencyContact?t.userDetails.emergencyContact.type:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(30),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.emergencyContact?t.userDetails.emergencyContact.mobileNumber:"---"))])]),a("div",{staticClass:"flex xs-text items-center"},[t._m(31),a("div",{staticClass:"flex-4"},[a("div",{staticClass:"count-badge rounded-2xl px-5 py-1 text-center w-16 inline-block text-white font-bold xs-text",class:{"bdg-status--success":!t.userDetails.emergencyContactIsUser,"bdg-status--danger":t.userDetails.emergencyContactIsUser}},[t._v(" "+t._s(t.userDetails.emergencyContactIsUser?"Yes":"No")+" ")])])])])]),a("div",{staticClass:"flex flex-2"},[a("div",{staticClass:"flex-1 mr-1"},[a("div",{staticClass:"card px-4 py-3 h-full w-full"},[a("p",{staticClass:"sm-text font-bold mb-5 flex items-center"},[a("span",{staticClass:"mr-3"},[t._v("Komentar")]),t.adminData.hasOwnProperty("displayName")?t._e():a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1),a("button",{staticClass:"btn xs-text text-violet border border-violet rounded-md w-full font-bold px-8 py-2 flex-1 shadow",class:{"opacity-40":!t.adminData.hasOwnProperty("displayName")},attrs:{disabled:!t.adminData.hasOwnProperty("displayName")},on:{click:function(e){return t.toggleModals(!0,"comment")}}},[t._v("Lihat & Komentar disini")])])]),a("div",{staticClass:"flex flex-1 ml-2 "},[a("div",{staticClass:"card mr-1 flex-1 relative outline-none border-none",on:{click:function(e){return e.preventDefault(),t.toggleModals(!0,"location")}}},[a("p",{staticClass:"sm-text font-bold mb-2 absolute top-3 left-4 z-10"},[t._v("Lokasi")]),a("GmapMap",{staticStyle:{height:"100%","border-radius":"12px",overflow:"hidden"},attrs:{center:{lat:parseFloat(t.userDetails.loc?t.userDetails.loc.coordinates[1]:0),lng:parseFloat(t.userDetails.loc?t.userDetails.loc.coordinates[0]:0)},zoom:10,options:{fullscreenControl:!1,disableDefaultUI:!1}}},[a("GmapMarker",{attrs:{position:{lat:parseFloat(t.userDetails.loc?t.userDetails.loc.coordinates[1]:0),lng:parseFloat(t.userDetails.loc?t.userDetails.loc.coordinates[0]:0)}}})],1)],1),a("div",{staticClass:"card px-4 py-3 ml-2 flex-1"},[a("p",{staticClass:"sm-text font-bold mb-5 flex items-center"},[a("span",{staticClass:"mr-3"},[t._v("Email")]),t.userDetails&&!t.userDetails.hasOwnProperty("emailLogs")?a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}}):t._e()],1),a("button",{staticClass:"btn xs-text text-violet border border-violet rounded-md w-full font-bold px-8 py-2 flex-1 shadow",class:{"opacity-40":!t.userDetails.hasOwnProperty("emailLogs")},attrs:{disabled:!t.userDetails.hasOwnProperty("emailLogs")},on:{click:function(e){return t.toggleModals(!0,"email")}}},[t._v("Detail")])])])])])])]):t._e(),"incomplete"==t.getStatusValue(t.userDetails.status)?a("div",{staticClass:"verification-details-content p-4"},[a("div",{staticClass:"grid details-grid incomplete-status gap-3 h-full w-full"},[a("div",{staticClass:"card px-4 py-6 flex items-center text-xl ff-thin font-bold"},[t._v(" Step 1 ")]),a("div",{staticClass:"card px-4 py-6 flex items-center text-xl ff-thin font-bold"},[t._v(" Step 2 ")]),a("div",{staticClass:"card px-4 py-6 flex items-center text-xl ff-thin font-bold"},[t._v(" Step 3 ")]),a("div",{staticClass:"card p-4 relative"},[a("div",{staticClass:"corner-status absolute right-0 top-0 bg-v-status-incomplete px-6 py-1 text-white font-bold xs-text rounded-tr-xl rounded-bl-xl"},[t._v(" Incomplete ")]),a("p",{staticClass:"sm-text font-bold mb-4 flex items-center"},[a("span",{staticClass:"mr-3"},[t._v("Data Pribadi")]),t.userDetails.hasOwnProperty("mobileNumber")?t._e():a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1),a("div",{staticClass:"flex xs-text mb-3"},[t._m(32),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.detail&&t.userDetails.detail.name?t.userDetails.detail.name:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(33),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.mobileNumber?t.userDetails.mobileNumber:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(34),a("div",{staticClass:"flex-4 flex items-center"},[a("p",[t._v(t._s(t.userDetails.detail?t.userDetails.detail.email:"---"))]),t.userDetails.emailVerified?a("img",{staticClass:"w-5 ml-3",attrs:{src:"../../assets/img/secure.png",alt:""}}):t._e()])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(35),a("div",{staticClass:"flex-4 flex items-center"},[a("p",[t._v(t._s(t.userDetails.ktp&&t.userDetails.ktp.number?t.userDetails.ktp.number:"---"))]),t.userDetails.ktp&&t.userDetails.ktp.validateNIK?a("img",{staticClass:"w-5 ml-3",attrs:{src:"../../assets/img/secure.png",alt:""}}):t._e()])])]),a("div",{staticClass:"card p-4"},[t._m(36),a("div",{staticClass:"flex xs-text mb-3"},[t._m(37),t.userDetails.detail&&!t.userDetails.detail.industri_label?a("div",{staticClass:"flex-4"},[a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1):a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.detail&&t.userDetails.detail.industri_label?t.userDetails.detail.industri_label:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(38),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.detail&&t.userDetails.detail.pekerjaan?t.userDetails.detail.pekerjaan.replace("---"," "):"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(39),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.detail&&t.userDetails.detail.pendidikan?t.userDetails.detail.pendidikan:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(40),t.userDetails.detail&&!t.userDetails.detail.descriptionOfsalary?a("div",{staticClass:"flex-4"},[a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1):a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.detail&&t.userDetails.detail.descriptionOfsalary?t.userDetails.detail.descriptionOfsalary:"---"))])])]),a("div",{staticClass:"card p-4"},[a("p",{staticClass:"sm-text font-bold mb-4 flex items-center"},[a("span",{staticClass:"mr-3"},[t._v("Metode Pembayaran - Kartu Debit/ Kredit")]),t.userDetails?t._e():a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1),a("div",{staticClass:"flex xs-text mb-3"},[t._m(41),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.card.length>0?t.userDetails.card[0].type:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(42),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.card.length>0?t.userDetails.card[0].masked:"---"))])])]),a("div",{staticClass:"card p-4 flex"},[a("div",{staticClass:"flex-1 flex flex-col mr-1"},[a("p",{staticClass:"sm-text font-bold mb-3"},[t._v("Foto KTP")]),t.userDetails.ktp&&t.userDetails.ktp.image?a("div",{staticClass:"img-container w-full h-full rounded-lg border relative overflow-hidden",on:{click:function(e){return t.toggleModals(!0,"fotoKtp")}}},[a("img",{staticClass:"rounded-lg absolute object-cover w-full",attrs:{src:t.userDetails.ktp&&t.userDetails.ktp.image?t.userDetails.ktp.image:"../../assets/img/foto-ktp.png",alt:""}})]):a("div",{staticClass:"h-no-ktp"},[a("img",{staticClass:"rounded-lg h-full",attrs:{src:"../../assets/img/foto-ktp.png",alt:""}})])]),a("div",{staticClass:"flex-1 flex flex-col ml-1"},[a("p",{staticClass:"sm-text font-bold mb-3"},[t._v("Foto selfie dengan KTP")]),t.userDetails.selfie?a("div",{staticClass:"img-container w-full h-full rounded-lg border relative overflow-hidden",on:{click:function(e){return t.toggleModals(!0,"selfieKtp")}}},[a("img",{staticClass:"rounded-lg absolute object-cover w-full",attrs:{src:t.userDetails.selfie?t.userDetails.selfie:"../../assets/img/selfie-foto-ktp.png",alt:""}})]):a("div",{staticClass:"h-no-ktp"},[a("img",{staticClass:"rounded-lg h-full",attrs:{src:"../../assets/img/foto-ktp.png",alt:""}})])])]),a("div",{staticClass:"card p-4"},[a("p",{staticClass:"sm-text font-bold mb-4 flex items-center"},[a("span",{staticClass:"mr-3"},[t._v("Kontak Darurat")]),t.userDetails.emergencyContact&&!t.userDetails.emergencyContact.name?a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}}):t._e()],1),a("div",{staticClass:"flex xs-text mb-3"},[t._m(43),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.emergencyContact?t.userDetails.emergencyContact.name:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(44),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.emergencyContact?t.userDetails.emergencyContact.mobileNumber:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(45),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.emergencyContact?t.userDetails.emergencyContact.type:"---"))])])]),a("div",{staticClass:"card p-4"},[a("p",{staticClass:"sm-text font-bold mb-4"},[t._v("Metode Pembayaran - Pembayaran Instan")]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(46),t.userDetails.danaVerifiedAccount||t.userDetails.gopayVerifiedAccount?a("div",{staticClass:"flex-4"},[t.userDetails.danaVerifiedAccount?a("img",{staticClass:"w-16 block inline-block",attrs:{src:"../../assets/img/dana.png",alt:""}}):t._e(),t.userDetails.gopayVerifiedAccount?a("img",{staticClass:"w-16 block inline-block",attrs:{src:"../../assets/img/gopay-logo.svg",alt:""}}):t._e()]):a("p",{staticClass:"flex-4"},[t._v(t._s("---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(47),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.danaVerifiedAccount||t.userDetails.gopayVerifiedAccount?t.userDetails.mobileNumber:"---"))])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(48),t.userDetails.danaVerifiedAccount&&!t.userDetails.danaData?a("div",{staticClass:"flex-4"},[a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1):a("p",{staticClass:"flex-4"},[t.userDetails.danaVerifiedAccount&&t.userDetails.danaData?a("span",[t._v(t._s(t._f("currency")(t.userDetails.danaData.dana)))]):a("span",[t._v(t._s("---"))])])])]),a("div",{staticClass:"card col-span-2 relative"},[a("p",{staticClass:"sm-text font-bold mb-2 absolute top-3 left-4 z-10"},[t._v("Lokasi saat daftar")]),a("GmapMap",{staticStyle:{height:"100%","border-radius":"12px",overflow:"hidden"},attrs:{center:{lat:parseFloat(t.userDetails.loc?t.userDetails.loc.coordinates[1]:0),lng:parseFloat(t.userDetails.loc?t.userDetails.loc.coordinates[0]:0)},zoom:10,options:{fullscreenControl:!1,disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1}}},[a("GmapMarker",{attrs:{position:{lat:parseFloat(t.userDetails.loc?t.userDetails.loc.coordinates[1]:0),lng:parseFloat(t.userDetails.loc?t.userDetails.loc.coordinates[0]:0)}}})],1)],1),a("div",{staticClass:"card p-4"},[a("p",{staticClass:"sm-text font-bold mb-4"},[t._v("Data Pendukung")]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(49),a("p",{staticClass:"flex-4"},[a("span",[t._v(t._s(t.userDetails.contract?"Sudah klik kontrak":"Belum klik kontrak"))])])]),a("div",{staticClass:"flex xs-text mb-3 items-center"},[t._m(50),t.userDetails.emailLogs&&0==t.userDetails.emailLogs.length?a("p",{staticClass:"flex-4"},[t._v(t._s("---"))]):a("div",{staticClass:"flex-4"},[a("button",{staticClass:"btn xs-text text-violet border border-violet rounded-md font-bold px-8 py-2 shadow",on:{click:function(e){return t.toggleModals(!0,"email")}}},[t._v("Detail")]),a("button",{staticClass:"btn xxs-text text-violet border border-violet rounded-md font-bold px-3 py-2 shadow ml-2",on:{click:function(e){return t.resendVerifEmail()}}},[t._v("Resend Verif Email ")])])]),a("div",{staticClass:"flex xs-text mb-3"},[t._m(51),a("p",{staticClass:"flex-4"},[t._v(t._s(t.userDetails.tele_check&&null!=t.userDetails.tele_check.data?t.userDetails.tele_check.data.status_msg:"---"))])])])])]):t._e(),a("div",{staticClass:"btn-options-wrapper flex items-center px-4 h-14 bg-white shadow-lg-reverse absolute w-full bottom-0 left-0"},[a("div",{staticClass:"flex-none mr-10"},[a("a",{staticClass:"text-violet xs-text font-bold flex items-center",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goBacktoUser()}}},[a("img",{staticClass:"w-5 mr-2",attrs:{src:"../../assets/img/blue-arrow-left.png",alt:""}}),t._v(" Kembali ke list ")])]),"pending"==t.getStatusValue(t.userDetails.status)?a("div",{staticClass:"flex-1 text-right"},[a("button",{staticClass:"btn ml-4 px-5 py-2 w-52 2xl:w-64 xs-text text-white rounded-md font-bold bg-warningBtn",on:{click:function(e){return t.toggleModals(!0,"process","incomplete")}}},[t._v(" Jadikan user Incomplete ")]),a("div",{staticClass:"w-5 border-r border-gray-300 h-9 align-middle inline-block"}),a("button",{staticClass:"btn ml-4 px-5 py-2 w-28 2xl:w-36 xs-text text-white rounded-md font-bold bg-dangerBtn",on:{click:function(e){return t.toggleModals(!0,"process","reject")}}},[t._v(" Reject ")])]):t._e(),"active"==t.getStatusValue(t.userDetails.status)||"approved"==t.getStatusValue(t.userDetails.status)||"rejected"==t.getStatusValue(t.userDetails.status)?a("div",{staticClass:"flex-1 flex items-center"},["rejected"==t.getStatusValue(t.userDetails.status)?a("div",{staticClass:"flex-1 flex truncate"},[t._m(52),a("div",{staticClass:"flex-auto mr-2 truncate sm-text"},[t._v(" "+t._s(t.userDetails.commentReviews.length>0?t.userDetails.commentReviews[0].text:"---")+" ")])]):a("div",{staticClass:"flex-1"}),a("div",{staticClass:"flex-none flex justify-end items-center ml-3"},["approved"==t.getStatusValue(t.userDetails.status)?a("div",{staticClass:"px-3"},[a("button",{staticClass:"btn xs-text text-violet border border-violet rounded-md font-bold px-3 py-2 shadow",on:{click:function(e){return t.resendVerifEmail()}}},[t._v("Resend Verif Email ")])]):t._e(),a("label",{staticClass:"mr-3 mb-0 sm-text"},[a("b",[t._v(" Di "+t._s("rejected"==t.getStatusValue(t.userDetails.status)?"Reject":"Approve")+" oleh : ")])]),a("div",{staticClass:"mr-2 sm-text"},[t._v(" "+t._s(t.userDetails.commentReviews.length>0?t.userDetails.commentReviews[0].commentBy:"---")+" ")])]),a("div",{staticClass:"flex-none flex justify-end items-center border-l pl-3 ml-3 "},[a("label",{staticClass:"mr-3 font-bold sm-text",attrs:{for:""}},[t._v(" Waktu di "+t._s("rejected"==t.getStatusValue(t.userDetails.status)?"Reject":"Approve")+" : ")]),a("div",{staticClass:"flex mr-2 items-center"},[a("div",{staticClass:"img-icon w-5 mr-3"},[a("img",{staticClass:"w-full block align-middle",attrs:{src:"../../assets/img/calendar-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 sm-text"},[t.userDetails.commentReviews.length>0?a("span",[t._v(t._s(t._f("moment")(t.userDetails.commentReviews[0].createdAt,"DD MMM YYYY")))]):a("span",[t._v(t._s("---"))])])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"img-icon w-5 mr-3"},[a("img",{staticClass:"w-full block align-middle",attrs:{src:"../../assets/img/clock-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 sm-text"},[t.userDetails.commentReviews.length>0?a("span",[t._v(t._s(t._f("moment")(t.userDetails.commentReviews[0].createdAt,"HH:mm:SS"))+" WIB")]):a("span",[t._v(t._s("---"))])])])])]):t._e()]),a("Modal",{attrs:{title:"Edit Personal Information","modal-class":"modal-wrapper w-5/10 max-w-none"},model:{value:t.isEditInfoModalShow,callback:function(e){t.isEditInfoModalShow=e},expression:"isEditInfoModalShow"}},[a("EditInformationModal",{attrs:{user:t.userDetails,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Komentar","modal-class":"modal-wrapper"},model:{value:t.isCommentModalShow,callback:function(e){t.isCommentModalShow=e},expression:"isCommentModalShow"}},[a("CommentsModal",{attrs:{user:t.userDetails,admin:t.adminData,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Email","modal-class":"modal-wrapper max-w-none w-4/10"},model:{value:t.isEmailModalShow,callback:function(e){t.isEmailModalShow=e},expression:"isEmailModalShow"}},[a("EmailModal",{attrs:{user:t.userDetails,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Terdaftar sebagai Kontak Darurat user lain","modal-class":"modal-wrapper max-w-none w-4/10"},model:{value:t.isEmergencyContactModalShow,callback:function(e){t.isEmergencyContactModalShow=e},expression:"isEmergencyContactModalShow"}},[a("EmergencyContactModal",{attrs:{user:t.userDetails,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Metode Pembayaran","modal-class":"modal-wrapper max-w-none w-5/10"},model:{value:t.isPaymentMethodModalShow,callback:function(e){t.isPaymentMethodModalShow=e},expression:"isPaymentMethodModalShow"}},[a("PaymentMethodModal",{attrs:{user:t.userDetails,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Lokasi","modal-class":"modal-wrapper max-w-none w-6/10"},model:{value:t.isLocationModalShow,callback:function(e){t.isLocationModalShow=e},expression:"isLocationModalShow"}},[a("LocationModal",{attrs:{user:t.userDetails,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Blacklist Result","modal-class":"modal-wrapper max-w-none w-5/10"},model:{value:t.isBlacklistModalShow,callback:function(e){t.isBlacklistModalShow=e},expression:"isBlacklistModalShow"}},[a("BlacklistModal",{attrs:{user:t.userDetails,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Foto KTP","modal-class":"modal-wrapper max-w-none w-700px h-700px"},model:{value:t.isFotoKtpModalShow,callback:function(e){t.isFotoKtpModalShow=e},expression:"isFotoKtpModalShow"}},[a("FotoKtpModal",{attrs:{user:t.userDetails,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Selfie KTP","modal-class":"modal-wrapper max-w-none w-700px h-700px"},model:{value:t.isSelfieKtpModalShow,callback:function(e){t.isSelfieKtpModalShow=e},expression:"isSelfieKtpModalShow"}},[a("SelfieKtpModal",{attrs:{user:t.userDetails,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"","modal-class":"modal-wrapper max-w-none w-8/10 h-700px"},model:{value:t.isCompareKTPModalShow,callback:function(e){t.isCompareKTPModalShow=e},expression:"isCompareKTPModalShow"}},[a("CompareKTPModal",{attrs:{user:t.userDetails,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:t.confirmTitle,"modal-class":"reject"!=t.requestData.type?"modal-wrapper":"modal-wrapper max-w-none w-143"},model:{value:t.isProcessModalShow,callback:function(e){t.isProcessModalShow=e},expression:"isProcessModalShow"}},[a("RequestConfirmModal",{attrs:{user:t.userDetails,admin:t.adminData,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader,requestData:t.requestData}})],1)],1)],1)},kr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Nama "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Nomor HP "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Email "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("NIK "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Usia "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Pekerjaan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Industri "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Penghasilan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-2 relative"},[t._v("NPWP "),a("span",{staticClass:"absolute top-0 right-3 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-2 relative"},[t._v("Input NIK sama dengan NIK OCR "),a("span",{staticClass:"absolute top-0 right-3 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-2 relative"},[t._v("Terdaftar sebagai Kontak Darurat user lain "),a("span",{staticClass:"absolute top-0 right-3 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-2 relative"},[t._v("User Tele ID "),a("span",{staticClass:"absolute top-0 right-3 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-2 relative"},[t._v("Nomor HP sama dengan Kontak Darurat "),a("span",{staticClass:"absolute top-0 right-3 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-2 relative"},[t._v("Total Pinjaman 3 bulan terakhir "),a("span",{staticClass:"absolute top-0 right-3 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-2 relative"},[t._v("Trusting Social "),a("span",{staticClass:"absolute top-0 right-3 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 relative xs-text flex-none mr-6"},[t._v("Digunakan "),a("span",{staticClass:"absolute top-0 -right-3 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("NIK "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Tempat/ Tanggal Lahir "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Jenis Kelamin "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Alamat "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("RT/RW "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Kelurahan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Kecamatan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Provinsi "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Status Perkawinan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Gopay "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("OVO "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("LinkAja "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Nama "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Hubungan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Nomor HP "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("4X User "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Nama "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Nomor HP "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Email "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("NIK "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"sm-text font-bold mb-4 flex items-center"},[a("span",{staticClass:"mr-3"},[t._v("Pekerjaan")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Industri "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Jenis Pekerjaan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Pendidikan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Penghasilan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Tipe "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Nomor Kartu "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Nama "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Nomor HP Kontak Darurat "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Hubungan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Tipe "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Nomor HP "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Saldo "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Status Kontrak "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Log Email "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Call "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-none mr-3 mb-0 sm-text"},[a("b",[t._v(" Alasan : ")])])}],Pr=(a("a4d3"),a("e01a"),a("c975"),a("13d5"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{"data-vv-scope":"frmEditInfo"},on:{submit:function(e){return e.preventDefault(),t.formValidator("frmEditInfo")}}},[a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1 mr-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("NIK")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.idNumber,expression:"editInfoData.idNumber"}],staticClass:"text-xs",attrs:{type:"text",name:"NIK"},domProps:{value:t.editInfoData.idNumber},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"idNumber",e.target.value)}}})])]),a("div",{staticClass:"flex-1 mx-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Tempat")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.birthplace,expression:"editInfoData.birthplace"}],staticClass:"text-xs",attrs:{type:"text",name:"Tempat"},domProps:{value:t.editInfoData.birthplace},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"birthplace",e.target.value)}}})])]),a("div",{staticClass:"flex-1 ml-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Tanggal Lahir")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.dob,expression:"editInfoData.dob"}],staticClass:"text-xs",attrs:{type:"date",name:"Tanggal Lahir"},domProps:{value:t.editInfoData.dob},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"dob",e.target.value)}}})])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1 mr-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Jenis Kelamin")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.gender,expression:"editInfoData.gender"}],staticClass:"text-xs",attrs:{name:"Jenis Kelamin"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.editInfoData,"gender",e.target.multiple?a:a[0])}}},[a("option",[t._v("LAKI-LAKI")]),a("option",[t._v("PEREMPUAN")])])])]),a("div",{staticClass:"flex-1 mx-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Alamat")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.address,expression:"editInfoData.address"}],staticClass:"text-xs",attrs:{type:"text",name:"Alamat"},domProps:{value:t.editInfoData.address},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"address",e.target.value)}}})])]),a("div",{staticClass:"flex-1 ml-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("RT/RW")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.rtrw,expression:"editInfoData.rtrw"}],staticClass:"text-xs",class:{"border-dangerMsg":""!=t.rtrwIsError},attrs:{type:"text",name:"RT/RW",placeholder:"e.g 00/00"},domProps:{value:t.editInfoData.rtrw},on:{keypress:function(e){return t.filterRTRW(e)},input:function(e){e.target.composing||t.$set(t.editInfoData,"rtrw",e.target.value)}}})])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1 mr-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Kelurahan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.village,expression:"editInfoData.village"}],staticClass:"text-xs",attrs:{type:"text",name:"Kelurahan"},domProps:{value:t.editInfoData.village},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"village",e.target.value)}}})])]),a("div",{staticClass:"flex-1 mx-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Kecamatan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.district,expression:"editInfoData.district"}],staticClass:"text-xs",attrs:{type:"text",name:"Kecamatan"},domProps:{value:t.editInfoData.district},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"district",e.target.value)}}})])]),a("div",{staticClass:"flex-1 ml-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Provinsi")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.province,expression:"editInfoData.province"}],staticClass:"text-xs",attrs:{type:"text",name:"Provinsi"},domProps:{value:t.editInfoData.province},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"province",e.target.value)}}})])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1 mr-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Status Pernikahan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.maritalStatus,expression:"editInfoData.maritalStatus"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-xs",class:{"border-dangerMsg":t.errors.first("frmEditInfo.Status Pernikahan")},attrs:{type:"text",name:"Status Pernikahan"},domProps:{value:t.editInfoData.maritalStatus},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"maritalStatus",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditInfo.Status Pernikahan")))])])]),a("div",{staticClass:"flex-1 mx-2"}),a("div",{staticClass:"flex-1 ml-2"})]),a("div",{staticClass:"text-right mt-5"},[a("button",{staticClass:"btn px-4 py-2 mx-1 bg-closeBtn text-white rounded-md text-sm",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"editInfo")}}},[t._v("Close")]),a("button",{staticClass:"btn px-4 py-2 mx-1 bg-primaryBtn text-white rounded-md text-sm"},[t._v("Update")])])])])}),Sr=[],Mr={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},editInfoData:{},dateInputError:"",rtrwIsError:""}},created:function(){var t=this;t.editInfoData={name:t.user.ocrData.name,province:t.user.ocrData.province,idNumber:t.user.ocrData.idNumber,birthPlaceBirthday:t.user.ocrData.birthPlaceBirthday,birthplace:t.user.ocrData.birthplace,dob:t.user.ocrData.dob,bloodType:t.user.ocrData.bloodType,address:t.user.ocrData.address,rtrw:t.user.ocrData.rtrw,village:t.user.ocrData.village,district:t.user.ocrData.district,religion:t.user.ocrData.religion,maritalStatus:t.user.ocrData.maritalStatus,occupation:t.user.ocrData.occupation,expiryDate:t.user.ocrData.expiryDate,gender:t.user.ocrData.gender}},methods:{formValidator:function(){var t=this;t.updateOCRDetails()},updateOCRDetails:function(){var t=this;console.log(t.editInfoData);var e={birthday:t.editInfoData.dob,address:t.editInfoData.address,occupation:t.editInfoData.occupation,gender:t.editInfoData.gender,expiry_date:t.editInfoData.expiryDate,issue_location:"NI5:3509119303870003",religion:t.editInfoData.religion,nik:t.editInfoData.idNumber,marital_status:t.editInfoData.maritalStatus,nationality:t.editInfoData.nationality,birthplace:t.editInfoData.birthplace,issue_date:"08082012",street:t.editInfoData.district,blood_type:t.editInfoData.bloodType,name:t.editInfoData.name,village:t.editInfoData.village,rt_rw:t.editInfoData.rtrw,provinsi:t.editInfoData.province};t.toggleLoader(!0),Nt.a.post("https://minion.empatkali.co.id/advance/postktp.php?id=".concat(t.user._id,"&t=pr"),e,t.requestedHeaders).then((function(e){console.log(e),e.status&&(t.requestSuccess("editInfo"),t.$swal("Success!","updated.","success")),t.toggleLoader(!1)})).catch((function(e){t.$swal("Error!",e.message,"error"),t.toggleLoader(!1)}))},filterRTRW:function(t){var e=String.fromCharCode(t.keyCode);if(/^[0-9/]+$/.test(e))return!0;t.preventDefault()}}},Ar=Mr,Lr=Object(St["a"])(Ar,Pr,Sr,!1,null,"b96bd3fc",null),Er=Lr.exports,Rr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.commentArr.length?a("div",{staticClass:"text-center mb-5"},[a("img",{staticClass:"w-28",attrs:{src:"../../assets/img/message-icon.png",alt:""}}),t._m(0)]):t._e(),t.commentArr.length>0?a("div",{staticClass:"mb-5"},t._l(t.commentArr,(function(e){return a("div",{key:e.index,staticClass:"flex flex-col p-4 mb-4 bg-gray-100 rounded-lg"},[a("div",{staticClass:"flex items-center",class:{"flex-row-reverse":e.commentBy.toLowerCase()==t.admin.displayName.toLowerCase()}},[a("div",{staticClass:"w-8 h-8"},[a("img",{staticClass:"w-full h-full rounded-full border",attrs:{src:e.profile||"../../assets/img/users.png",alt:""}})]),a("p",{staticClass:"flex-1 text-base mx-3 capitalize",class:{"text-right":e.commentBy.toLowerCase()==t.admin.displayName.toLowerCase()}},[t._v(" "+t._s(e.commentBy)+" ")]),a("span",{staticClass:"text-sm text-gray-500",class:{"text-right":e.commentBy.toLowerCase()!=t.admin.displayName.toLowerCase()}},[t._v(" "+t._s(t._f("moment")(e.createdAt,"from","now"))+" ")])]),a("div",{staticClass:"flex"},[e.commentBy.toLowerCase()!=t.admin.displayName.toLowerCase()?a("div",{staticClass:"w-8 mr-3"}):t._e(),a("p",{staticClass:"flex-1 text-sm mt-2"},[t._v(" "+t._s(e.text)+" ")])])])})),0):t._e(),a("div",{staticClass:"input-div"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentVal,expression:"commentVal"}],staticClass:"comment-textarea",staticStyle:{resize:"none"},attrs:{cols:"30",rows:"4",placeholder:"Tulis disini"},domProps:{value:t.commentVal},on:{input:function(e){e.target.composing||(t.commentVal=e.target.value)}}})]),a("div",{staticClass:"text-right mt-5"},[a("button",{staticClass:"btn px-4 py-2 mx-1 text-violet font-bold rounded-md text-sm",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"comment")}}},[t._v("Kembali")]),a("button",{staticClass:"btn px-6 py-3 mx-1 bg-primaryBtn text-white rounded-md text-sm",on:{click:function(e){return t.submitComment()}}},[t._v("Kirim Komentar")])])])},Nr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-center text-lg my-4"},[t._v("Belum ada yang"),a("br"),t._v("komentar sebelumnya")])}],Ir={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object,admin:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},commentVal:"",commentArr:[]}},created:function(){var t=this;t.getCommentList()},methods:{getCommentList:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,a.toggleLoader(!0,"Loading data"),Nt.a.get("api/users/".concat(a.user._id),a.requestedHeaders).then((function(t){a.commentArr=t.data.commentReviews,a.toggleLoader(!1)})).catch((function(t){console.log(t),a.$swal("Error!",t.message,"error"),a.toggleLoader(!1)}));case 3:case"end":return e.stop()}}),e)})))()},submitComment:function(){var t=this;if(""==t.commentVal)return t.$swal("Error!","Comment is required.","error"),!1;var e={user:t.user._id,text:t.commentVal,commentBy:t.admin.username};t.toggleLoader(!0),Nt.a.post("api/users/comment-review-status",e,t.requestedHeaders).then((function(){t.commentVal="",t.getCommentList(),t.toggleLoader(!1)})).catch((function(e){console.log(e),t.$swal("Error!",e.message,"error"),t.toggleLoader(!1)}))}}},jr=Ir,$r=(a("065a"),Object(St["a"])(jr,Rr,Nr,!1,null,"919db50e",null)),Or=$r.exports,Fr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"relative"},[a("p",{staticClass:"text-sm mt-2 mb-4"},[t._v(" "+t._s("incomplete"!=t.requestData.type?"Kamu yakin menyetujui :":"Kamu yakin menyetujui Incomplete :")+" ")]),a("div",{staticClass:"flex mb-3"},[t._m(0),a("p",{staticClass:"flex-2 text-sm font-bold"},[t._v(t._s(t.user.detail?t.user.detail.name:"---"))])]),a("div",{staticClass:"flex mb-3"},[t._m(1),a("p",{staticClass:"flex-2 text-sm"},[t._v(t._s(t.user.mobileNumber?t.user.mobileNumber:"---"))])]),a("div",{staticClass:"flex mb-3"},[t._m(2),a("p",{staticClass:"flex-2 text-sm"},[t._v(t._s(t.user.detail?t.user.detail.email:"---"))])]),"reject"==t.requestData.type?a("div",[a("div",{staticClass:"flex mb-3 items-center"},[t._m(3),a("div",{staticClass:"flex-2"},[a("div",{staticClass:"relative select-fraud-drop"},[a("div",{staticClass:"border-b w-36 py-1 text-sm relative cursor-pointer inline-block",class:{"text-gray-400":""==t.confirmData.reasonType,"border-dangerBtn":"reason-type"==t.errStatus||"both-reject"==t.errStatus},on:{click:function(e){return t.toggleDrops("fraud")}}},[t._v(" "+t._s(""==t.confirmData.reasonType?"Pilih Tipe Alasan":t.confirmData.reasonType)+" "),a("svg",{staticClass:"text-gray-500 w-4 absolute top-1.5 right-0",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])]),a("span",{staticClass:"text-sm text-right text-dangerMsg inline-block ml-3"},[t._v("wajib")]),t.isShowFraudDrop?a("div",{staticClass:"w-36 absolute -bottom-18 z-50 left-0 bg-gray-100 px-2 text-left"},[a("ul",[a("li",{staticClass:"cursor-pointer text-sm px-1 py-2 border-b",on:{click:function(e){return t.selectReasonTypeOpt("Fraud")}}},[t._v(t._s("Fraud"))]),a("li",{staticClass:"cursor-pointer text-sm px-1 py-2 border-b",on:{click:function(e){return t.selectReasonTypeOpt("Non Fraud")}}},[t._v(t._s("Non Fraud"))])])]):t._e()])])]),a("div",{staticClass:"flex mb-3 items-center"},[t._m(4),a("div",{staticClass:"flex-2"},[a("div",{staticClass:"relative select-reason-drop"},[a("div",{staticClass:"border-b w-76 py-1 pr-4 text-sm relative cursor-pointer inline-block",class:{"text-gray-400":""==t.confirmData.reason,"border-dangerBtn":"reason"==t.errStatus||"both-reject"==t.errStatus},on:{click:function(e){return t.toggleDrops("reason")}}},[t._v(" "+t._s(""==t.confirmData.reason?"Pilih Alasan":t.confirmData.reason)+" "),a("svg",{staticClass:"text-gray-500 w-4 absolute top-1.5 right-0",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])]),a("span",{staticClass:"text-sm text-right text-dangerMsg inline-block ml-3"},[t._v("wajib")]),t.isShowReasonDrop?a("div",{staticClass:"w-76 max-h-80 absolute -bottom-18 z-50 left-0 bg-gray-100 px-2 text-left overflow-y-auto overflow-x-hidden"},["Non Fraud"==t.confirmData.reasonType?a("ul",t._l(t.reasonTypes.non_fraud,(function(e){return a("li",{key:e.index,staticClass:"cursor-pointer text-sm px-1 py-2 border-b break-all",on:{click:function(a){return t.selectReasonOpt(e)}}},[t._v(" "+t._s(e._id+" - "+e.label)+" ")])})),0):t._e(),"Fraud"==t.confirmData.reasonType?a("ul",t._l(t.reasonTypes.fraud,(function(e){return a("li",{key:e.index,staticClass:"cursor-pointer text-sm px-1 py-2 border-b break-all",on:{click:function(a){return t.selectReasonOpt(e)}}},[t._v(" "+t._s(e._id+" - "+e.label)+" ")])})),0):t._e()]):t._e()])])])]):t._e(),"R16"==t.confirmData.selectedReason._id||"R23"==t.confirmData.selectedReason._id?a("div",{staticClass:"input-div"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.confirmData.comment,expression:"confirmData.comment"}],staticClass:"comment-textarea",class:{error:"comment"==t.errStatus},staticStyle:{resize:"none"},attrs:{cols:"30",rows:"2",placeholder:"Tulis disini"},domProps:{value:t.confirmData.comment},on:{input:function(e){e.target.composing||t.$set(t.confirmData,"comment",e.target.value)}}})]):t._e(),a("div",{staticClass:"text-right mt-5"},[a("button",{staticClass:"btn px-4 py-2 mx-1 text-violet font-bold rounded-md text-sm",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"process")}}},[t._v("Batal")]),a("button",{staticClass:"btn px-6 py-3 mx-1 text-white font-bold rounded-md text-sm",class:{"bg-successBtn":"approve"==t.requestData.type,"bg-dangerBtn":"reject"==t.requestData.type,"bg-warningBtn":"incomplete"==t.requestData.type},on:{click:function(e){return e.preventDefault(),t.submitConfirm(e)}}},[t._v(" "+t._s("approve"==t.requestData.type?"Approve":"reject"==t.requestData.type?"Reject":"Jadikan user Incomplete")+" ")])]),"none"!=t.errStatus?a("div",{staticClass:"rounded-full p-3 absolute bg-white -bottom-24",class:{"w-68 left-32":"both-reject"==t.errStatus||"reason"==t.errStatus,"w-68 left-28":"reason-type"==t.errStatus||"comment"==t.errStatus,"w-68 left-24":"limit"==t.errStatus}},[a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"img-container mr-4"},[a("img",{staticClass:"w-8",attrs:{src:"../../assets/img/red-circle-times.png",alt:""}})]),a("p",{staticClass:"text-sm"},[t._v(" "+t._s("limit"==t.errStatus?"Kamu belum memilih limit":"comment"==t.errStatus?"Kamu belum memasukkan alasan":"both-reject"==t.errStatus||"reason"==t.errStatus?"Kamu belum memilih alasan":"Kamu belum memilih tipe alasan")+" ")])])]):t._e()])},Ur=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Nama "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Nomor HP "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Email "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Tipe Alasan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Alasan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])}],Tr={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,requestData:{type:Object,required:!1},user:Object,admin:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},isShowLimitDrop:!1,isShowFraudDrop:!1,isShowReasonDrop:!1,confirmData:{comment:"",approvedLimit:"",reasonType:"",reason:"",selectedReason:{}},commentVal:"",errStatus:"none",reasonTypes:{}}},created:function(){this.initializeShowHideListener(),this.getReasonTypes()},methods:{getReasonTypes:function(){var t=this;fetch("../__tmp-files/reasonTypes.json").then((function(t){return t.json()})).then((function(e){console.log(e),t.reasonTypes=e}))},initializeShowHideListener:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,document.addEventListener("click",function(){var t=Object(_e["a"])(regeneratorRuntime.mark((function t(e){var s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.isShowLimitDrop){t.next=5;break}return t.next=3,a.checkParentMatch(e,"select-limit-drop");case 3:s=t.sent,a.isShowLimitDrop=s;case 5:if(!a.isShowFraudDrop){t.next=10;break}return t.next=8,a.checkParentMatch(e,"select-fraud-drop");case 8:r=t.sent,a.isShowFraudDrop=r;case 10:if(!a.isShowReasonDrop){t.next=15;break}return t.next=13,a.checkParentMatch(e,"select-reason-drop");case 13:i=t.sent,a.isShowReasonDrop=i;case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()},checkParentMatch:function(t,e){return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.target,r=document.getElementsByClassName(e)[0],void 0===r&&(r=document),i=s.parentNode,n=!1,i!=r){a.next=9;break}n=!0,a.next=17;break;case 9:if(i===r){a.next=17;break}if(o=i,null!=o){a.next=13;break}return a.abrupt("break",17);case 13:i=o.parentNode,i==r&&(n=!0),a.next=9;break;case 17:return a.abrupt("return",n);case 18:case"end":return a.stop()}}),a)})))()},toggleDrops:function(t){var e=this;e.isShowLimitDrop="limit"==t&!e.isShowLimitDrop,e.isShowFraudDrop="fraud"==t&!e.isShowFraudDrop,e.isShowReasonDrop="reason"==t&!e.isShowReasonDrop},selectReasonOpt:function(t){var e=this;e.confirmData.reason=t._id+" - "+t.label,e.confirmData.selectedReason=t,e.isShowReasonDrop=!1,console.log(e.confirmData),e.$forceUpdate()},selectReasonTypeOpt:function(t){var e=this;e.confirmData.reason=e.confirmData.reasonType==t?e.confirmData.reason:"",e.confirmData.selectedReason=e.confirmData.reasonType==t?e.confirmData.selectedReason:{},e.confirmData.reasonType=t,e.isShowFraudDrop=!1,console.log(e.confirmData),e.$forceUpdate()},selectLimitDrop:function(t){var e=this;e.confirmData.approvedLimit=t,e.isShowLimitDrop=!1},submitConfirm:function(){var t=this;if("approve"==t.requestData.type&&(t.errStatus="none",t.approveUser()),"reject"==t.requestData.type){if(""==t.confirmData.reasonType&&""==t.confirmData.reason)return t.errStatus="both-reject",!1;if(""==t.confirmData.reasonType)return t.errStatus="reason-type",!1;if(""==t.confirmData.reason)return t.errStatus="reason",!1;if(("R16"==t.confirmData.selectedReason._id||"R23"==t.confirmData.selectedReason._id)&&""==t.confirmData.comment)return t.errStatus="comment",!1;t.errStatus="none",t.rejectUser()}"incomplete"==t.requestData.type&&t.incompleteUser()},updateUserStatus:function(){var t=this;t.$router.go(-1),localStorage.setItem("emitUserRequestStatus",JSON.stringify({type:t.requestData.type,name:t.user.detail.name}))},approveUser:function(){var t=this,e={userId:t.user._id,limit:t.confirmData.approvedLimit},a="/api/users/approveuser";t.toggleLoader(!0,"Loading data"),Nt.a.put(a,e,t.requestedHeaders).then((function(e){console.log(e),"success"==e.data.message&&(t.$emit("refreshData"),t.updateUserStatus("Approved"))})).catch((function(e){console.log(e),t.$swal("Error!",e.message,"error"),t.toggleLoader(!1)}))},rejectUser:function(){var t=this,e={userId:t.user._id,text:t.confirmData.selectedReason.label,type:t.confirmData.selectedReason._id},a="/api/users/rejectuser";t.toggleLoader(!0,"Loading data"),Nt.a.put(a,e,t.requestedHeaders).then((function(e){console.log(e),"success"==e.data.message&&(t.$emit("refreshData"),t.updateUserStatus("Rejected"))})).catch((function(e){console.log(e),t.$swal("Error!",e.message,"error"),t.toggleLoader(!1)}))},incompleteUser:function(){var t=this,e={userId:t.user._id},a="/api/users/makeincomplate";t.toggleLoader(!0,"Loading data"),Nt.a.put(a,e,t.requestedHeaders).then((function(e){console.log(e),"user has been added to incomplate status"==e.data.message&&(t.$emit("refreshData"),t.updateUserStatus("Incomplete"))})).catch((function(e){console.log(e),t.$swal("Error!",e.message,"error"),t.toggleLoader(!1)}))}}},qr=Tr,Yr=(a("bbe8"),Object(St["a"])(qr,Fr,Ur,!1,null,"0976df04",null)),Br=Yr.exports,Hr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"w-full text-left"},[t._m(0),a("tbody",[0==t.user.emailLogs.length?a("tr",[a("td",{staticClass:"py-5 pr-8 text-sm text-center",attrs:{colspan:"3"}},[t._v("No Record")])]):t._e(),t._l(t.user.emailLogs,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"py-2 pr-8 text-sm border-b-2"},[t._v(t._s(e.subject?e.subject:"---")+" ")]),a("td",{staticClass:"py-2 pr-8 text-sm border-b-2"},[t._v(t._s(e.tipe?e.tipe:"---"))]),a("td",{staticClass:"py-2 pr-8 text-sm border-b-2"},[a("div",{staticClass:"text-sm mb-1"},[a("span",[t._v(t._s(t._f("moment")(e.tgl,"DD MMM YYYY")))])]),a("div",{staticClass:"text-xs text-gray-500"},[a("span",[t._v(t._s(t._f("moment")(e.tgl,"HH:mm:ss"))+" WIB")])])])])}))],2)])])},Wr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"font-bold py-2 pr-8 text-sm border-b-2 "},[t._v("Subject")]),a("th",{staticClass:"font-bold py-2 pr-8 text-sm border-b-2"},[t._v("Status")]),a("th",{staticClass:"font-bold py-2 pr-8 text-sm border-b-2",staticStyle:{width:"110px"}},[t._v("Tanggal")])])])}],Vr={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}}}},created:function(){},methods:{}},zr=Vr,Kr=Object(St["a"])(zr,Hr,Wr,!1,null,"05ceae5a",null),Zr=Kr.exports,Jr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"w-full text-left"},[t._m(0),a("tbody",[0==t.user.isUsedAsEmergencyContact.length?a("tr",[a("td",{staticClass:"text-center py-8 pr-2 text-sm font-bold",attrs:{colspan:"3"}},[t._v("No record")])]):t._e(),t._l(t.paginateArray,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"py-2 pr-2 text-sm border-b-2 font-bold text-violet"},[t._v(t._s(e.detail?e.detail.name:"---"))]),a("td",{staticClass:"py-2 pr-2 text-sm border-b-2"},[t._v(t._s(e.mobileNumber?e.mobileNumber:"---"))]),a("td",{staticClass:"py-2 pr-2 text-sm border-b-2"},[t._v(t._s(e.detail&&e.detail.email?e.detail.email:"---"))])])}))],2)]),t.user.isUsedAsEmergencyContact&&t.user.isUsedAsEmergencyContact.length>0?a("div",{staticClass:"flex text-sm py-3"},[a("div",{staticClass:"flex-1 flex font-bold"},[a("span",{staticClass:"mr-1"},[t._v("Terlihat")]),a("span",{staticClass:"mr-1"},[t._v(t._s(t.paginationData.resultStart)+"-"+t._s(t.paginationData.resultEnd))]),a("span",{staticClass:"mr-1"},[t._v("dari")]),a("span",[t._v(t._s(t.paginationData.totalResultsRows))])]),a("div",{staticClass:"flex-1 flex justify-end pr-5"},[t.paginationData.currentPage>1?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("prev")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})])]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(1)}}},[t._v("1")]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t._l(t.paginateTotalPages,(function(e){return a("div",{key:e.index,staticClass:"font-bold px-1 mx-1 h-5 cursor-pointer",class:{"text-violet":e!=t.paginationData.currentPage},on:{click:function(a){return t.selectPage(e)}}},[t._v(t._s(e))])})),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t.paginationData.totalPages>10&&t.paginationData.totalPages-t.paginationData.currentPage>=t.paginationData.totalPages%t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(t.paginationData.totalPages)}}},[t._v(t._s(t.paginationData.totalPages))]):t._e(),t.paginationData.currentPage<t.paginationData.totalPages?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("next")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"}})])]):t._e()],2)]):t._e()])},Xr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Namar")]),a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Nomor HP")]),a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Email")])])])}],Qr={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},paginationData:{totalResultsRows:1,currentPage:1,perPage:10,resultStart:1,resultEnd:1,totalPages:1},paginationCount:10}},created:function(){},computed:{paginateTotalPages:function(){var t=this;if(t.paginationData.totalPages>t.paginationCount){var e=[],a=t._.chunk(Object(ea["a"])(Array(t.paginationData.totalPages).keys()),10);return e=a[t._.findIndex(a,(function(e){return e.includes(t.paginationData.currentPage-1)}))],e=e.map((function(t){return t+1})),e[e.length-1]<t.paginationData.totalPages&&e.push(e[e.length-1]+1),e}return t.paginationData.totalPages},paginateArray:function(){var t=this,e=t.user.isUsedAsEmergencyContact;if(e.length>0){var a=t._.chunk(e,t.paginationData.perPage),s=t.paginationData.currentPage*t.paginationData.perPage-t.paginationData.perPage+1,r=s+a[t.paginationData.currentPage-1].length-1;return t.paginationData.totalResultsRows=e.length,t.paginationData=Object(ta["a"])(Object(ta["a"])({},t.paginationData),{resultStart:s,resultEnd:r,totalPages:Math.ceil(t.paginationData.totalResultsRows/t.paginationData.perPage)}),a[t.paginationData.currentPage-1]}return[]}},methods:{selectPage:function(t){var e=this;e.paginationData.currentPage=t},changePage:function(t){var e=this;e.paginationData.currentPage="prev"==t?e.paginationData.currentPage-1:e.paginationData.currentPage+1}}},Gr=Qr,ti=Object(St["a"])(Gr,Jr,Xr,!1,null,"125c5bee",null),ei=ti.exports,ai=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"select-opt flex mt-2 mb-5"},[a("div",{staticClass:"flex-1 border-gray-500 font-bold text-gray-800 text-center pb-4 mr-2 text-lg cursor-pointer",class:{"border-b-4 border-violet text-violet":"card"==t.selectedOpt,"border-b-2":"card"!=t.selectedOpt},on:{click:function(e){return t.selectOption("card")}}},[t._v(" Kartu Debit/ Kredit ")]),a("div",{staticClass:"flex-1 border-gray-500 font-bold text-gray-800 text-center pb-4 ml-2 text-lg cursor-pointer",class:{"border-b-4 border-violet text-violet":"instant"==t.selectedOpt,"border-b-2":"instant"!=t.selectedOpt},on:{click:function(e){return t.selectOption("instant")}}},[t._v(" Pembayaran Instan ")])]),"card"==t.selectedOpt?a("table",{staticClass:"w-full text-left"},[t._m(0),a("tbody",[0==t.user.card.length?a("tr",[a("td",{staticClass:"text-center py-8 pr-2 text-sm font-bold",attrs:{colspan:"3"}},[t._v("No record")])]):t._e(),t._l(t.user.card,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"py-2 pr-2 text-sm font-bold"},[t._v(" "+t._s(e.type?e.type:"---")+" "),e.type?a("img",{staticClass:"w-8 ml-2 block inline-block",attrs:{src:"../../assets/img/visa.png",alt:""}}):t._e()]),a("td",{staticClass:"py-2 pr-2 text-sm",class:{"border-b":!1}},[t._v(" "+t._s(e.masked?e.masked:"---")+" ")]),a("td",{staticClass:"py-2 pr-2"},[a("div",{staticClass:"count-badge rounded-2xl py-1 text-center w-16 inline-block text-white font-bold text-sm",class:{"border-b":!1,"bdg-status--success":!0,"bdg-status--danger":!1}},[t._v(" "+t._s("No")+" ")])])])})),t._e()],2)]):t._e(),"instant"==t.selectedOpt?a("table",{staticClass:"w-full text-left"},[t._m(2),a("tbody",[t.user.danaVerifiedAccount||t.user.gopayVerifiedAccount?t._e():a("tr",[a("td",{staticClass:"text-center py-8 pr-2 text-sm font-bold",attrs:{colspan:"4"}},[t._v("No record")])]),t.user.danaVerifiedAccount?a("tr",[a("td",{staticClass:"py-2 pr-2 text-sm font-bold"},[t.user.danaVerifiedAccount?a("span",[t._v(t._s("Pembayaran Instan"))]):a("span",[t._v(t._s("User not yet validate DANA Account"))]),t.user.danaVerifiedAccount?a("img",{staticClass:"w-14 ml-2 block inline-block",attrs:{src:"../../assets/img/dana.png",alt:""}}):t._e()]),a("td",{staticClass:"py-2 pr-2 text-sm",class:{"border-b":!1}},[t._v(" "+t._s(t.user.mobileNumber)+" ")]),a("td",{staticClass:"py-2 pr-2 text-sm",class:{"border-b":!1}},[t.user.danaVerifiedAccount?a("span",[t._v(t._s(t._f("currency")(t.user.danaData.dana)))]):a("span",[t._v(t._s("---"))])]),a("td",{staticClass:"py-2 pr-2"},[a("div",{staticClass:"count-badge rounded-2xl py-1 text-center w-16 inline-block text-white font-bold text-sm",class:{"border-b":!1,"bdg-status--success":!0,"bdg-status--warning":!1,"bdg-status--danger":!1}},[t._v(" "+t._s("No")+" ")])])]):t._e(),t._e(),t.user.gopayVerifiedAccount?a("tr",[a("td",{staticClass:"py-2 pr-2 text-sm font-bold"},[t.user.gopayVerifiedAccount?a("span",[t._v(t._s("Pembayaran Instan"))]):a("span",[t._v(t._s("User not yet validate GOPAY Account"))]),t.user.gopayVerifiedAccount?a("img",{staticClass:"w-14 ml-2 block inline-block",attrs:{src:"../../assets/img/gopay-logo.svg",alt:""}}):t._e()]),a("td",{staticClass:"py-2 pr-2 text-sm",class:{"border-b":!1}},[t._v(" "+t._s(t.user.mobileNumber)+" ")]),a("td",{staticClass:"py-2 pr-2 text-sm",class:{"border-b":!1}},[a("span",[t._v(t._s("---"))])]),a("td",{staticClass:"py-2 pr-2"},[a("div",{staticClass:"count-badge rounded-2xl py-1 text-center w-16 inline-block text-white font-bold text-sm",class:{"border-b":!1,"bdg-status--success":!0,"bdg-status--warning":!1,"bdg-status--danger":!1}},[t._v(" "+t._s("No")+" ")])])]):t._e(),t._e()])]):t._e(),"card"==t.selectedOpt&&0!=t.user.card.length||"instant"==t.selectedOpt&&t.user.danaVerifiedAccount?a("div",{staticClass:"flex text-sm py-3 border-t"},[a("div",{staticClass:"flex-1 flex font-bold"},[a("span",{staticClass:"mr-1"},[t._v("Terlihat")]),a("span",{staticClass:"mr-1"},[t._v(t._s(1)+"-"+t._s(1))]),a("span",{staticClass:"mr-1"},[t._v("dari")]),a("span",[t._v(t._s(1))])]),a("div",{staticClass:"flex-1 flex justify-end pr-5"},t._l(1,(function(e){return a("div",{key:e.index,staticClass:"font-bold px-2 cursor-pointer",class:{"text-violet":1!=e}},[t._v(t._s(e))])})),0)]):t._e()])},si=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Tipe")]),a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Nomor Kartu")]),a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Sama dengan user lain")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"pr-3 py-2 text-xs text-gray-500"},[t._v(" Nama ")]),a("th",{staticClass:"pr-3 py-2 text-xs text-gray-500"},[t._v(" Nomor HP ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Tipe")]),a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Nomor HP")]),a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Saldo")]),a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Sama dengan user lain")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"pr-3 py-2 text-xs text-gray-500"},[t._v(" Nama ")]),a("th",{staticClass:"pr-3 py-2 text-xs text-gray-500"},[t._v(" Nomor HP ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"pr-3 py-2 text-xs text-gray-500"},[t._v(" Nama ")]),a("th",{staticClass:"pr-3 py-2 text-xs text-gray-500"},[t._v(" Nomor HP ")])])])}],ri={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},selectedOpt:"card"}},created:function(){console.log(this.user)},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&console.log(t)}))},selectOption:function(t){var e=this;e.selectedOpt=t}}},ii=ri,ni=(a("9400"),Object(St["a"])(ii,ai,si,!1,null,"2d8b5288",null)),oi=ni.exports,li=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("GmapMap",{staticStyle:{height:"400px",overflow:"hidden"},attrs:{center:{lat:parseFloat(t.user.loc?t.user.loc.coordinates[1]:0),lng:parseFloat(t.user.loc?t.user.loc.coordinates[0]:0)},zoom:10,options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!0,disableDefaultUI:!1}}},[a("GmapMarker",{attrs:{position:{lat:parseFloat(t.user.loc?t.user.loc.coordinates[1]:0),lng:parseFloat(t.user.loc?t.user.loc.coordinates[0]:0)}}})],1)],1)},ci=[],di={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}}}},created:function(){},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&console.log(t)}))}}},ui=di,mi=Object(St["a"])(ui,li,ci,!1,null,"0439f044",null),pi=mi.exports,fi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"w-full text-left"},[t._m(0),a("tbody",t._l(t.user.resultOfBlackList,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"py-2 pr-2 text-sm border-b-2 font-bold"},[t._v(t._s(e.hitReason?e.hitReason:"---"))]),a("td",{staticClass:"py-2 pr-2 text-sm border-b-2"},[t._v(t._s(t._f("moment")(e.eventTime?e.eventTime:"---","MMM DD")))]),a("td",{staticClass:"py-2 pr-2 text-sm border-b-2"},[t._v(t._s(e.reasonCode?e.reasonCode:"---"))]),a("td",{staticClass:"py-2 pr-2 text-sm border-b-2"},[t._v(t._s(e.productType?e.productType:"---"))])])})),0)]),a("div",{staticClass:"flex text-sm py-3"},[a("div",{staticClass:"flex-1 flex font-bold"},[a("span",{staticClass:"mr-1"},[t._v("Terlihat")]),a("span",{staticClass:"mr-1"},[t._v(t._s(1)+"-"+t._s(1))]),a("span",{staticClass:"mr-1"},[t._v("dari")]),a("span",[t._v(t._s(1))])]),a("div",{staticClass:"flex-1 flex justify-end pr-5"},t._l(1,(function(e){return a("div",{key:e.index,staticClass:"font-bold px-2 cursor-pointer",class:{"text-violet":1!=e}},[t._v(t._s(e))])})),0)])])},gi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Hit season")]),a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Event time")]),a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Reason Code")]),a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Product Type")])])])}],vi={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}}}},created:function(){},methods:{}},xi=vi,bi=Object(St["a"])(xi,fi,gi,!1,null,"10767ec9",null),hi=bi.exports,_i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"show-image-modal"},[a("div",{staticClass:"relative mb-5 ktp-wrapper"},[a("div",{staticClass:"absolute top-72 -right-12 transform rotate-90 text-gray-400 z-50"},[a("p",{staticClass:"text-lg leading-tight text-center"},[t._v("EMPATKALI.CO.ID")]),t.user.ktp&&t.user.ktp.imageDate?a("p",{staticClass:"text-xs text-center"},[t._v(t._s(t._f("moment")(t.user.ktp.imageDate,"DD MMM YYYY HH:MM:SS"))+" WIB")]):a("p",{staticClass:"text-xs text-center"},[t._v(t._s("---"))])]),a("img",{directives:[{name:"viewer",rawName:"v-viewer",value:t.viewerOptions,expression:"viewerOptions"}],staticClass:"rounded-lg h-full w-full",attrs:{src:t.user.ktp.image||"/assets/img/no-image.png",alt:""},on:{viewed:t.viewed}})])])},Ci=[],Di={props:{closeModal:Function,user:Object},data:function(){return{viewerOptions:{inline:!0,button:!1,navbar:!1,title:!0,toolbar:!0,tooltip:!0,transition:!1,fullscreen:!1,keyboard:!1,backdrop:!0}}},created:function(){},methods:{viewed:function(t){this.$viewer=t,console.log(this.$viewer)}}},wi=Di,yi=Object(St["a"])(wi,_i,Ci,!1,null,null,null),ki=yi.exports,Pi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"show-image-modal"},[a("div",{staticClass:"shadow-lg-middle relative mb-5 ktp-wrapper"},[a("div",{staticClass:"absolute top-72 -right-12 transform rotate-90 text-gray-400 z-50"},[a("p",{staticClass:"text-lg leading-tight text-center"},[t._v("EMPATKALI.CO.ID")]),t.user.selfieDate?a("p",{staticClass:"text-xs text-center"},[t._v(t._s(t._f("moment")(t.user.selfieDate,"DD MMM YYYY HH:MM:SS"))+" WIB")]):a("p",{staticClass:"text-xs text-center"},[t._v(t._s("---"))])]),a("img",{directives:[{name:"viewer",rawName:"v-viewer",value:t.viewerOptions,expression:"viewerOptions"}],staticClass:"rounded-lg h-full w-full",attrs:{src:t.user.selfie||"/assets/img/no-image.png",alt:""}})])])},Si=[],Mi={props:{closeModal:Function,user:Object},data:function(){return{viewerOptions:{inline:!0,button:!1,navbar:!1,title:!0,toolbar:!0,tooltip:!0,transition:!1,fullscreen:!1,keyboard:!1,backdrop:!0}}},created:function(){},methods:{}},Ai=Mi,Li=Object(St["a"])(Ai,Pi,Si,!1,null,null,null),Ei=Li.exports,Ri=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"show-image-modal"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"shadow-lg-middle relative mb-5 mx-2 flex-1 ktp-wrapper"},[a("div",{staticClass:"absolute top-72 -right-12 transform rotate-90 text-gray-400 z-50"},[a("p",{staticClass:"text-lg leading-tight text-center"},[t._v("EMPATKALI.CO.ID")]),t.user.ktp&&t.user.ktp.imageDate?a("p",{staticClass:"text-xs text-center"},[t._v(t._s(t._f("moment")(t.user.ktp.imageDate,"DD MMM YYYY HH:MM:SS"))+" WIB")]):a("p",{staticClass:"text-xs text-center"},[t._v(t._s("---"))])]),a("img",{directives:[{name:"viewer",rawName:"v-viewer",value:t.viewerOptions,expression:"viewerOptions"}],staticClass:"rounded-lg h-full w-full",attrs:{src:t.user.ktp.image||"/assets/img/no-image.png",alt:""}})]),a("div",{staticClass:"shadow-lg-middle relative mb-5 mx-2 flex-1 ktp-wrapper"},[a("div",{staticClass:"absolute top-72 -right-12 transform rotate-90 text-gray-400 z-50"},[a("p",{staticClass:"text-lg leading-tight text-center"},[t._v("EMPATKALI.CO.ID")]),t.user.selfieDate?a("p",{staticClass:"text-xs text-center"},[t._v(t._s(t._f("moment")(t.user.selfieDate,"DD MMM YYYY HH:MM:SS"))+" WIB")]):a("p",{staticClass:"text-xs text-center"},[t._v(t._s("---"))])]),a("img",{directives:[{name:"viewer",rawName:"v-viewer",value:t.viewerOptions,expression:"viewerOptions"}],staticClass:"rounded-lg h-full w-full",attrs:{src:t.user.selfie||"/assets/img/no-image.png",alt:""}})])])])},Ni=[],Ii={props:{closeModal:Function,user:Object},data:function(){return{viewerOptions:{inline:!0,button:!1,navbar:!1,title:!0,toolbar:!0,tooltip:!0,transition:!1,fullscreen:!1,keyboard:!1,backdrop:!0}}},created:function(){},methods:{}},ji=Ii,$i=Object(St["a"])(ji,Ri,Ni,!1,null,null,null),Oi=$i.exports,Fi={components:{Loader:Kt,EditInformationModal:Er,CommentsModal:Or,RequestConfirmModal:Br,EmailModal:Zr,EmergencyContactModal:ei,PaymentMethodModal:oi,LocationModal:pi,BlacklistModal:hi,FotoKtpModal:ki,SelfieKtpModal:Ei,CompareKTPModal:Oi,InsideSpinner:ma},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},loader:{isShow:!1,message:"Loading data"},isEditInfoModalShow:!1,isCommentModalShow:!1,isEmailModalShow:!1,isProcessModalShow:!1,isEmergencyContactModalShow:!1,isPaymentMethodModalShow:!1,isLocationModalShow:!1,isBlacklistModalShow:!1,isFotoKtpModalShow:!1,isSelfieKtpModalShow:!1,isCompareKTPModalShow:!1,editInfoData:{},confirmTypeSelected:"",confirmTitle:"",userDetails:{},responseAFPI:{},adminData:{},requestData:{}}},created:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.getAdmin(),e.next=4,a.getUserDetails();case 4:if(!("incomplete"==a.getStatusValue(a.userDetails.status)&&a.userDetails.detail||"incomplete"!=a.getStatusValue(a.userDetails.status))){e.next=12;break}return a.getAI(),a.getDanaBalance(),a.getActivityMailUSer(),e.next=10,a.getAllTypeUserSalary();case 10:a.getAllIndustry(),a.getAFPI();case 12:"incomplete"!=a.getStatusValue(a.userDetails.status)&&a.getOCRdata(),console.log(a.userDetails);case 14:case"end":return e.stop()}}),e)})))()},methods:{decodeJwt:function(t){var e=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},a=function(t){return JSON.parse(e(t.split(".")[1].replace("-","+").replace("_","/")))};return a(t)},toggleModals:function(t,e,a){var s=this;s.isEditInfoModalShow="editInfo"==e&&t,s.isCommentModalShow="comment"==e&&t,s.isEmailModalShow="email"==e&&t,s.isProcessModalShow="process"==e&&t,s.isEmergencyContactModalShow="emergencyContact"==e&&t,s.isPaymentMethodModalShow="paymentMethod"==e&&t,s.isLocationModalShow="location"==e&&t,s.isBlacklistModalShow="blacklist"==e&&t,s.isFotoKtpModalShow="fotoKtp"==e&&t,s.isSelfieKtpModalShow="selfieKtp"==e&&t,s.isCompareKTPModalShow="compareKTP"==e&&t,"process"==e&&(s.confirmTypeSelected=a,"approve"==a&&(s.confirmTitle="Approve Confirmation",s.requestData.type="approve"),"incomplete"==a&&(s.confirmTitle="Jadikan user Incomplete Confirmation",s.requestData.type="incomplete"),"reject"==a&&(s.confirmTitle="Reject Confirmation",s.requestData.type="reject"))},refreshData:function(t){var e=this;e.isEditInfoModalShow=!1,"editInfo"==t&&e.getOCRdata()},toggleLoader:function(t,e){var a=this;a.loader={isShow:t,message:e||a.loader.message}},getUserDetails:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/users/".concat(a.$route.params.id),a.toggleLoader(!0,"Loading data"),e.next=5,Nt.a.get(s,a.requestedHeaders).then((function(t){a.userDetails=t.data,a.toggleLoader(!1)})).catch((function(t){console.log(t),a.$swal("Error!",t,"error"),a.toggleLoader(!1)}));case 5:case"end":return e.stop()}}),e)})))()},getAllTypeUserSalary:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,Nt.a.get("api/usersalary",a.requestedHeaders).then((function(t){var e=a.userDetails.detail.penghasilan,s=t.data.filter((function(t){return t.type==e}));a.userDetails.detail.descriptionOfsalary=s.length>0?s[0].description:"---"})).catch((function(t){console.log(t.message),a.$swal("Error!",t.message,"error"),a.toggleLoader(!1)}));case 3:case"end":return e.stop()}}),e)})))()},getAFPI:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,Nt.a.get("https://minion.empatkali.co.id/dataafpi2.php?ktp=".concat(a.$route.params.id)).then((function(t){var e=a.userDetails.detail.descriptionOfsalary.replaceAll(/(rp\s)|(\.)/gi,"").replaceAll(/(\s-\s)|(<\s)|(>\s)/gi,"~").split("~"),s=e.reduce((function(t,e){return isNaN(t)?parseInt(e):t+parseInt(e)/2}),0);a.responseAFPI=Object.assign(t.data,{income:s}),a.$forceUpdate()})).catch((function(t){console.log(t.message),a.$swal("Error!",t.message,"error"),a.toggleLoader(!1)}));case 3:case"end":return e.stop()}}),e)})))()},getAdmin:function(){var t=this,e=t.decodeJwt(t.requestedHeaders.headers["x-access-token"]);Nt.a.get("api/admins/".concat(e._id),t.requestedHeaders).then((function(e){e&&(t.adminData=e.data)})).catch((function(t){console.log(t)}))},getAI:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s={userid:a.$route.params.id},e.next=4,Nt.a.post("https://minion.empatkali.co.id/advanceai.php",s).then((function(t){if(console.log(t),t.data[0]){var e=t.data[0],s="empty";if(e.ktp&&-1==e.ktp.indexOf("error")){var r=JSON.parse(e.ktp);a.userDetails.ktpValidation=r,"FOUND"==r.status?r.name_matches?a.userDetails.ktpValidation.isFoundMatch=!0:a.userDetails.ktpValidation.isFoundNotMatch=!0:a.userDetails.ktpValidation.isNotFound=!0}e.npwp&&("number"==typeof e.npwp?a.userDetails.npwpCheck=e.npwp:"string"==typeof e.npwp&&(e.npwp.length<=16?a.userDetails.npwpCheck=e.npwp:JSON.parse(e.npwp).data.length>0?e.npwp.length>16?a.userDetails.npwpCheck=JSON.parse(e.npwp).data[0].nama.toUpperCase():a.userDetails.npwpCheck=e.npwp:JSON.parse(e.npwp).message?a.userDetails.npwpCheck=JSON.parse(e.npwp).message:a.userDetails.npwpCheck=e.npwp)),a.userDetails.gopay=e.GOPAY?JSON.parse(e.GOPAY).result:null,a.userDetails.ovo=e.OVO?JSON.parse(e.OVO).result:null,a.userDetails.linkaja=e.LINKAJA?JSON.parse(e.LINKAJA).result:null,a.userDetails.nameMatch=[{data:"phone",value:0},{data:"nameOcr",value:0},{data:"tele_id",value:0},{data:"nameNpwp",value:0}];var i={phone:a.userDetails.detail.name.toUpperCase(),nameOcr:a.userDetails.ocr&&a.userDetails.ocr.data?a.userDetails.ocr.data.name.toUpperCase():"-",nameNpwp:a.userDetails.npwpCheck};s==i.phone&&(a.userDetails.nameMatch[0].value=33),s==i.nameOcr&&(""==s?(a.userDetails.nameMatch[1].value=0,a.userDetails.ocr.data.name="-"):a.userDetails.nameMatch[1].value=33),s==i.nameNpwp&&"--"!=s&&(a.userDetails.nameMatch[3].value=33);var n=function(t){return t.reduce((function(t,e){return t+e.value}),0)};if(a.userDetails.scoreNameMatch={},a.userDetails.scoreNameMatch.score=n(a.userDetails.nameMatch),a.userDetails.scoreNameMatch.score>=80?a.userDetails.scoreNameMatch.colorScore="#70AD47":a.userDetails.scoreNameMatch.score>=60?a.userDetails.scoreNameMatch.colorScore="yellow":a.userDetails.scoreNameMatch.colorScore="red",e.blacklist&&JSON.parse(e.blacklist).data&&(a.userDetails.blacklist=JSON.parse(e.blacklist).data,a.userDetails.resultOfBlackList=a.userDetails.blacklist.data?a.userDetails.blacklist.data.defaultListResult:a.userDetails.blacklist.defaultListResult),e["face blacklist"]&&(a.userDetails.face_blackList=JSON.parse(e["face blacklist"])),e["face comparison"]&&(a.userDetails.face_comparison=JSON.parse(e["face comparison"])),e["face search"]&&(a.userDetails.face_search=JSON.parse(e["face search"]),a.userDetails.faceSeacrhResult=a.userDetails.face_search.data),e["fraud score"],e["trusting"]&&(a.userDetails.trusting_social=JSON.parse(e["trusting"])),e["multi platform"]&&(null==JSON.parse(e["multi platform"]).data?a.userDetails.multiPlatformResult={}:(a.userDetails.multi_platform=JSON.parse(e["multi platform"]),a.userDetails.multiPlatformResult=a.userDetails.multi_platform.data.statistics.statisticCustomerInfo.pop())),e["tele check"]){a.userDetails.tele_check=JSON.parse(e["tele check"]);var o="";if(a.userDetails.tele_check.data&&(o=a.userDetails.tele_check.data.status),null!=a.userDetails.tele_check.data)switch(o){case 1:a.userDetails.tele_check.data.status_msg="Called number has ringer";break;case 2:a.userDetails.tele_check.data.status_msg="Empty Number";break;case 3:a.userDetails.tele_check.data.status_msg="Busy Line";break;case 4:a.userDetails.tele_check.data.status_msg="Powered Off";break;case 5:a.userDetails.tele_check.data.status_msg="Not Available";break;case 6:a.userDetails.tele_check.data.status_msg="Temporarily unable to connect";break;case-1:a.userDetails.tele_check.data.status_msg="Abnormal line, unknown state";break;default:}}}else console.log("advanceAI","data null")})).catch((function(t){console.log(t),a.$swal("Error!",t.message,"error"),a.toggleLoader(!1)}));case 4:case"end":return e.stop()}}),e)})))()},getDanaBalance:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s=a.decodeJwt(a.requestedHeaders.headers["x-access-token"]),r={mobileNumber:a.userDetails.mobileNumber,"detail.email":a.userDetails.detail.email,"ktp.number":a.userDetails.ktp?a.userDetails.ktp.number:"",npwp:a.userDetails.npwp,"detail.name":a.userDetails.detail.name,status:a.userDetails.status,adminLogin:{_id:s._id,email:s.email}},e.next=5,Nt.a.post("https://minion.empatkali.co.id/jhon3.php",r).then((function(t){if(t.data){var e=t.data.kontrak,s=a.userDetails.status;a.userDetails.danaData={},a.userDetails.danaData.dana=t.data.dana,a.userDetails.danaData.kontrak="Sudah klik kontrak"==e&&2==s?"Sudah lihat dan menyetujui kontrak":"Sudah klik kontrak"==e&&6==s?"Sudah lihat kontrak":t.data.kontrak}else a.userDetails.danaData={kontrak:"No Records",dana:"No Records"}})).catch((function(t){console.log(t.response)}));case 5:case"end":return e.stop()}}),e)})))()},getActivityMailUSer:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,s=a.decodeJwt(a.requestedHeaders.headers["x-access-token"]),r={mobileNumber:a.userDetails.mobileNumber,"detail.email":a.userDetails.detail.email,"ktp.number":a.userDetails.ktp?a.userDetails.ktp.number:"",npwp:a.userDetails.npwp,"detail.name":a.userDetails.detail.name,status:a.userDetails.status,adminLogin:{_id:s._id,email:s.email}},Nt.a.post("https://minion.empatkali.co.id/jhon2.php",r).then((function(t){a.userDetails.emailLogs=JSON.parse(t.data.email)})).catch((function(t){console.log(t.response)}));case 4:case"end":return e.stop()}}),e)})))()},getStatusValue:function(t){var e="",a="";switch(t){case 0:case"incomplete":e="incomplete",a=0;break;case 1:case"pending":e="pending",a=1;break;case 2:case"active":e="active",a=2;break;case 3:case"banned":e="banned",a=3;break;case 4:case"rejected":e="rejected",a=4;break;case 5:case"freeze":e="freeze",a=5;break;case 6:case"approved":e="approved",a=6;break;default:e="",a=null;break}return"number"==typeof t?e:a},goBacktoUser:function(){var t=this,e=t.getStatusValue(t.userDetails.status);console.log(e),t.$router.push({name:"Users",params:{status:e}})},getAllIndustry:function(){var t=this;fetch("../__tmp-files/industry.json").then((function(t){return t.json()})).then((function(e){if(t.userDetails.detail){var a=e.filter((function(e){return e._id==t.userDetails.detail.industri}));t.userDetails.detail.industri_label=a[0]?a[0].label:"---"}}))},check4xUser:function(t){var e=this,a=e._.findIndex(t.isUsedAsEmergencyContact,{mobileNumber:t.emergencyContact.mobileNumber})>=0;return a},getOCRdata:function(){var t=this,e=this;Nt.a.get("https://minion.empatkali.co.id/advance/ktp.php?id=".concat(e.userDetails._id,"&t=pr")).then((function(a){console.log(a),a.data.display?e.userDetails.ocrData={name:a.data.display.data.result.name,province:a.data.display.data.result.provinsi,idNumber:a.data.display.data.result.nik,birthPlaceBirthday:a.data.display.data.result.birthplace&&a.data.display.data.result.birthday?a.data.display.data.result.birthplace+", "+a.data.display.data.result.birthday:"",bloodType:a.data.display.data.result.blood_type,address:a.data.display.data.result.address,rtrw:a.data.display.data.result.rt_rw,village:a.data.display.data.result.village,district:a.data.display.data.result.street,religion:a.data.display.data.result.religion,maritalStatus:a.data.display.data.result.marital_status,occupation:a.data.display.data.result.occupation,expiryDate:a.data.display.data.result.expiry_date,birthplace:a.data.display.data.result.birthplace,dob:t.$moment(a.data.display.data.result.birthday,"DD-MM-YYYY").format("YYYY-MM-DD"),gender:a.data.display.data.result.gender}:a.data.data?e.userDetails.ocrData={name:a.data.data.name,province:a.data.data.province,idNumber:a.data.data.idNumber,birthPlaceBirthday:a.data.data.birthPlaceBirthday,bloodType:a.data.data.bloodType,address:a.data.data.address,rtrw:a.data.data.rtrw,village:a.data.data.village,district:a.data.data.district,religion:a.data.data.religion,maritalStatus:a.data.data.maritalStatus,occupation:a.data.data.occupation,expiryDate:a.data.data.expiryDate,birthplace:a.data.data.birthPlaceBirthday.split(",")[1].replace(" ",""),dob:t.$moment(a.data.data.birthday,"DD-MM-YYYY").format("YYYY-MM-DD"),gender:a.data.data.gender}:e.userDetails.ocrData={},console.log(e.userDetails.ocrData),e.$forceUpdate()})).catch((function(t){console.log(t),e.$swal("Error!",t,"error"),e.toggleLoader(!1)}))},resendVerifEmail:function(){var t=this,e={users:[t.$route.params.id]};t.toggleLoader(!0),Nt.a.put("/api/users/resendverifyemail",e,t.requestedHeaders).then((function(e){console.log(e),200==e.status?t.$swal("Success!","Verification Email Sent.","success"):t.$swal("Error!",e.data.message,"error"),t.toggleLoader(!1)})).catch((function(e){console.log(e.response),t.$swal("Error!",e.message,"error"),t.toggleLoader(!1)}))}}},Ui=Fi,Ti=Ui,qi=Object(St["a"])(Ti,Z,J,!1,null,null,null),Yi=qi.exports,Bi=Yi,Hi=Bi,Wi=(a("3fdb"),a("8684"),Object(St["a"])(Hi,yr,kr,!1,null,"4434f5cc",null)),Vi=Wi.exports,zi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings-container"},[a("Header"),a("div",{staticClass:"settings-content p-4 flex"},[a("router-link",{staticClass:"card flex-1 cursor-pointer rounded-2xl px-6 py-10 flex items-center justify-center mr-4",attrs:{tag:"div","exact-active-class":"none",to:{name:"Email Template"}}},[a("img",{staticClass:"w-14 mr-4 flex-none",attrs:{src:"../assets/img/settings-box.png",alt:""}}),a("p",{staticClass:"flex-1 font-bold leading-normal"},[t._v("Email"),a("br"),t._v("Template")])]),a("router-link",{staticClass:"card flex-1 cursor-pointer rounded-2xl px-6 py-10 flex items-center justify-center mr-4",attrs:{tag:"div","exact-active-class":"none",to:{name:"Fee"}}},[a("img",{staticClass:"w-14 mr-4 flex-none",attrs:{src:"../assets/img/settings-box.png",alt:""}}),a("p",{staticClass:"flex-1 font-bold leading-normal"},[t._v("Transaction"),a("br"),t._v("Fee")])]),a("router-link",{staticClass:"card flex-1 cursor-pointer rounded-2xl px-6 py-10 flex items-center justify-center mr-4",attrs:{tag:"div","exact-active-class":"none",to:{name:"User Management"}}},[a("img",{staticClass:"w-14 mr-4 flex-none",attrs:{src:"../assets/img/settings-box.png",alt:""}}),a("p",{staticClass:"flex-1 font-bold leading-normal"},[t._v("User"),a("br"),t._v("Management")])]),a("router-link",{staticClass:"card flex-1 cursor-pointer rounded-2xl px-6 py-10 flex items-center justify-center mr-4",attrs:{tag:"div","exact-active-class":"none",to:{name:"Salary"}}},[a("img",{staticClass:"w-14 mr-4 flex-none",attrs:{src:"../assets/img/settings-box.png",alt:""}}),a("p",{staticClass:"flex-1 font-bold leading-normal"},[t._v("Salary"),a("br"),t._v("Range")])])],1)],1)},Ki=[],Zi={components:{Header:xe},data:function(){return{}},created:function(){},methods:{}},Ji=Zi,Xi=Ji,Qi=Object(St["a"])(Xi,X,Q,!1,null,null,null),Gi=Qi.exports,tn=Gi,en=tn,an=(a("0c57"),Object(St["a"])(en,zi,Ki,!1,null,"8a2b227e",null)),sn=an.exports,rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"email-template-container"},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("Header"),a("div",{staticClass:"email-template-content px-4 pb-4 overflow-y-auto max-h-96"},[a("div",{staticClass:"card flex p-4 pt-8"},[a("div",{staticClass:"flex-1"},[a("div",{staticClass:"relative text-gray-600 pb-2 px-2"},[a("span",{staticClass:"text-sm font-bold"},[t._v("TYPE")]),a("a",{staticClass:"text-sm absolute top-0 right-2",attrs:{href:"#"},on:{click:function(e){return t.toggleTemplateModals(!0,"add")}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"plus-square",size:"lg"}}),t._v(" Add ")],1)]),a("div",{staticClass:"scroll-container"},t._l(t.templatesArr,(function(e,s){return a("div",{key:e.index,staticClass:"relative text-gray-600 border-t px-2 py-3 cursor-pointer relative",class:{"bg-gray-100 border-l border-r":e._id==t.activeTemplateId},on:{click:function(a){return a.preventDefault(),t.selectTemplate(e)}}},[a("span",{staticClass:"text-base"},[t._v(t._s(e.type))]),e._id==t.activeTemplateId?a("div",{staticClass:"absolute top-4 right-2 "},[a("font-awesome-icon",{staticClass:"ml-3 text-primaryMsg",attrs:{icon:"edit"},on:{click:function(e){return t.toggleTemplateModals(!0,"edit",s)}}}),a("font-awesome-icon",{staticClass:"ml-3 text-dangerMsg",attrs:{icon:"trash-alt"},on:{click:function(e){return t.removeTemplate()}}})],1):t._e()])})),0)]),a("div",{staticClass:"flex-2 pl-20 pb-20"},[a("p",{staticClass:"text-xl text-center font-bold mb-8"},[t._v("Preview")]),a("p",{staticClass:"text-base mb-2"},[a("b",{staticClass:"mr-4"},[t._v("Subject :")]),t._v(" "+t._s(t.template.subject))]),a("p",{staticClass:"text-base mb-8"},[a("b",{staticClass:"mr-4"},[t._v("Image Url :")]),t._v(" "+t._s(t.template.image_url))]),a("div",{staticClass:"leading-normal template-content",domProps:{innerHTML:t._s(t.template.content)}})])])]),a("Modal",{attrs:{title:"Add Template","modal-class":"modal-wrapper"},model:{value:t.isShowAddTemplate,callback:function(e){t.isShowAddTemplate=e},expression:"isShowAddTemplate"}},[a("AddTemplateModal",{attrs:{closeModal:t.toggleTemplateModals,addTemplateSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Edit Template","modal-class":"modal-wrapper w-9/10 max-w-none"},model:{value:t.isShowEditTemplate,callback:function(e){t.isShowEditTemplate=e},expression:"isShowEditTemplate"}},[a("EditTemplateModal",{attrs:{closeModal:t.toggleTemplateModals,editTemplateSuccess:t.refreshData,template:t.template,toggleLoader:t.toggleLoader}})],1)],1)},nn=[],on=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{"data-vv-scope":"frmAddTemplate"},on:{submit:function(e){return e.preventDefault(),t.formValidator("frmAddTemplate")}}},[a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addTemplateData.type,expression:"addTemplateData.type"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddTemplate.type")},attrs:{type:"text",placeholder:"Enter type",name:"type"},domProps:{value:t.addTemplateData.type},on:{input:function(e){e.target.composing||t.$set(t.addTemplateData,"type",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddTemplate.type")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addTemplateData.subject,expression:"addTemplateData.subject"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddTemplate.subject")},attrs:{type:"text",placeholder:"Enter subject",name:"subject"},domProps:{value:t.addTemplateData.subject},on:{input:function(e){e.target.composing||t.$set(t.addTemplateData,"subject",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddTemplate.subject")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addTemplateData.image_url,expression:"addTemplateData.image_url"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddTemplate.image_url")},attrs:{type:"text",placeholder:"Enter image URL",name:"image_url"},domProps:{value:t.addTemplateData.image_url},on:{input:function(e){e.target.composing||t.$set(t.addTemplateData,"image_url",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddTemplate.image_url")))])]),a("div",{staticClass:"input-div mb-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addTemplateData.content,expression:"addTemplateData.content"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddTemplate.content")},staticStyle:{resize:"none"},attrs:{cols:"10",rows:"6",placeholder:"Enter content",name:"content"},domProps:{value:t.addTemplateData.content},on:{input:function(e){e.target.composing||t.$set(t.addTemplateData,"content",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddTemplate.content")))])]),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn px-6 py-3 mx-1 bg-primaryBtn text-white rounded-md"},[t._v("Add template")]),a("button",{staticClass:"btn px-6 py-3 mx-1 bg-closeBtn text-white rounded-md",on:{click:function(e){return t.closeModal(!1,"add")}}},[t._v("Close")])])])])},ln=[],cn={props:{closeModal:Function,addTemplateSuccess:Function,toggleLoader:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},addTemplateData:{}}},created:function(){},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&e.addTemplate()}))},addTemplate:function(){var t=this;t.toggleLoader(!0),Nt.a.post("/api/templates",t.addTemplateData,t.requestedHeaders).then((function(e){t.addTemplateSuccess(e.data,"add"),t.$swal("Success!","New template added!","success")}))}}},dn=cn,un=Object(St["a"])(dn,on,ln,!1,null,"32ec1cf4",null),mn=un.exports,pn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex"},[a("div",{staticClass:"flex-1 mr-10"},[a("form",{attrs:{"data-vv-scope":"frmEditTemplate"},on:{submit:function(e){return e.preventDefault(),t.formValidator("frmEditTemplate")}}},[a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editTemplateData.subject,expression:"editTemplateData.subject"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmEditTemplate.subject")},attrs:{type:"text",placeholder:"Enter subject",name:"subject"},domProps:{value:t.editTemplateData.subject},on:{input:function(e){e.target.composing||t.$set(t.editTemplateData,"subject",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditTemplate.subject")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editTemplateData.image_url,expression:"editTemplateData.image_url"}],staticClass:"text-base",attrs:{type:"text",placeholder:"Enter image URL",name:"image_url"},domProps:{value:t.editTemplateData.image_url},on:{input:function(e){e.target.composing||t.$set(t.editTemplateData,"image_url",e.target.value)}}})]),a("div",{staticClass:"input-div mb-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editTemplateData.content,expression:"editTemplateData.content"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmEditTemplate.content")},staticStyle:{resize:"none"},attrs:{cols:"10",rows:"6",placeholder:"Enter content",name:"content"},domProps:{value:t.editTemplateData.content},on:{input:function(e){e.target.composing||t.$set(t.editTemplateData,"content",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditTemplate.content")))])]),a("div",{},[a("button",{staticClass:"btn px-6 py-3 mx-1 bg-primaryBtn text-white rounded-md"},[t._v("Update template")]),a("button",{staticClass:"btn px-6 py-3 mx-1 bg-closeBtn text-white rounded-md",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"edit")}}},[t._v("Close")])])])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-2xl font-bold mb-4"},[t._v("Preview")]),a("div",{domProps:{innerHTML:t._s(t.editTemplateData.content&&t.editTemplateData.content.length>0?t.editTemplateData.content:"---")}})])])},fn=[],gn={props:{closeModal:Function,editTemplateSuccess:Function,template:Object,toggleLoader:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},sampleContent:"Sample",editTemplateData:{}}},created:function(){var t=this;t.editTemplateData=t.template,console.log(t.editTemplateData)},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&e.updateTemplate()}))},updateTemplate:function(){var t=this;t.toggleLoader(!0),Nt.a.put("/api/templates",t.editTemplateData,t.requestedHeaders).then((function(e){t.$swal("Success!","Template updated!","success"),e.data.__index=t.editTemplateData.__index,t.editTemplateSuccess(e.data,"edit")}))}}},vn=gn,xn=Object(St["a"])(vn,pn,fn,!1,null,"ef868222",null),bn=xn.exports,hn={components:{Header:xe,AddTemplateModal:mn,EditTemplateModal:bn,Loader:Kt},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},isShowAddTemplate:!1,isShowEditTemplate:!1,templatesArr:[],template:{},activeTemplateId:null,loader:{isShow:!0,message:"Preparing"}}},created:function(){this.getAllTemplates()},methods:{getAllTemplates:function(){var t=this;t.loader.isShow=!0,Nt.a.get("/api/templates",t.requestedHeaders).then((function(e){t.templatesArr=e.data,t.selectTemplate(e.data[0]),t.loader.isShow=!1}))},toggleTemplateModals:function(t,e,a){var s=this;s.isShowAddTemplate="add"==e&&t,s.isShowEditTemplate="edit"==e&&t,"edit"==e&&(s.template.__index=a)},selectTemplate:function(t){var e=this;e.template=t,e.activeTemplateId=t._id},refreshData:function(t,e){var a=this;a.isShowAddTemplate=!1,a.isShowEditTemplate=!1,"add"==e?a.templatesArr.push(t):(a.templatesArr[t.__index]=t,a.template=t),a.loader.isShow=!1},removeTemplate:function(){var t=this;confirm("Are you sure you want to remove this template?")&&(t.loader.isShow=!0,Nt.a.delete("/api/templates/".concat(t.activeTemplateId),t.requestedHeaders).then((function(e){t.$swal("Success!","Template removed!","success"),t.loader.isShow=!1,t.getAllTemplates(e)})))},toggleLoader:function(t){var e=this;e.loader.isShow=t}}},_n=hn,Cn=_n,Dn=Object(St["a"])(Cn,G,tt,!1,null,null,null),wn=Dn.exports,yn=wn,kn=yn,Pn=(a("7bcb"),Object(St["a"])(kn,rn,nn,!1,null,"7c7205cc",null)),Sn=Pn.exports,Mn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fee-container"},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("Header"),a("div",{staticClass:"fee-content-container overflow-y-auto px-4 pb-4 "},[a("div",{staticClass:"card p-4 pt-6"},[a("div",[a("button",{staticClass:"btn bg-successMsg text-white px-6 py-2 rounded-md text-sm mb-5",on:{click:function(e){return e.preventDefault(),t.toggleFeeModals(!0,"add")}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"plus"}}),t._v(" Add Fee ")],1)]),a("table",{staticClass:"w-full text-left"},[t._m(0),a("tbody",t._l(t.feeArr,(function(e,s){return a("tr",{key:e.index},[a("td",{staticClass:"pr-5 py-3 border-t"},[t._v(t._s(e.type))]),a("td",{staticClass:"pr-5 py-3 border-t"},[t._v(t._s(e.description))]),a("td",{staticClass:"pr-5 py-3 border-t text-right"},[t._v(t._s(t._f("currency")(e.amount)))]),a("td",{staticClass:"pr-5 py-3 border-t text-right"},[a("a",{staticClass:"mr-2",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toggleFeeModals(!0,"edit",s,e)}}},[a("font-awesome-icon",{staticClass:"text-primaryMsg",attrs:{icon:"edit"}})],1),a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.deleteFee(e,s)}}},[a("font-awesome-icon",{staticClass:"text-dangerMsg",attrs:{icon:"trash-alt"}})],1)])])})),0)])])]),a("Modal",{attrs:{title:"Add Fee","modal-class":"modal-wrapper"},model:{value:t.isShowAddFeeModal,callback:function(e){t.isShowAddFeeModal=e},expression:"isShowAddFeeModal"}},[a("AddFeeModal",{attrs:{closeModal:t.toggleFeeModals,addFeeSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Edit Fee","modal-class":"modal-wrapper w-80"},model:{value:t.isShowEditFeeModal,callback:function(e){t.isShowEditFeeModal=e},expression:"isShowEditFeeModal"}},[a("EditFeeModal",{attrs:{closeModal:t.toggleFeeModals,editFeeSuccess:t.refreshData,feeSelected:t.feeSelected,toggleLoader:t.toggleLoader}})],1)],1)},An=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-gray-600 pr-5 py-3"},[t._v("Type")]),a("th",{staticClass:"text-gray-600 pr-5 py-3"},[t._v("Description")]),a("th",{staticClass:"text-gray-600 pr-5 py-3 text-right"},[t._v("Amount")]),a("th",{staticClass:"pr-5 py-3"})])])}],Ln=(a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{"data-vv-scope":"frmAddFee"},on:{submit:function(e){return e.preventDefault(),t.formValidator("frmAddFee")}}},[a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addFeeData.type,expression:"addFeeData.type"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddFee.type")},attrs:{type:"text",placeholder:"Enter type",name:"type"},domProps:{value:t.addFeeData.type},on:{input:function(e){e.target.composing||t.$set(t.addFeeData,"type",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddFee.type")))])]),a("div",{staticClass:"input-div mb-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addFeeData.description,expression:"addFeeData.description"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddFee.description")},staticStyle:{resize:"none"},attrs:{cols:"10",rows:"6",placeholder:"Enter description",name:"description"},domProps:{value:t.addFeeData.description},on:{input:function(e){e.target.composing||t.$set(t.addFeeData,"description",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddFee.description")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addFeeData.amount,expression:"addFeeData.amount"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base text-right",class:{"border-dangerMsg":t.errors.first("frmAddFee.amount")},attrs:{type:"text",placeholder:"Enter amount",name:"amount"},domProps:{value:t.addFeeData.amount},on:{input:function(e){e.target.composing||t.$set(t.addFeeData,"amount",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddFee.amount")))])]),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn px-6 py-3 mx-1 bg-closeBtn text-white rounded-md",on:{click:function(e){return t.closeModal(!1,"add")}}},[t._v("Close")]),a("button",{staticClass:"btn px-6 py-3 mx-1 bg-primaryBtn text-white rounded-md"},[t._v("Add Fee")])])])])}),En=[],Rn={props:{closeModal:Function,addFeeSuccess:Function,toggleLoader:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},addFeeData:{}}},created:function(){},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&e.addFee()}))},addFee:function(){var t=this;t.toggleLoader(!0),Nt.a.post("".concat("https://api.empatkali.co.id/admin","/api/fees"),t.addFeeData,t.requestedHeaders).then((function(e){t.$swal("Success!","Fee added!","success"),t.addFeeSuccess(e.data,"add")}))}}},Nn=Rn,In=Object(St["a"])(Nn,Ln,En,!1,null,"ae05f926",null),jn=In.exports,$n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{"data-vv-scope":"frmEditFee"},on:{submit:function(e){return e.preventDefault(),t.formValidator("frmEditFee")}}},[a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editFeeData.amount,expression:"editFeeData.amount"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base text-right",class:{"border-dangerMsg":t.errors.first("frmEditFee.amount")},attrs:{type:"text",placeholder:"Enter amount",name:"amount"},domProps:{value:t.editFeeData.amount},on:{input:function(e){e.target.composing||t.$set(t.editFeeData,"amount",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditFee.amount")))])]),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn px-6 py-3 mr-2 bg-primaryBtn text-white rounded-md"},[t._v("Update Fee")]),a("button",{staticClass:"btn px-6 py-3 mr-2 bg-closeBtn text-white rounded-md",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"edit")}}},[t._v("Close")])])])])},On=[],Fn={props:{closeModal:Function,editFeeSuccess:Function,feeSelected:Object,toggleLoader:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},editFeeData:{}}},created:function(){var t=this;t.editFeeData=t.feeSelected,console.log(t.editFeeData)},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&e.updateFee()}))},updateFee:function(){var t=this;t.toggleLoader(!0),Nt.a.put("".concat("https://api.empatkali.co.id/admin","/api/fees/").concat(t.editFeeData._id),{amount:t.editFeeData.amount},t.requestedHeaders).then((function(e){t.$swal("Success!","Fee updated!","success"),e.data.__index=t.editFeeData.__index,t.editFeeSuccess(e.data,"edit")}))}}},Un=Fn,Tn=Object(St["a"])(Un,$n,On,!1,null,"9349c5c6",null),qn=Tn.exports,Yn={components:{Header:xe,AddFeeModal:jn,EditFeeModal:qn,Loader:Kt},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},feeArr:[],loader:{isShow:!0,message:"Preparing"},isShowAddFeeModal:!1,isShowEditFeeModal:!1,feeSelected:{}}},created:function(){this.getFees()},methods:{getFees:function(){var t=this,e=this;e.loader.isShow=!0,Nt.a.get("".concat("https://api.empatkali.co.id/admin","/api/fees"),e.requestedHeaders).then((function(a){t.feeArr=a.data,e.loader.isShow=!1}))},deleteFee:function(t,e){var a=this;a.loader.isShow=!0,confirm("Are you sure you want to remove "+t.type+"?")&&Nt.a.delete("".concat("https://api.empatkali.co.id/admin","/api/fees/").concat(t._id),a.requestedHeaders).then((function(){a.$swal("Success!","Fee Removed!","success"),a.feeArr.splice(e,1),a.loader.isShow=!1}))},toggleLoader:function(t){var e=this;e.loader.isShow=t},toggleFeeModals:function(t,e,a,s){var r=this;r.isShowAddFeeModal="add"==e&&t,r.isShowEditFeeModal="edit"==e&&t,"edit"==e&&(s&&(r.feeSelected=s),r.feeSelected.__index=a)},refreshData:function(t,e){var a=this;a.isShowAddFeeModal=!1,a.isShowEditFeeModal=!1,"add"==e?a.feeArr.push(t):a.feeArr[t.__index].amount=t.amount,a.loader.isShow=!1}}},Bn=Yn,Hn=Bn,Wn=Object(St["a"])(Hn,et,at,!1,null,null,null),Vn=Wn.exports,zn=Vn,Kn=zn,Zn=(a("e478"),Object(St["a"])(Kn,Mn,An,!1,null,"7300302c",null)),Jn=Zn.exports,Xn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-management-container"},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("Header"),a("div",{staticClass:"user-management-content overflow-y-auto px-4 pb-4 "},[a("div",{staticClass:"card p-4 pt-6"},[a("div",[a("button",{staticClass:"btn bg-successMsg text-white px-6 py-2 rounded-md text-sm mb-5",on:{click:function(e){return e.preventDefault(),t.toggleUserModals(!0,"add")}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"plus"}}),t._v(" Add User ")],1)]),a("table",{staticClass:"w-full text-left"},[t._m(0),a("tbody",t._l(t.usersArr,(function(e,s){return a("tr",{key:e.index},[a("td",{staticClass:"pr-5 py-3 border-t"},[t._v(t._s(e.username))]),a("td",{staticClass:"pr-5 py-3 border-t"},[t._v(t._s(e.email))]),a("td",{staticClass:"pr-5 py-3 border-t text-right"},t._l(e.roles,(function(e){return a("span",{key:e.index},[t._v(t._s(e)+",")])})),0),a("td",{staticClass:"pr-5 py-3 border-t text-right"},[a("a",{staticClass:"mr-2",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toggleUserModals(!0,"edit",s,e)}}},[a("font-awesome-icon",{staticClass:"text-primaryMsg",attrs:{icon:"edit"}})],1),a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.deleteUser(e,s)}}},[a("font-awesome-icon",{staticClass:"text-dangerMsg",attrs:{icon:"trash-alt"}})],1)])])})),0)])])]),a("Modal",{attrs:{title:"Add User","modal-class":"modal-wrapper w-1/2 max-w-none"},model:{value:t.isShowAddUserModal,callback:function(e){t.isShowAddUserModal=e},expression:"isShowAddUserModal"}},[a("AddUserModal",{attrs:{closeModal:t.toggleUserModals,addUserSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1)],1)},Qn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-gray-600 pr-5 py-3"},[t._v("Username")]),a("th",{staticClass:"text-gray-600 pr-5 py-3"},[t._v("Email")]),a("th",{staticClass:"text-gray-600 pr-5 py-3 text-right"},[t._v("Role")]),a("th",{staticClass:"pr-5 py-3"})])])}],Gn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{"data-vv-scope":"frmAddUser"},on:{submit:function(e){return e.preventDefault(),t.formValidator("frmAddUser")}}},[a("div",{staticClass:"flex"},[a("div",{staticClass:"flex-1 mr-3"},[a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addUserData.firstName,expression:"addUserData.firstName"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddUser.firstname")},attrs:{type:"text",placeholder:"Enter firstname",name:"firstname"},domProps:{value:t.addUserData.firstName},on:{input:function(e){e.target.composing||t.$set(t.addUserData,"firstName",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddUser.firstname")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addUserData.lastName,expression:"addUserData.lastName"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddUser.lastname")},attrs:{type:"text",placeholder:"Enter lastname",name:"lastname"},domProps:{value:t.addUserData.lastName},on:{input:function(e){e.target.composing||t.$set(t.addUserData,"lastName",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddUser.lastname")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addUserData.displayName,expression:"addUserData.displayName"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddUser.displayname")},attrs:{type:"text",placeholder:"Enter display name",name:"displayname"},domProps:{value:t.addUserData.displayName},on:{input:function(e){e.target.composing||t.$set(t.addUserData,"displayName",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddUser.displayname")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addUserData.email,expression:"addUserData.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddUser.email")},attrs:{type:"text",placeholder:"Enter email",name:"email"},domProps:{value:t.addUserData.email},on:{input:function(e){e.target.composing||t.$set(t.addUserData,"email",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddUser.email")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addUserData.username,expression:"addUserData.username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddUser.username")},attrs:{type:"text",placeholder:"Enter username",name:"username"},domProps:{value:t.addUserData.username},on:{input:function(e){e.target.composing||t.$set(t.addUserData,"username",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddUser.username")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addUserData.password,expression:"addUserData.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddUser.password")},attrs:{type:"text",placeholder:"Enter password",name:"password"},domProps:{value:t.addUserData.password},on:{input:function(e){e.target.composing||t.$set(t.addUserData,"password",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddUser.password")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addUserData.mobileNumber,expression:"addUserData.mobileNumber"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddUser.mobilenumber")},attrs:{type:"text",placeholder:"Enter mobile number",name:"mobilenumber"},domProps:{value:t.addUserData.mobileNumber},on:{input:function(e){e.target.composing||t.$set(t.addUserData,"mobileNumber",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddUser.mobilenumber")))])]),a("div",{},[a("button",{staticClass:"btn px-6 py-3 mr-1 bg-closeBtn text-white rounded-md",on:{click:function(e){return t.closeModal(!1,"add")}}},[t._v("Close")]),a("button",{staticClass:"btn px-6 py-3 ml-1 bg-primaryBtn text-white rounded-md"},[t._v("Add User")])])]),a("div",{staticClass:"flex-1 ml-3"},[a("h4",{staticClass:"text-2xl mb-2"},[t._v("Roles")]),a("div",{staticClass:"input-div mb-5"},[a("small",{staticClass:"text-md mb-3 block"},[t._v("Note: select at least 1 role")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.addUserInputRoles,expression:"addUserInputRoles"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"is-invalid":t.errors.first("frmAddUser.roles")},staticStyle:{height:"auto"},attrs:{name:"roles",multiple:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.addUserInputRoles=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"superadmin"}},[t._v("Super Admin")]),a("option",{attrs:{value:"finance"}},[t._v("Finance")]),a("option",{attrs:{value:"useradmin"}},[t._v("User Admin")])]),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddUser.roles")))])])])])])])},to=[],eo={props:{closeModal:Function,addUserSuccess:Function,toggleLoader:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},addUserData:{},addUserInputRoles:[]}},created:function(){},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&e.addUser()}))},addUser:function(){var t=this;t.toggleLoader(!0),Nt.a.post("".concat("https://api.empatkali.co.id/admin","/api/admins"),Object.assign(t.addUserData,{roles:t.addUserInputRoles}),t.requestedHeaders).then((function(e){t.toggleLoader(!1),t.$swal("Success!","User added!","success"),t.addUserSuccess(e.data,"add")}))}}},ao=eo,so=Object(St["a"])(ao,Gn,to,!1,null,"1e19d328",null),ro=so.exports,io={components:{Header:xe,AddUserModal:ro,Loader:Kt},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},usersArr:[],loader:{isShow:!0,message:"Preparing"},isShowAddUserModal:!1}},created:function(){this.getUsers()},methods:{getUsers:function(){var t=this,e=this;e.loader.isShow=!0,Nt.a.get("".concat("https://api.empatkali.co.id/admin","/api/admins"),e.requestedHeaders).then((function(a){t.usersArr=a.data,e.loader.isShow=!1})).catch((function(t){e.loader.isShow=!1,console.log(t.response)}))},deleteUser:function(t,e){console.log(t),console.log(e)},toggleUserModals:function(t,e){var a=this;a.isShowAddUserModal="add"==e&&t},toggleLoader:function(t){var e=this;e.loader.isShow=t},refreshData:function(t,e){var a=this;a.isShowAddUserModal=!1,"add"==e&&a.feeArr.push(t),a.loader.isShow=!1}}},no=io,oo=no,lo=Object(St["a"])(oo,st,rt,!1,null,null,null),co=lo.exports,uo=co,mo=uo,po=(a("3b71"),Object(St["a"])(mo,Xn,Qn,!1,null,"43346579",null)),fo=po.exports,go=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"salary-container"},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("Header"),a("div",{staticClass:"salary-content-container overflow-y-auto px-4 pb-4 "},[a("div",{staticClass:"card p-4 pt-6"},[a("div",[a("button",{staticClass:"btn bg-successMsg text-white px-6 py-2 rounded-md text-sm mb-5",on:{click:function(e){return e.preventDefault(),t.toggleSalaryModals(!0,"add")}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"plus"}}),t._v(" Add Salary ")],1)]),a("table",{staticClass:"w-full text-left"},[t._m(0),a("tbody",t._l(t.salaryArr,(function(e,s){return a("tr",{key:e.index},[a("td",{staticClass:"pr-5 py-3 border-t"},[t._v(t._s(e.type))]),a("td",{staticClass:"pr-5 py-3 border-t"},[t._v(t._s(e.description))]),a("td",{staticClass:"pr-5 py-3 border-t text-right"},[t._v(t._s(t._f("currency")(e.credit)))]),a("td",{staticClass:"pr-5 py-3 border-t text-right"},[a("a",{staticClass:"mr-2",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toggleSalaryModals(!0,"edit",s,e)}}},[a("font-awesome-icon",{staticClass:"text-primaryMsg",attrs:{icon:"edit"}})],1),a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.deleteSalary(e,s)}}},[a("font-awesome-icon",{staticClass:"text-dangerMsg",attrs:{icon:"trash-alt"}})],1)])])})),0)])])]),a("Modal",{attrs:{title:"Add Salary","modal-class":"modal-wrapper "},model:{value:t.isShowAddSalaryModal,callback:function(e){t.isShowAddSalaryModal=e},expression:"isShowAddSalaryModal"}},[a("AddSalaryModal",{attrs:{closeModal:t.toggleSalaryModals,addSalarySuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Edit Salary","modal-class":"modal-wrapper w-80"},model:{value:t.isShowEditSalaryModal,callback:function(e){t.isShowEditSalaryModal=e},expression:"isShowEditSalaryModal"}},[a("EditSalaryModal",{attrs:{closeModal:t.toggleSalaryModals,editSalarySuccess:t.refreshData,salarySelected:t.salarySelected,toggleLoader:t.toggleLoader}})],1)],1)},vo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-gray-600 pr-5 py-3"},[t._v("Type")]),a("th",{staticClass:"text-gray-600 pr-5 py-3"},[t._v("Description")]),a("th",{staticClass:"text-gray-600 pr-5 py-3 text-right"},[t._v("Amount")]),a("th",{staticClass:"pr-5 py-3"})])])}],xo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{"data-vv-scope":"frmAddSalary"},on:{submit:function(e){return e.preventDefault(),t.formValidator("frmAddSalary")}}},[a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addSalaryData.type,expression:"addSalaryData.type"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddSalary.type")},attrs:{type:"text",placeholder:"Enter type",name:"type"},domProps:{value:t.addSalaryData.type},on:{input:function(e){e.target.composing||t.$set(t.addSalaryData,"type",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddSalary.type")))])]),a("div",{staticClass:"input-div mb-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addSalaryData.description,expression:"addSalaryData.description"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddSalary.description")},staticStyle:{resize:"none"},attrs:{cols:"10",rows:"6",placeholder:"Enter description",name:"description"},domProps:{value:t.addSalaryData.description},on:{input:function(e){e.target.composing||t.$set(t.addSalaryData,"description",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddSalary.description")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addSalaryData.credit,expression:"addSalaryData.credit"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base text-right",class:{"border-dangerMsg":t.errors.first("frmAddSalary.credit")},attrs:{type:"text",placeholder:"Enter credit",name:"credit"},domProps:{value:t.addSalaryData.credit},on:{input:function(e){e.target.composing||t.$set(t.addSalaryData,"credit",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddSalary.credit")))])]),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn px-6 py-3 mx-1 bg-closeBtn text-white rounded-md",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"add")}}},[t._v("Close")]),a("button",{staticClass:"btn px-6 py-3 mx-1 bg-primaryBtn text-white rounded-md"},[t._v("Add")])])])])},bo=[],ho={props:{closeModal:Function,addSalarySuccess:Function,toggleLoader:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},addSalaryData:{}}},created:function(){},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&e.addSalary()}))},addSalary:function(){var t=this;t.toggleLoader(!0),Nt.a.post("".concat("https://api.empatkali.co.id/admin","/api/usersalary"),t.addSalaryData,t.requestedHeaders).then((function(e){t.$swal("Success!","New Salary added!","success"),t.addFeeSuccess(e.data,"add")})).catch((function(e){t.toggleLoader(!1),t.$swal("Error!",e.response.data.message,"error")}))}}},_o=ho,Co=Object(St["a"])(_o,xo,bo,!1,null,"1e7ac91d",null),Do=Co.exports,wo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{"data-vv-scope":"frmEditSalary"},on:{submit:function(e){return e.preventDefault(),t.formValidator("frmEditSalary")}}},[a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editSalaryData.type,expression:"editSalaryData.type"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmEditSalary.type")},attrs:{type:"text",placeholder:"Enter type",name:"type"},domProps:{value:t.editSalaryData.type},on:{input:function(e){e.target.composing||t.$set(t.editSalaryData,"type",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditSalary.type")))])]),a("div",{staticClass:"input-div mb-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editSalaryData.description,expression:"editSalaryData.description"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmEditSalary.description")},staticStyle:{resize:"none"},attrs:{cols:"10",rows:"6",placeholder:"Enter description",name:"description"},domProps:{value:t.editSalaryData.description},on:{input:function(e){e.target.composing||t.$set(t.editSalaryData,"description",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditSalary.description")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editSalaryData.credit,expression:"editSalaryData.credit"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base text-right",class:{"border-dangerMsg":t.errors.first("frmEditSalary.credit")},attrs:{type:"text",placeholder:"Enter credit",name:"credit"},domProps:{value:t.editSalaryData.credit},on:{input:function(e){e.target.composing||t.$set(t.editSalaryData,"credit",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditSalary.credit")))])]),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn px-6 py-3 mr-2 bg-primaryBtn text-white rounded-md"},[t._v("Update Salary")]),a("button",{staticClass:"btn px-6 py-3 mr-2 bg-closeBtn text-white rounded-md",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"edit")}}},[t._v("Close")])])])])},yo=[],ko={props:{closeModal:Function,editSalarySuccess:Function,salarySelected:Object,toggleLoader:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},editSalaryData:{}}},created:function(){var t=this;t.editSalaryData=t.salarySelected,console.log(t.editSalaryData)},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&e.updateSalary()}))},updateSalary:function(){var t=this;t.toggleLoader(!0),Nt.a.put("".concat("https://api.empatkali.co.id/admin","/api/usersalary/").concat(t.editSalaryData._id),t.editSalaryData,t.requestedHeaders).then((function(e){t.$swal("Success!","Salary updated!","success"),e.data.__index=t.editSalaryData.__index,t.editSalarySuccess(e.data,"edit")}))}}},Po=ko,So=Object(St["a"])(Po,wo,yo,!1,null,"8cc4ded2",null),Mo=So.exports,Ao={components:{Header:xe,AddSalaryModal:Do,EditSalaryModal:Mo,Loader:Kt},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},salaryArr:[],loader:{isShow:!0,message:"Preparing"},isShowAddSalaryModal:!1,isShowEditSalaryModal:!1,salarySelected:{}}},created:function(){this.getSalary()},methods:{getSalary:function(){var t=this,e=this;e.loader.isShow=!0,Nt.a.get("".concat("https://api.empatkali.co.id/admin","/api/usersalary"),e.requestedHeaders).then((function(a){t.salaryArr=a.data,e.loader.isShow=!1}))},deleteSalary:function(t,e){var a=this;a.loader.isShow=!0,confirm("Are you sure you want to remove "+t.type+"?")&&Nt.a.delete("".concat("https://api.empatkali.co.id/admin","/api/usersalary/").concat(t._id),a.requestedHeaders).then((function(){a.$swal("Success!","Salary Removed!","success"),a.salaryArr.splice(e,1),a.loader.isShow=!1}))},toggleLoader:function(t){var e=this;e.loader.isShow=t},toggleSalaryModals:function(t,e,a,s){var r=this;r.isShowAddSalaryModal="add"==e&&t,r.isShowEditSalaryModal="edit"==e&&t,"edit"==e&&(s&&(r.salarySelected=s),r.salarySelected.__index=a)},refreshData:function(t,e){var a=this;a.isShowAddSalaryModal=!1,a.isShowEditSalaryModal=!1,"add"==e?a.salaryArr.push(t):(a.salaryArr[t.__index].type=t.type,a.salaryArr[t.__index].description=t.description,a.salaryArr[t.__index].credit=t.credit),a.loader.isShow=!1}}},Lo=Ao,Eo=Lo,Ro=Object(St["a"])(Eo,it,nt,!1,null,null,null),No=Ro.exports,Io=No,jo=Io,$o=(a("90a2"),Object(St["a"])(jo,go,vo,!1,null,"48c44da1",null)),Oo=$o.exports,Fo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"promotions-container"},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("Header"),a("div",{staticClass:"promotions-content px-4 pb-4 overflow-y-auto max-h-96"},[a("div",{staticClass:"card flex p-4 pt-8"},[a("div",{staticClass:"flex-1"},[a("div",{staticClass:"relative text-gray-600 pb-2 px-2"},[a("span",{staticClass:"text-sm font-bold"},[t._v("Category")]),a("a",{staticClass:"text-sm absolute top-0 right-2",attrs:{href:"#"},on:{click:function(e){return t.togglePromotionModals(!0,"add")}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"plus-square",size:"lg"}}),t._v(" Add ")],1)]),a("div",{staticClass:"scroll-container"},t._l(t.promotionsArr,(function(e,s){return a("div",{key:e.index,staticClass:"relative text-gray-600 border-t px-2 py-3 cursor-pointer relative",class:{"bg-gray-100 border-l border-r":e._id==t.activePromotionsId},on:{click:function(a){return a.preventDefault(),t.selectPromotion(e,s)}}},[a("span",{staticClass:"text-base"},[t._v(t._s(e.name))])])})),0)]),a("div",{staticClass:"flex-2 pl-20 pb-20"},[a("p",{staticClass:"text-xl font-bold mb-8"},[t._v("Details")]),a("table",{staticClass:"w-full tbl-detail"},[a("tbody",[a("tr",[a("td",{staticClass:"py-3 px-2 text-info"},[t._v("Name")]),a("td",{staticClass:"py-3 px-2"},[t._v(t._s(t.promotion.name))])]),a("tr",[a("td",{staticClass:"py-3 px-2 text-info"},[t._v("Description")]),a("td",{staticClass:"py-3 px-2"},[t._v(t._s(t.promotion.description))])]),a("tr",[a("td",{staticClass:"py-3 px-2 text-info"},[t._v("Type")]),a("td",{staticClass:"py-3 px-2"},[t._v(t._s(t.promotion.type))])]),a("tr",[a("td",{staticClass:"py-3 px-2 text-info"},[t._v("Date added")]),a("td",{staticClass:"py-3 px-2"},[t._v(t._s(t._f("moment")(t.promotion.createdAt,"DD/MM/YYYY")))])]),a("tr",[a("td",{staticClass:"py-3 px-2 text-info"},[t._v("Date updated")]),a("td",{staticClass:"py-3 px-2"},[t._v(t._s(t._f("moment")(t.promotion.updatedAt,"DD/MM/YYYY")))])]),a("tr",[a("td",{staticClass:"py-3 px-2 text-info",attrs:{colspan:"2"}},[a("button",{staticClass:"btn px-6 py-3 mx-1 bg-primaryBtn text-white rounded-md",on:{click:function(e){return t.togglePromotionModals(!0,"edit")}}},[t._v("Update")]),a("button",{staticClass:"btn px-6 py-3 mx-1 bg-dangerBtn text-white rounded-md",on:{click:function(e){return t.removePromotion()}}},[t._v("Remove")])])])])])])])]),a("Modal",{attrs:{title:"Add Category","modal-class":"modal-wrapper"},model:{value:t.isShowAddPromotions,callback:function(e){t.isShowAddPromotions=e},expression:"isShowAddPromotions"}},[a("AddPromotionsModal",{attrs:{closeModal:t.togglePromotionModals,addPromotionSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Edit Category","modal-class":"modal-wrapper"},model:{value:t.isShowEditPromotions,callback:function(e){t.isShowEditPromotions=e},expression:"isShowEditPromotions"}},[a("EditPromotionsModal",{attrs:{closeModal:t.togglePromotionModals,editPromotionSuccess:t.refreshData,promotion:t.promotionSelected,toggleLoader:t.toggleLoader}})],1)],1)},Uo=[],To=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{"data-vv-scope":"frmAddCategory"},on:{submit:function(e){return e.preventDefault(),t.formValidator("frmAddCategory")}}},[a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addPromotionData.name,expression:"addPromotionData.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddCategory.name")},attrs:{type:"text",placeholder:"Enter name",name:"name"},domProps:{value:t.addPromotionData.name},on:{input:function(e){e.target.composing||t.$set(t.addPromotionData,"name",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddCategory.name")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addPromotionData.type,expression:"addPromotionData.type"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddCategory.type")},attrs:{type:"text",placeholder:"Enter type",name:"type"},domProps:{value:t.addPromotionData.type},on:{input:function(e){e.target.composing||t.$set(t.addPromotionData,"type",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddCategory.type")))])]),a("div",{staticClass:"input-div mb-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addPromotionData.description,expression:"addPromotionData.description"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddCategory.description")},staticStyle:{resize:"none"},attrs:{cols:"10",rows:"6",placeholder:"Enter description",name:"description"},domProps:{value:t.addPromotionData.description},on:{input:function(e){e.target.composing||t.$set(t.addPromotionData,"description",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddCategory.description")))])]),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn px-6 py-3 mx-1 bg-primaryBtn text-white rounded-md"},[t._v("Add")]),a("button",{staticClass:"btn px-6 py-3 mx-1 bg-closeBtn text-white rounded-md",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"add")}}},[t._v("Close")])])])])},qo=[],Yo={props:{closeModal:Function,addPromotionSuccess:Function,toggleLoader:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},addPromotionData:{}}},created:function(){},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&e.addPromotion()}))},addPromotion:function(){var t=this;t.toggleLoader(!0),Nt.a.post("/api/promotioncategories",t.addPromotionData,t.requestedHeaders).then((function(e){t.addPromotionSuccess(e.data,"add"),t.$swal("Success!","New category added!","success")}))}}},Bo=Yo,Ho=Object(St["a"])(Bo,To,qo,!1,null,"0b926a9a",null),Wo=Ho.exports,Vo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex"},[a("div",{staticClass:"flex-1"},[a("form",{attrs:{"data-vv-scope":"frmEditCategory"},on:{submit:function(e){return e.preventDefault(),t.formValidator("frmEditCategory")}}},[a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editPromotionData.name,expression:"editPromotionData.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmEditCategory.name")},attrs:{type:"text",placeholder:"Enter name",name:"name"},domProps:{value:t.editPromotionData.name},on:{input:function(e){e.target.composing||t.$set(t.editPromotionData,"name",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditCategory.name")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editPromotionData.type,expression:"editPromotionData.type"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmEditCategory.type")},attrs:{type:"text",placeholder:"Enter type",name:"type"},domProps:{value:t.editPromotionData.type},on:{input:function(e){e.target.composing||t.$set(t.editPromotionData,"type",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditCategory.type")))])]),a("div",{staticClass:"input-div mb-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editPromotionData.description,expression:"editPromotionData.description"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmEditCategory.description")},staticStyle:{resize:"none"},attrs:{cols:"10",rows:"6",placeholder:"Enter description",name:"description"},domProps:{value:t.editPromotionData.description},on:{input:function(e){e.target.composing||t.$set(t.editPromotionData,"description",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditCategory.description")))])]),a("div",{},[a("button",{staticClass:"btn px-6 py-3 mx-1 bg-primaryBtn text-white rounded-md"},[t._v("Update")]),a("button",{staticClass:"btn px-6 py-3 mx-1 bg-closeBtn text-white rounded-md",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"edit")}}},[t._v("Close")])])])])])},zo=[],Ko={props:{closeModal:Function,editPromotionSuccess:Function,promotion:Object,toggleLoader:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},editPromotionData:{}}},created:function(){var t=this;t.editPromotionData=t.promotion,console.log(t.editPromotionData)},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&e.updatePromotion()}))},updatePromotion:function(){var t=this;t.toggleLoader(!0),Nt.a.put("/api/promotioncategories/".concat(t.editPromotionData._id),t.editPromotionData,t.requestedHeaders).then((function(e){t.$swal("Success!","Promotion updated!","success"),e.data.__index=t.editPromotionData.__index,t.editPromotionSuccess(e.data,"edit")}))}}},Zo=Ko,Jo=Object(St["a"])(Zo,Vo,zo,!1,null,"d59f7fe2",null),Xo=Jo.exports,Qo={components:{Header:xe,AddPromotionsModal:Wo,EditPromotionsModal:Xo,Loader:Kt},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},isShowAddPromotions:!1,isShowEditPromotions:!1,promotionsArr:[],promotion:{},promotionSelected:{},activePromotionsId:null,loader:{isShow:!0,message:"Preparing"}}},created:function(){this.getAllPromotions()},methods:{getAllPromotions:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.loader.isShow=!0,e.next=4,Nt.a.get("/api/promotioncategories",a.requestedHeaders).then(function(){var t=Object(_e["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.promotionsArr=e.data,a.selectPromotion(a.promotionsArr[0],0),a.loader.isShow=!1;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})))()},togglePromotionModals:function(t,e){var a=this;a.isShowAddPromotions="add"==e&&t,a.isShowEditPromotions="edit"==e&&t,"edit"==e&&(console.log(a.promotion.__index),a.promotionSelected={createdAt:a.promotionsArr[a.promotion.__index].createdAt,description:a.promotionsArr[a.promotion.__index].description,name:a.promotionsArr[a.promotion.__index].name,type:a.promotionsArr[a.promotion.__index].type,updatedAt:a.promotionsArr[a.promotion.__index].updatedAt,_id:a.promotionsArr[a.promotion.__index]._id,__index:a.promotion.__index})},selectPromotion:function(t,e){var a=this;a.promotion={createdAt:t.createdAt,description:t.description,name:t.name,type:t.type,updatedAt:t.updatedAt,_id:t._id,__index:e},a.activePromotionsId=t._id},refreshData:function(t,e){var a=this;a.isShowAddPromotions=!1,a.isShowEditPromotions=!1,"add"==e?a.promotionsArr.push(t):(a.promotionsArr[t.__index]=t,a.promotion=t),a.loader.isShow=!1},removePromotion:function(){var t=this;confirm("Are you sure you want to remove this promotion?")&&(t.loader.isShow=!0,Nt.a.delete("/api/promotioncategories/".concat(t.activePromotionsId),t.requestedHeaders).then((function(e){t.$swal("Success!","Promotion removed!","success"),t.loader.isShow=!1,t.getAllPromotions(e)})))},toggleLoader:function(t){var e=this;e.loader.isShow=t}}},Go=Qo,tl=Go,el=Object(St["a"])(tl,ot,lt,!1,null,null,null),al=el.exports,sl=al,rl=sl,il=(a("88ba"),Object(St["a"])(rl,Fo,Uo,!1,null,"5bde9e7d",null)),nl=il.exports,ol=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"merchants-container"},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("Header"),a("div",{staticClass:"merchants-content px-4 pb-4 overflow-y-auto max-h-96"},[a("div",{staticClass:"card p-4 pt-8"},[a("div",{staticClass:"text-right w-full"},[a("button",{staticClass:"btn bg-successMsg text-white px-6 py-2 rounded-md text-sm mb-5",on:{click:function(e){return t.toggleMerchantModals(!0,"add")}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"plus"}}),t._v(" Add Merchant ")],1)]),a("table",{staticClass:"w-full tbl-merchant"},[t._m(0),a("tbody",t._l(t.merchantsArr,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"w-32 py-4 px-4 border-t"},[a("img",{staticClass:"rounded-50% w-full",attrs:{src:e.fImage||"/assets/img/no-image.svg",alt:e.name}})]),a("td",{staticClass:"p-4 border-t"},[a("div",[a("h4",{staticClass:"mb-0 text-md mb-3"},[t._v(t._s(e.name))]),a("p",{staticClass:"text-sm"},[t._v(" "+t._s(e.mobileNumber)),a("br"),t._v(" "+t._s(e.email)),a("br"),a("a",{staticClass:"cursor-pointer underline",attrs:{href:e.website,target:"_blank"}},[t._v("Visit website")])])])]),a("td",{staticClass:"p-4 border-t text-right"},[t._v(" "+t._s(t._f("moment")(e.createdAt,"DD/MM/YYYY"))+" ")])])})),0)])])]),a("Modal",{attrs:{title:"Add Merchant","modal-class":"modal-wrapper"},model:{value:t.isShowAddMerchants,callback:function(e){t.isShowAddMerchants=e},expression:"isShowAddMerchants"}},[a("AddMerchantsModal",{attrs:{closeModal:t.toggleMerchantModals,addMerchantSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1)],1)},ll=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-left p-4",attrs:{colspan:"2"}},[t._v("Details")]),a("th",{staticClass:"text-right p-4"},[t._v("Date registered")])])])}],cl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{"data-vv-scope":"frmAddMerchant"},on:{submit:function(e){return e.preventDefault(),t.formValidator("frmAddMerchant")}}},[a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addPromotionData.name,expression:"addPromotionData.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddMerchant.name")},attrs:{type:"text",placeholder:"Enter name",name:"name"},domProps:{value:t.addPromotionData.name},on:{input:function(e){e.target.composing||t.$set(t.addPromotionData,"name",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddMerchant.name")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addPromotionData.username,expression:"addPromotionData.username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddMerchant.username")},attrs:{type:"text",placeholder:"Enter username",name:"username"},domProps:{value:t.addPromotionData.username},on:{input:function(e){e.target.composing||t.$set(t.addPromotionData,"username",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddMerchant.username")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addPromotionData.email,expression:"addPromotionData.email"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddMerchant.email")},attrs:{type:"text",placeholder:"Enter email",name:"email"},domProps:{value:t.addPromotionData.email},on:{input:function(e){e.target.composing||t.$set(t.addPromotionData,"email",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddMerchant.email")))])]),a("div",{staticClass:"input-div mb-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addPromotionData.mobileNumber,expression:"addPromotionData.mobileNumber"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-base",class:{"border-dangerMsg":t.errors.first("frmAddMerchant.mobile_no")},attrs:{type:"text",placeholder:"Enter mobile",name:"mobile_no"},domProps:{value:t.addPromotionData.mobileNumber},on:{input:function(e){e.target.composing||t.$set(t.addPromotionData,"mobileNumber",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmAddMerchant.mobile_no")))])]),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn px-6 py-3 mx-1 bg-primaryBtn text-white rounded-md"},[t._v("Add")]),a("button",{staticClass:"btn px-6 py-3 mx-1 bg-closeBtn text-white rounded-md",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"add")}}},[t._v("Close")])])])])},dl=[],ul={props:{closeModal:Function,addMerchantSuccess:Function,toggleLoader:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},addPromotionData:{}}},created:function(){},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&e.addMerchant()}))},addMerchant:function(){var t=this;t.toggleLoader(!0),Nt.a.post("/api/merchants",t.addPromotionData,t.requestedHeaders).then((function(e){t.addMerchantSuccess(e.data,"add"),t.$swal("Success!","New merchant added!","success")}))}}},ml=ul,pl=Object(St["a"])(ml,cl,dl,!1,null,"2d2f9108",null),fl=pl.exports,gl={components:{Header:xe,Loader:Kt,AddMerchantsModal:fl},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},loader:{isShow:!1,message:"Preparing"},isShowAddMerchants:!1,merchantsArr:[]}},created:function(){this.getMerchants()},methods:{getMerchants:function(){var t=this,e=this;e.loader.isShow=!0,Nt.a.get("".concat("https://api.empatkali.co.id/admin","/api/merchants"),e.requestedHeaders).then((function(a){t.merchantsArr=a.data,e.loader.isShow=!1}))},toggleLoader:function(t){var e=this;e.loader.isShow=t},toggleMerchantModals:function(t,e){var a=this;a.isShowAddMerchants="add"==e&&t},refreshData:function(t,e){var a=this;a.isShowAddMerchants=!1,"add"==e&&a.merchantsArr.push(t),a.loader.isShow=!1}}},vl=gl,xl=vl,bl=Object(St["a"])(xl,ct,dt,!1,null,null,null),hl=bl.exports,_l=hl,Cl=_l,Dl=(a("ef3d"),Object(St["a"])(Cl,ol,ll,!1,null,"0c279b27",null)),wl=Dl.exports,yl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"messages-container"},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("Header"),a("div",{staticClass:"messages-content px-4 pb-4 flex"},[t._m(0),a("div",{staticClass:"flex-4 ml-2"},[a("div",{staticClass:"card p-5 h-full"},[a("div",{staticClass:"flex items-center w-full h-full no-data-content "},[a("div",{staticClass:"w-full text-center relative"},[a("img",{staticClass:"my-4 w-3/10",class:{"h-6/10":!1},attrs:{src:"../assets/img/Prototyping process.png",alt:""}}),t._m(1)])])])])])],1)},kl=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-1 mr-2"},[a("div",{staticClass:"card p-5 h-full"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-xl 2xl:text-2xl mt-5 2xl:mt-10 ff-medium"},[t._v("Designernya masih bertapa di Mars guys biar fiturnya maksimal."),a("br"),t._v("Ditunggu ya..")])}],Pl={components:{Header:xe,Loader:Kt},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},loader:{isShow:!1,message:"Preparing"}}},created:function(){},methods:{}},Sl=Pl,Ml=Sl,Al=Object(St["a"])(Ml,ut,mt,!1,null,null,null),Ll=Al.exports,El=Ll,Rl=El,Nl=(a("d650"),Object(St["a"])(Rl,yl,kl,!1,null,"70bb4c2b",null)),Il=Nl.exports,jl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tools-container"},[a("Header"),a("div",{staticClass:"tools-content p-4 flex"},[a("div",{staticClass:"w-1/4 "},[a("router-link",{staticClass:"card cursor-pointer rounded-2xl px-6 py-10 flex items-center justify-center mr-4",attrs:{tag:"div","exact-active-class":"none",to:{name:"UnbanOTP"}}},[a("img",{staticClass:"w-14 mr-4 flex-none",attrs:{src:"../assets/img/settings-box.png",alt:""}}),a("p",{staticClass:"flex-1 font-bold leading-normal"},[t._v("Unbanned"),a("br"),t._v("OTP User")])])],1)])],1)},$l=[],Ol={components:{Header:xe},data:function(){return{}},created:function(){},methods:{}},Fl=Ol,Ul=Fl,Tl=Object(St["a"])(Ul,pt,ft,!1,null,null,null),ql=Tl.exports,Yl=ql,Bl=Yl,Hl=(a("6f8f"),Object(St["a"])(Bl,jl,$l,!1,null,"08cf8786",null)),Wl=Hl.exports,Vl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"unban-container"},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("Header"),a("div",{staticClass:"unban-content p-4 flex"},[a("div",{staticClass:"card p-4"},[a("h3",{staticClass:"font-bold text-lg"},[t._v("Unbanned User OTP")]),a("div",{staticClass:"input-div my-6 w-72"},[a("label",{staticClass:"text-sm text-gray-600",attrs:{for:""}},[t._v("Phone Number")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],class:{"border-dangerMsg":""!=t.errMsg},attrs:{type:"number",min:"0"},domProps:{value:t.phoneNumber},on:{input:[function(e){e.target.composing||(t.phoneNumber=e.target.value)},function(e){return t.validatePhoneNumber(t.phoneNumber)}]}}),a("p",{staticClass:"text-dangerMsg my-2 text-sm"},[t._v(t._s(t.errMsg))])]),a("button",{staticClass:"btn px-6 py-3 mt-4 bg-primaryBtn text-white rounded-md text-sm",class:{"opacity-50":""!=t.errMsg},attrs:{disabled:""!=t.errMsg},on:{click:function(e){return t.unbanOtpUser(t.phoneNumber)}}},[t._v("Submit")])])])],1)},zl=[],Kl={components:{Header:xe,Loader:Kt},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},loader:{isShow:!1,message:"Loading"},phoneNumber:void 0,errMsg:""}},created:function(){},methods:{toggleLoader:function(t){var e=this;e.loader.isShow=t},validatePhoneNumber:function(t){var e=this;if(t.length>2){var a=[t[0],t[1]];if(0!=a[0]||8!=a[1])return e.errMsg="Phone number should start with the digits 08",!1}return t.length>13?(e.errMsg="Phone number should be 13 digits max.",!1):(e.errMsg="",!0)},unbanOtpUser:function(t){var e=this;if(""==t||!t)return e.errMsg="Please input phone number.",!1;var a={user:t};e.toggleLoader(!0),Nt.a.post("api/users/unbanfromotpfailed",a,e.requestedHeaders).then((function(t){console.log(t),200==t.status&&(e.phoneNumber=void 0,e.errMsg="",e.$swal("Success","","success")),e.toggleLoader(!1)})).catch((function(t){console.log(t),console.log(t.response.data),console.log(t.response.data.message),e.$swal("Error",t.response.data.message,"error"),e.toggleLoader(!1)}))}}},Zl=Kl,Jl=Zl,Xl=Object(St["a"])(Jl,gt,vt,!1,null,null,null),Ql=Xl.exports,Gl=Ql,tc=Gl,ec=(a("998c"),Object(St["a"])(tc,Vl,zl,!1,null,"741455c4",null)),ac=ec.exports,sc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"verification-details-container relative"},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("div",{staticClass:"verification-details-content p-4"},[a("div",{staticClass:"grid details-grid gap-3 h-full w-full"},[a("div",{staticClass:"row-span-2 card p-4"},[a("div",{staticClass:"flex mb-4"},[a("div",{staticClass:"flex-1 flex items-center"},[a("p",{staticClass:"sm-text font-bold mr-5"},[t._v("Informasi Personal")]),t.limitDetails.hasOwnProperty("sideDetails")?t._e():a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1),a("div",{staticClass:"flex-1 text-right"},[a("button",{staticClass:"btn rounded-sm font-bold py-1 px-4 text-violet xs-text",on:{click:function(e){return t.toggleModals(!0,"editInfo")}}},[t._v("Edit")])])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(0),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.sideDetails?t.limitDetails.sideDetails.name:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(1),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.sideDetails?t.limitDetails.sideDetails.idNumber:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(2),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.sideDetails?t.limitDetails.sideDetails.birthPlaceBirthday:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(3),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.sideDetails?t.limitDetails.sideDetails.gender:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(4),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.sideDetails?t.limitDetails.sideDetails.bloodType:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(5),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.sideDetails?t.limitDetails.sideDetails.address:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(6),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.sideDetails?t.limitDetails.sideDetails.rtrw:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(7),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.sideDetails?t.limitDetails.sideDetails.village:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(8),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.sideDetails?t.limitDetails.sideDetails.district:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(9),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.sideDetails?t.limitDetails.sideDetails.religion:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(10),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.sideDetails?t.limitDetails.sideDetails.maritalStatus:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(11),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.sideDetails?t.limitDetails.sideDetails.nationality:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(12),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.otherDetails?t.limitDetails.otherDetails.mobileNumber:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(13),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.otherDetails?t.limitDetails.otherDetails.detail.email:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(14),a("p",{staticClass:"flex-5"},[t._v(" "+t._s(t.limitDetails.otherDetails?t.limitDetails.otherDetails.npwp:"---")+" ")])]),a("div",{staticClass:"flex xs-text mb-2.5"},[t._m(15),a("p",{staticClass:"flex-5"},[t._v(" "+t._s("---")+" ")])])]),a("div",{staticClass:"card p-4"},[a("div",{staticClass:"flex mb-3"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"sm-text font-bold mb-3 flex items-center"},[a("span",{staticClass:"mr-3"},[t._v("Total Transaksi")]),t.limitDetails.hasOwnProperty("transactionDetails")?t._e():a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1),a("p",{staticClass:"xl-text font-bold"},[t._v(t._s(t.limitDetails.transactionDetails?t.limitDetails.transactionDetails.total:"---"))])]),a("div",{staticClass:"flex-1 text-right"},[a("a",{staticClass:"text-violet xxs-text font-bold",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleModals(!0,"transactions")}}},[t._v("Lihat Detail")])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"sm-text font-bold mb-1"},[t._v("Completed")]),a("p",{staticClass:"xxs-text text-gray-700 mb-3"},[t._v("Finshed 4th payment")]),a("p",{staticClass:"lg-text"},[t._v(t._s(t.limitDetails.transactionDetails?t.limitDetails.transactionDetails.completed:"---"))])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"sm-text font-bold mb-1"},[t._v("Ongoing")]),a("p",{staticClass:"xxs-text text-gray-700 mb-3"},[t._v("Unpaid on track")]),a("p",{staticClass:"lg-text"},[t._v(t._s(t.limitDetails.transactionDetails?t.limitDetails.transactionDetails.ongoing:"---"))])])]),a("div",{staticClass:"flex"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"sm-text font-bold mb-1"},[t._v("Late Payment")]),a("p",{staticClass:"xxs-text text-gray-700 mb-3"},[t._v("Late but paid")]),a("p",{staticClass:"lg-text"},[t._v(t._s(t.limitDetails.transactionDetails?t.limitDetails.transactionDetails.latePayment:"---"))])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"sm-text font-bold mb-1"},[t._v("Overdue")]),a("p",{staticClass:"xxs-text text-gray-700 mb-3"},[t._v("Late but not paid")]),a("p",{staticClass:"lg-text"},[t._v(t._s(t.limitDetails.transactionDetails?t.limitDetails.transactionDetails.overdue:"---"))])])])]),a("div",{staticClass:"card p-4"},[a("p",{staticClass:"sm-text font-bold mb-4"},[t._v("Limit")]),a("div",{staticClass:"flex mb-4"},[a("div",{staticClass:"flex-2"},[a("label",{staticClass:"xs-text font-bold mb-5 block"},[t._v("Pengajuan Limit baru")]),a("p",{staticClass:"xl-text text-violet font-bold"},[t._v(t._s(t._f("currency")(t.limitDetails.creditNew)))])]),a("div",{staticClass:"flex-1"},[a("label",{staticClass:"xs-text font-bold mb-3 block"},[t._v("Waktu Request")]),a("div",{staticClass:"flex items-center mb-2"},[a("div",{staticClass:"w-5 mr-2"},[a("img",{staticClass:"w-full block",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 sm-text"},[t._v(" "+t._s(t._f("moment")(t.limitDetails.createdAt,"DD MMM YYYY"))+" ")])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-5 mr-2"},[a("img",{staticClass:"w-full block",attrs:{src:"../assets/img/clock-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 sm-text"},[t._v(" "+t._s(t._f("moment")(t.limitDetails.createdAt,"HH:MM:SS"))+" WIB ")])])])]),a("p",{staticClass:"xs-text font-bold mb-4"},[t._v("Riwayat Limit")]),a("div",{staticClass:"flex xs-text mb-2"},[a("label",{staticClass:"text-gray-500 w-32"},[t._v("Limit Sekarang")]),a("p",{staticClass:"flex-1"},[a("span",{staticClass:"mr-2"},[t._v(":")]),t._v(" "+t._s(t._f("currency")(t.limitDetails.user?t.limitDetails.user.credit:"---"))+" ")])]),a("div",{staticClass:"flex xs-text mb-2"},[a("label",{staticClass:"text-gray-500 w-32"},[t._v("Outstanding")]),a("p",{staticClass:"flex-1"},[a("span",{staticClass:"mr-2"},[t._v(":")]),t._v(" "+t._s(t._f("currency")(t.limitDetails.user?t.limitDetails.user.credit-t.limitDetails.user.remainingCredit:"---"))+" ")])]),a("div",{staticClass:"flex xs-text mb-2"},[a("label",{staticClass:"text-gray-500 w-32"},[t._v("Sisa Limit")]),a("p",{staticClass:"flex-1"},[a("span",{staticClass:"mr-2"},[t._v(":")]),t._v(" "+t._s(t._f("currency")(t.limitDetails.user?t.limitDetails.user.remainingCredit:"---"))+" ")])])]),a("div",{staticClass:"card p-4 flex flex-col"},[a("p",{staticClass:"sm-text font-bold mb-4 flex items-center"},[a("span",{staticClass:"mr-3"},[t._v("Data Dokumen")]),t.limitDetails.hasOwnProperty("imageDocs")?t._e():a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1),a("div",{staticClass:"flex mb-3 items-center"},[a("label",{staticClass:"flex-none font-bold xs-text mr-3",attrs:{for:""}},[t._v("Validasi KTP")]),a("div",{},[a("div",{staticClass:"rounded-2xl bg-successBtn px-4 py-2 xxs-text text-white",class:{"bg-successBtn":t.limitDetails.imageDocs&&null!=t.limitDetails.imageDocs.ktp.image,"bg-dangerBtn":t.limitDetails.imageDocs&&null==t.limitDetails.imageDocs.ktp.image}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:["fas",t.limitDetails.imageDocs&&null!=t.limitDetails.imageDocs.ktp.image?"check":"times"]}}),t._v(" "+t._s(t.limitDetails.imageDocs&&null!=t.limitDetails.imageDocs.ktp.image?"Found - Match":"No Record")+" ")],1)])]),a("div",{staticClass:"flex flex-1"},[a("div",{staticClass:"flex-1 flex flex-col mr-1"},[a("p",{staticClass:"sm-text font-bold mb-3"},[t._v("Foto KTP")]),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{},expression:"{}"}],staticClass:"img-container w-full h-full rounded-lg border relative overflow-hidden"},[a("img",{staticClass:"rounded-lg absolute",attrs:{src:t.limitDetails.imageDocs&&t.limitDetails.imageDocs.ktp.image||"/assets/img/no-image.png",alt:""}})])]),a("div",{staticClass:"flex-1 flex flex-col mx-2"},[a("p",{staticClass:"sm-text font-bold mb-3"},[t._v("Selfie KTP")]),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{},expression:"{}"}],staticClass:"img-container w-full h-full rounded-lg border relative overflow-hidden"},[a("img",{staticClass:"rounded-lg absolute",attrs:{src:t.limitDetails.otherDetails&&t.limitDetails.otherDetails.selfie||"/assets/img/no-image.png",alt:""}})])]),a("div",{staticClass:"flex-1 flex flex-col mx-2"},[a("p",{staticClass:"sm-text font-bold mb-3"},[t._v("Foto NPWP")]),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{},expression:"{}"}],staticClass:"img-container w-full h-full rounded-lg border relative overflow-hidden"},[a("img",{staticClass:"rounded-lg absolute",attrs:{src:t.limitDetails.imageDocs&&t.limitDetails.imageDocs.npwpImage||"/assets/img/no-image.png",alt:""}})])]),a("div",{staticClass:"flex-1 flex flex-col ml-1"},[a("p",{staticClass:"sm-text font-bold mb-3"},[t._v("Slip Gaji")]),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{},expression:"{}"}],staticClass:"img-container w-full h-full rounded-lg border relative overflow-hidden"},[a("img",{staticClass:"rounded-lg absolute",attrs:{src:t.limitDetails.imageDocs&&t.limitDetails.imageDocs.slip.image||"/assets/img/no-image.png",alt:""}})])])])]),a("div",{staticClass:"row-span-2 card p-4"},[a("p",{staticClass:"sm-text font-bold mb-4 flex items-center"},[a("span",{staticClass:"mr-3"},[t._v("AFPI")]),t.responseAFPI.hasOwnProperty("income")?t._e():a("InsideSpinner",{attrs:{options:{width:"15px",height:"15px"}}})],1),a("div",{staticClass:"flex border-b-2 mb-2 pb-2"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Income")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t._f("currency")(t.responseAFPI.income?t.responseAFPI.income:0)))])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Limit")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t._f("currency")(t.limitDetails.user?t.limitDetails.user.remainingCredit:"---")))])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Total number of loan")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t.responseAFPI.numloan?t.responseAFPI.numloan:0))])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Total amount of loan")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t._f("currency")(t.responseAFPI.totloan?t.responseAFPI.totloan:0)))])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Total paid")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t._f("currency")(t.responseAFPI.totpaid?t.responseAFPI.totpaid:0)))])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Total outstanding")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t._f("currency")(t.responseAFPI.totout?t.responseAFPI.totout:0)))])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Total default")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t._f("currency")(t.responseAFPI.totdefault?t.responseAFPI.totdefault:0)))])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Current Capacity")]),a("p",{staticClass:"xs-text"},[t._v(t._s((t.responseAFPI.totout?t.responseAFPI.totout/t.responseAFPI.income*100:0).toFixed(2)+"%"))])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Default Rate")]),a("p",{staticClass:"xs-text"},[t._v(t._s(t.responseAFPI.defrate?parseFloat(t.responseAFPI.defrate).toFixed(2):"0%"))])]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Total default (6 Months)")]),a("p",{staticClass:"xs-text"},[t._v(t._s("---"))])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1"},[a("p",{staticClass:"text-gray-600 xs-text mb-1"},[t._v("Max DPD")]),a("p",{staticClass:"xs-text"},[t._v(t._s("---"))])]),a("div",{staticClass:"flex-1"},[a("img",{staticClass:"h-2/5 mt-2",attrs:{src:"../assets/img/afpi.png",alt:""}})])])]),a("div",{staticClass:"card p-4 max-h-93px 2xl:max-h-none flex flex-col"},[a("p",{staticClass:"sm-text font-bold mb-2"},[t._v("Komentar")]),a("button",{staticClass:"btn xs-text text-violet border border-violet rounded-md w-full font-bold px-8 flex-1 shadow",on:{click:function(e){return t.toggleModals(!0,"comment")}}},[t._v("Lihat & Komentar disini")])]),a("div",{staticClass:"flex max-h-93px 2xl:max-h-none"},[a("div",{staticClass:"card flex-2 mr-1.5 p-4  flex flex-col"},[a("p",{staticClass:"sm-text font-bold mb-2"},[t._v("Email")]),a("button",{staticClass:"btn xs-text text-violet border border-violet rounded-md w-full font-bold px-8 flex-1 shadow",on:{click:function(e){return t.toggleModals(!0,"email")}}},[t._v("Detail")])]),a("div",{staticClass:"card flex-4 ml-1.5 relative"},[a("p",{staticClass:"sm-text font-bold mb-2 absolute top-4 left-4 z-10"},[t._v("Lokasi")]),a("GmapMap",{staticStyle:{height:"100%","border-radius":"12px",overflow:"hidden"},attrs:{center:{lat:parseFloat(t.limitDetails.otherDetails&&t.limitDetails.otherDetails.registrationLoc?t.limitDetails.otherDetails.registrationLoc.coordinates[1]:0),lng:parseFloat(t.limitDetails.otherDetails&&t.limitDetails.otherDetails.registrationLoc?t.limitDetails.otherDetails.registrationLoc.coordinates[0]:0)},zoom:10}},[a("GmapMarker",{attrs:{position:{lat:parseFloat(t.limitDetails.otherDetails&&t.limitDetails.otherDetails.registrationLoc?t.limitDetails.otherDetails.registrationLoc.coordinates[1]:0),lng:parseFloat(t.limitDetails.otherDetails&&t.limitDetails.otherDetails.registrationLoc?t.limitDetails.otherDetails.registrationLoc.coordinates[0]:0)}}})],1)],1)])])]),a("div",{staticClass:"btn-options-wrapper flex items-center px-4 h-14 bg-white shadow-lg-reverse absolute w-full bottom-0 left-0"},[a("div",{staticClass:"flex-none mr-10"},[a("a",{staticClass:"text-violet xs-text font-bold flex items-center",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$router.go(-1)}}},[a("img",{staticClass:"w-5 mr-2",attrs:{src:"../assets/img/blue-arrow-left.png",alt:""}}),t._v(" Kembali ke list ")])]),0==t.limitDetails.status?a("div",{staticClass:"flex-1 text-right"},[a("button",{staticClass:"btn ml-4 px-5 py-2 w-28 2xl:w-36 xs-text text-white rounded-md font-bold bg-dangerBtn",on:{click:function(e){return t.toggleModals(!0,"process","reject")}}},[t._v(" Reject ")])]):t._e(),0!=t.limitDetails.status?a("div",{staticClass:"flex-1 flex items-center"},[a("div",{staticClass:"flex-1 flex truncate"},[t._m(16),a("div",{staticClass:"flex-auto mr-2 truncate sm-text"},[t._v(" "+t._s(t.limitDetails.reason?t.limitDetails.reason:"---")+" ")])]),a("div",{staticClass:"flex-none flex justify-end items-center ml-3"},[a("label",{staticClass:"mr-3 mb-0 sm-text"},[a("b",[t._v(" Di "+t._s(4==t.limitDetails.status?"Reject":"Approve")+" oleh : ")])]),a("div",{staticClass:"mr-2 sm-text"},[t._v(" "+t._s(t.limitDetails.admin?t.limitDetails.admin:"---")+" ")])]),a("div",{staticClass:"flex-none flex justify-end items-center border-l pl-3 ml-3 "},[a("label",{staticClass:"mr-3 font-bold sm-text",attrs:{for:""}},[t._v(" Waktu di "+t._s(4==t.limitDetails.status?"Reject":"Approve")+" : ")]),a("div",{staticClass:"flex mr-2 items-center"},[a("div",{staticClass:"img-icon w-5 mr-3"},[a("img",{staticClass:"w-full block align-middle",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 sm-text"},[t._v(" "+t._s(t._f("moment")(t.limitDetails.updatedAt,"DD MMM YYYY"))+" ")])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"img-icon w-5 mr-3"},[a("img",{staticClass:"w-full block align-middle",attrs:{src:"../assets/img/clock-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 sm-text"},[t._v(" "+t._s(t._f("moment")(t.limitDetails.updatedAt,"HH:mm:SS"))+" WIB ")])])])]):t._e()]),a("Modal",{attrs:{title:"Edit Personal Information","modal-class":"modal-wrapper w-5/10 max-w-none"},model:{value:t.isEditInfoModalShow,callback:function(e){t.isEditInfoModalShow=e},expression:"isEditInfoModalShow"}},[a("EditInformationModal",{attrs:{user:t.limitDetails,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Komentar","modal-class":"modal-wrapper"},model:{value:t.isCommentModalShow,callback:function(e){t.isCommentModalShow=e},expression:"isCommentModalShow"}},[a("CommentsModal",{attrs:{user:t.limitDetails,admin:t.adminData,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"Email","modal-class":"modal-wrapper"},model:{value:t.isEmailModalShow,callback:function(e){t.isEmailModalShow=e},expression:"isEmailModalShow"}},[a("EmailModal",{attrs:{closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:"List Transaksi","modal-class":"modal-wrapper max-w-none w-9/10"},model:{value:t.isTransModalShow,callback:function(e){t.isTransModalShow=e},expression:"isTransModalShow"}},[a("TransactionsModal",{attrs:{user:t.limitDetails.user,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1),a("Modal",{attrs:{title:t.confirmTitle,"modal-class":"modal-wrapper"},model:{value:t.isProcessModalShow,callback:function(e){t.isProcessModalShow=e},expression:"isProcessModalShow"}},[a("RequestConfirmModal",{attrs:{limitDetails:t.limitDetails,closeModal:t.toggleModals,requestSuccess:t.refreshData,toggleLoader:t.toggleLoader}})],1)],1)},rc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Nama "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("NIK "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Tempat/ Tgl Lahir "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Jenis Kelamin "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Golongan Darah "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Alamat "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("RT/RW "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Kelurahan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Kecamatan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Agama "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Status Pernikahan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Kewarganegaraan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Nomor HP "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Email "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Nomor NPWP "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 flex-3 relative"},[t._v("Penghasilan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-none mr-3 mb-0 sm-text"},[a("b",[t._v(" Alasan : ")])])}],ic=(a("7db0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{"data-vv-scope":"frmEditInfo"},on:{submit:function(e){return e.preventDefault(),t.formValidator("frmEditInfo")}}},[a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1 mr-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Nama")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.name,expression:"editInfoData.name"}],staticClass:"text-xs",attrs:{type:"text",name:"Nama"},domProps:{value:t.editInfoData.name},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"name",e.target.value)}}})])]),a("div",{staticClass:"flex-1 mx-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("NIK")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.idNumber,expression:"editInfoData.idNumber"}],staticClass:"text-xs",attrs:{type:"text",name:"NIK"},domProps:{value:t.editInfoData.idNumber},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"idNumber",e.target.value)}}})])]),a("div",{staticClass:"flex-1 ml-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Tempat")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.birthPlace,expression:"editInfoData.birthPlace"}],staticClass:"text-xs",attrs:{type:"text",name:"Tempat"},domProps:{value:t.editInfoData.birthPlace},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"birthPlace",e.target.value)}}})])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1 mr-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Tgl Lahir")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.dob,expression:"editInfoData.dob"}],staticClass:"text-xs",attrs:{type:"date",name:"tgl Lahir"},domProps:{value:t.editInfoData.dob},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"dob",e.target.value)}}})])]),a("div",{staticClass:"flex-1 mx-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Jenis Kelamin")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.gender,expression:"editInfoData.gender"}],staticClass:"text-xs",attrs:{name:"Jenis Kelamin"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.editInfoData,"gender",e.target.multiple?a:a[0])}}},[a("option",[t._v("LAKI-LAKI")]),a("option",[t._v("PEREMPUAN")])]),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditInfo.Jenis Kelamin")))])])]),a("div",{staticClass:"flex-1 ml-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Pekerjaan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.occupation,expression:"editInfoData.occupation"}],staticClass:"text-xs",attrs:{type:"text",name:"Pekerjaan"},domProps:{value:t.editInfoData.occupation},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"occupation",e.target.value)}}})])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1 mr-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Golongan Darah")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.bloodType,expression:"editInfoData.bloodType"}],staticClass:"text-xs",attrs:{type:"text",name:"Golongan Darah"},domProps:{value:t.editInfoData.bloodType},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"bloodType",e.target.value)}}})])]),a("div",{staticClass:"flex-1 mx-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Alamat")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.address,expression:"editInfoData.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-xs",class:{"border-dangerMsg":t.errors.first("frmEditInfo.Alamat")},attrs:{type:"text",name:"Alamat"},domProps:{value:t.editInfoData.address},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"address",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditInfo.Alamat")))])])]),a("div",{staticClass:"flex-1 ml-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("RT/RW")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.rtrw,expression:"editInfoData.rtrw"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-xs",class:{"border-dangerMsg":t.errors.first("frmEditInfo.RT/RW")},attrs:{type:"text",name:"RT/RW"},domProps:{value:t.editInfoData.rtrw},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"rtrw",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditInfo.RT/RW")))])])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1 mr-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Kota")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.city,expression:"editInfoData.city"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-xs",class:{"border-dangerMsg":t.errors.first("frmEditInfo.Kota")},attrs:{type:"text",name:"Kota"},domProps:{value:t.editInfoData.city},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"city",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditInfo.Kota")))])])]),a("div",{staticClass:"flex-1 mx-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Propinsi")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.province,expression:"editInfoData.province"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-xs",class:{"border-dangerMsg":t.errors.first("frmEditInfo.Propinsi")},attrs:{type:"text",name:"Propinsi"},domProps:{value:t.editInfoData.province},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"province",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditInfo.Propinsi")))])])]),a("div",{staticClass:"flex-1 ml-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Kelurahan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.village,expression:"editInfoData.village"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-xs",class:{"border-dangerMsg":t.errors.first("frmEditInfo.Kelurahan")},attrs:{type:"text",name:"Kelurahan"},domProps:{value:t.editInfoData.village},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"village",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditInfo.Kelurahan")))])])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1 mr-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Kecamatan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.district,expression:"editInfoData.district"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"text-xs",class:{"border-dangerMsg":t.errors.first("frmEditInfo.Kecamatan")},attrs:{type:"text",name:"Kecamatan"},domProps:{value:t.editInfoData.district},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"district",e.target.value)}}}),a("small",{staticClass:"text-dangerMsg mt-2 block"},[t._v(t._s(t.errors.first("frmEditInfo.Kecamatan")))])])]),a("div",{staticClass:"flex-1 mx-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Agama")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.religion,expression:"editInfoData.religion"}],staticClass:"text-xs",attrs:{type:"text",name:"Agama"},domProps:{value:t.editInfoData.religion},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"religion",e.target.value)}}})])]),a("div",{staticClass:"flex-1 ml-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Status Pernikahan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.maritalStatus,expression:"editInfoData.maritalStatus"}],staticClass:"text-xs",attrs:{type:"text",name:"Status Pernikahan"},domProps:{value:t.editInfoData.maritalStatus},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"maritalStatus",e.target.value)}}})])])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"flex-1 mr-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Kewarganegaraan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.nationality,expression:"editInfoData.nationality"}],staticClass:"text-xs",attrs:{type:"text",name:"Kewarganegaraan"},domProps:{value:t.editInfoData.nationality},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"nationality",e.target.value)}}})])]),a("div",{staticClass:"flex-1 mx-2"},[a("div",{staticClass:"input-div"},[a("label",{staticClass:"text-xs block mb-1",attrs:{for:""}},[t._v("Tanggal Kadaluarsa")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfoData.expiryDate,expression:"editInfoData.expiryDate"}],staticClass:"text-xs",attrs:{type:"date",name:"Tanggal Kadaluarsa"},domProps:{value:t.editInfoData.expiryDate},on:{input:function(e){e.target.composing||t.$set(t.editInfoData,"expiryDate",e.target.value)}}})])]),a("div",{staticClass:"flex-1 ml-2"})]),a("div",{staticClass:"text-right mt-5"},[a("button",{staticClass:"btn px-4 py-2 mx-1 bg-closeBtn text-white rounded-md text-sm",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"editInfo")}}},[t._v("Close")]),a("button",{staticClass:"btn px-4 py-2 mx-1 bg-primaryBtn text-white rounded-md text-sm"},[t._v("Update")])])])])}),nc=[],oc={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},editInfoData:{}}},created:function(){var t=this;console.log(t.user.sideDetails),t.setEditInfo()},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&(console.log(t),e.updatePersonalInfo())}))},setEditInfo:function(){var t=this;t.editInfoData={address:t.user.sideDetails.address,birthPlaceBirthday:t.user.sideDetails.birthPlaceBirthday,bloodType:t.user.sideDetails.bloodType,city:t.user.sideDetails.city,district:t.user.sideDetails.district,expiryDate:t.user.sideDetails.expiryDate,gender:t.user.sideDetails.gender,idNumber:t.user.sideDetails.idNumber,maritalStatus:t.user.sideDetails.maritalStatus,name:t.user.sideDetails.name,nationality:t.user.sideDetails.nationality,occupation:t.user.sideDetails.occupation,province:t.user.sideDetails.province,religion:t.user.sideDetails.religion,rtrw:t.user.sideDetails.rtrw,village:t.user.sideDetails.village,birthPlace:t.user.sideDetails.birthPlaceBirthday.split(",")[0],dob:t.$moment(t.user.sideDetails.birthPlaceBirthday.split(",")[1].replace(" ",""),"MM-DD-YYYY").format("YYYY-MM-DD")},console.log(t.editInfoData)},updatePersonalInfo:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,console.log(a.editInfoData),s={id:a.user.user._id,occupation:a.editInfoData.occupation,address:a.editInfoData.address,gender:a.editInfoData.gender,city:a.editInfoData.city,ktp:a.editInfoData.idNumber,bloodType:a.editInfoData.bloodType,birthPlaceBirthday:a.editInfoData.birthPlace+", "+t.$moment(a.editInfoData.dob).format("DD-MM-YYYY"),religion:a.editInfoData.religion,expiryDate:t.$moment(a.editInfoData.expiryDate).format("DD-MM-YYYY"),rtrw:a.editInfoData.rtrw,province:a.editInfoData.province,nationality:a.editInfoData.nationality,district:a.editInfoData.district,name:a.editInfoData.name,village:a.editInfoData.village,maritalStatus:a.editInfoData.maritalStatus},a.toggleLoader(!0),e.next=6,Nt.a.put("api/users/updateocr",s,a.requestedHeaders).then(function(){var t=Object(_e["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e),e.data.status?(a.requestSuccess(),a.$swal("Success!",e.data.message,"success")):a.$swal("Error!",e.data.message,"error"),a.toggleLoader(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log(t),console.log(t.response),a.$swal("Error!",t.response.data.message,"error"),a.toggleLoader(!1)}));case 6:case"end":return e.stop()}}),e)})))()}}},lc=oc,cc=(a("3c9d"),Object(St["a"])(lc,ic,nc,!1,null,"53cce7f0",null)),dc=cc.exports,uc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.commentArr.length?a("div",{staticClass:"text-center mb-5"},[a("img",{staticClass:"w-28",attrs:{src:"../../assets/img/message-icon.png",alt:""}}),t._m(0)]):t._e(),t.commentArr.length>0?a("div",{staticClass:"mb-5"},t._l(t.commentArr,(function(e){return a("div",{key:e.index,staticClass:"flex flex-col p-4 mb-4 bg-gray-100 rounded-lg"},[a("div",{staticClass:"flex items-center",class:{"flex-row-reverse":e.commentBy==t.admin.displayName}},[a("div",{staticClass:"w-8 h-8"},[a("img",{staticClass:"w-full h-full rounded-full border",attrs:{src:e.profile||"../../assets/img/users.png",alt:""}})]),a("p",{staticClass:"flex-1 text-base mx-3",class:{"text-right":e.commentBy==t.admin.displayName}},[t._v(" "+t._s(e.commentBy)+" ")]),a("span",{staticClass:"text-sm text-gray-500",class:{"text-right":e.commentBy!=t.admin.displayName}},[t._v(" "+t._s(t._f("moment")(e.createdAt,"from","now"))+" ")])]),a("div",{staticClass:"flex"},[e.commentBy!=t.admin.displayName?a("div",{staticClass:"w-8 mr-3"}):t._e(),a("p",{staticClass:"flex-1 text-sm mt-2"},[t._v(" "+t._s(e.text)+" ")])])])})),0):t._e(),a("div",{staticClass:"input-div"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentVal,expression:"commentVal"}],staticClass:"comment-textarea",staticStyle:{resize:"none"},attrs:{cols:"30",rows:"4",placeholder:"Tulis disini"},domProps:{value:t.commentVal},on:{input:function(e){e.target.composing||(t.commentVal=e.target.value)}}})]),a("div",{staticClass:"text-right mt-5"},[a("button",{staticClass:"btn px-4 py-2 mx-1 text-violet font-bold rounded-md text-sm",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"comment")}}},[t._v("Kembali")]),a("button",{staticClass:"btn px-6 py-3 mx-1 bg-primaryBtn text-white rounded-md text-sm",on:{click:function(e){return t.submitComment()}}},[t._v("Kirim Komentar")])])])},mc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-center text-lg my-4"},[t._v("Belum ada yang"),a("br"),t._v("komentar sebelumnya")])}],pc={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object,admin:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},commentVal:"",commentArr:[]}},created:function(){var t=this;t.getCommentList()},methods:{getCommentList:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,a.toggleLoader(!0,"Loading data"),Nt.a.get("api/users/commentupdatecredit/".concat(a.user._id),a.requestedHeaders).then((function(t){a.commentArr=t.data.data,a.toggleLoader(!1)})).catch((function(t){console.log(t),a.$swal("Error!",t.message,"error"),a.toggleLoader(!1)}));case 3:case"end":return e.stop()}}),e)})))()},submitComment:function(){var t=this;if(""==t.commentVal)return t.$swal("Error!","Comment is required.","error"),!1;var e={comment:t.commentVal};t.toggleLoader(!0),Nt.a.post("api/users/commentupdatecredit/".concat(t.user._id),e,t.requestedHeaders).then((function(){t.commentVal="",t.getCommentList(),t.toggleLoader(!1)})).catch((function(e){console.log(e),t.$swal("Error!",e.message,"error"),t.toggleLoader(!1)}))}}},fc=pc,gc=(a("00fe"),Object(St["a"])(fc,uc,mc,!1,null,"536b59dc",null)),vc=gc.exports,xc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"w-full text-left"},[t._m(0),a("tbody",t._l(1,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"py-2 pr-2 text-sm border-b-2"},[t._v(t._s("Lorem Ipsum dolor sit amet lorem")+" ")]),a("td",{staticClass:"py-2 pr-2 text-sm border-b-2"},[t._v(t._s("Delivered"))]),a("td",{staticClass:"py-2 pr-2 text-sm border-b-2"},[a("div",{staticClass:"text-sm mb-1"},[a("span",[t._v(t._s(t._f("moment")(new Date,"DD MMM YYYY")))])]),a("div",{staticClass:"text-xs text-gray-500"},[a("span",[t._v(t._s(t._f("moment")(new Date,"HH:mm:ss"))+" WIB")])])])])})),0)])])},bc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Subject")]),a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Status")]),a("th",{staticClass:"font-bold py-2 pr-2 text-sm border-b-2"},[t._v("Tanggal")])])])}],hc={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}}}},created:function(){},methods:{formValidator:function(t){var e=this;e.$validator.validateAll(t).then((function(t){t&&console.log(t)}))}}},_c=hc,Cc=Object(St["a"])(_c,xc,bc,!1,null,"9a0da122",null),Dc=Cc.exports,wc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"w-full"},[t._m(0),t._l(t.transactionsArr,(function(e){return a("tbody",{key:e.index},[a("tr",{staticClass:"cursor-pointer",on:{click:function(a){return t.toggleTransDrop(e)}}},[a("td",{staticClass:"border-b text-xs text-left py-3 pr-3"},[t._v(t._s(e.transactionNumber?e.transactionNumber:"---"))]),a("td",{staticClass:"border-b text-xs text-left py-3 pr-3"},[t._v(t._s(e.store?e.store.name:"---"))]),a("td",{staticClass:"border-b text-xs text-left py-3 pr-3"},[t._v("Cicilan ke- "+t._s(1==e.status?"2nd":2==e.status?"3rd":3==e.status||4==e.status?"4th":"1st"))]),a("td",{staticClass:"border-b text-xs text-left py-3 pr-3"},[t._v(t._s(t._f("currency")(e.total)))]),a("td",{staticClass:"border-b text-right"},[e.showDrop?t._e():a("svg",{staticClass:"text-gray-500 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})]),e.showDrop?a("svg",{staticClass:"text-gray-500 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"}})]):t._e()])]),e.showDrop?a("tr",t._l(e.termins,(function(s,r){return a("td",{key:s.index,staticClass:"p-3 border-r-2 border-white align-top",class:{"trans--success":!t.mapTransactionTerms(s).btnGenerateVA,"trans--warning":t.mapTransactionTerms(s).btnGenerateVA,"trans--danger":1==s.number&&!t.mapTransactionTerms(s).paymentStatus},attrs:{colspan:3==r?2:1}},[a("p",{staticClass:"font-bold text-xs text-gray-500 mb-2"},[t._v(" "+t._s(0==r?"1st":1==r?"2nd":2==r?"3rd":3==r?"4th":"N/A")+" ")]),a("div",{staticClass:"rounded-2xl py-2 px-8 mb-3 text-white font-bold inline-block text-xs",class:{"bdg-status--success":!t.mapTransactionTerms(s).btnGenerateVA,"bdg-status--warning":t.mapTransactionTerms(s).btnGenerateVA,"bdg-status--danger":1==s.number&&!t.mapTransactionTerms(s).paymentStatus}},[t._v(t._s(t.mapTransactionTerms(s).msg))]),a("div",{staticClass:"flex items-center mb-2"},[a("div",{staticClass:"w-4 mr-3"},[a("img",{staticClass:"w-full block",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("div",{staticClass:"flex-1 text-xs"},[t._v(" "+t._s(t._f("moment")(t.mapTransactionTerms(s).paid_date,"DD MMM YYYY"))+" ")])]),a("div",{staticClass:"flex items-center mb-2"},[a("div",{staticClass:"w-4 mr-3"},[a("img",{staticClass:"w-full block",attrs:{src:"../assets/img/money.png",alt:""}})]),a("div",{staticClass:"flex-1 text-xs font-bold"},[t._v(" "+t._s(t._f("currency")(t.mapTransactionTerms(s).total))+" ")])]),1!==s.number?a("div",[a("div",{staticClass:"flex mb-2"},[t._m(1,!0),a("p",{staticClass:"text-xs flex-1"},[t._v(" "+t._s(t._f("moment")(s.due.date,"DD MMM YYYY"))+" ")])]),a("div",{staticClass:"flex mb-2"},[t._m(2,!0),a("p",{staticClass:"text-xs flex-1"},[t._v(" "+t._s(s.paid.payment_id?s.paid.payment_id:"---")+" ")])]),a("div",{staticClass:"flex mb-2"},[t._m(3,!0),a("p",{staticClass:"text-xs flex-1"},[t._v(" "+t._s(t._f("moment")(t.mapTransactionTerms(s).paid_date,"DD MMM YYYY"))+" ")])]),a("div",{staticClass:"flex mb-2"},[t._m(4,!0),a("p",{staticClass:"text-xs flex-1"},[t._v(" "+t._s(t._f("currency")(s.reimbursement))+" ")])]),t.mapTransactionTerms(s).btnCheckPayment?a("button",{staticClass:"btn rounded-md px-8 py-2 bg-white border border-violet w-44 text-xs text-violet font-bold mt-2 mb-3",on:{click:function(a){return a.preventDefault(),t.checkPayment(e,s)}}},[t._v("Check Payment")]):t._e(),t.mapTransactionTerms(s).btnGenerateVA?a("div",[a("div",{staticClass:"input-div mb-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.generateVAforUnpaidInstallmentBankInput[s._id],expression:"generateVAforUnpaidInstallmentBankInput[terms._id]"}],staticClass:"va-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.generateVAforUnpaidInstallmentBankInput,s._id,e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Select a bank")]),a("option",{attrs:{value:"BNI"}},[t._v("BNI")]),a("option",{attrs:{value:"MANDIRI"}},[t._v("Mandiri")]),a("option",{attrs:{value:"PERMATA"}},[t._v("Permata")]),a("option",{attrs:{value:"BRI"}},[t._v("BRI")])])]),a("button",{staticClass:"btn bg-violet rounded-md text-sm font-bold text-white mt-1 w-44 px-8 py-2",on:{click:function(e){return e.preventDefault(),t.generateVAforUnpaidInstallment(t.data,s)}}},[t._v("Generate VA")])]):t._e()]):t._e()])})),0):t._e()])}))],2)])},yc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"border-b font-bold text-xs text-left pb-3 pr-3"},[t._v("Nomor Transaksi")]),a("th",{staticClass:"border-b font-bold text-xs text-left pb-3 pr-3"},[t._v("Merchant")]),a("th",{staticClass:"border-b font-bold text-xs text-left pb-3 pr-3"},[t._v("Status Pembayaran")]),a("th",{staticClass:"border-b font-bold text-xs text-left pb-3 pr-3"},[t._v("Total Transaksi")]),a("th",{staticClass:"border-b w-5 text-right"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"font-bold text-red-500 text-xs relative flex-1"},[t._v("Masa Berlaku Cicilan "),a("span",{staticClass:"absolute top-0 right-2 font-bold text-gray-500"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 text-xs relative flex-1"},[t._v("Nomor VA "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 text-xs relative flex-1"},[t._v("Masa Berlaku VA "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-gray-500 text-xs relative flex-1"},[t._v("Reimburse "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])}],kc={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,user:Object},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},transactionsArr:[],generateVAforUnpaidInstallmentBankInput:[]}},created:function(){var t=this;t.getTransactionList()},methods:{getTransactionList:function(){var t=this;t.toggleLoader(!0,"Loading data"),Nt.a.get("".concat("https://api.empatkali.co.id/admin","/api/approvedtransactions?skip=0&limit=0&user=").concat(t.user._id),t.requestedHeaders).then((function(e){console.log(e),t.transactionsArr=e.data,t.toggleLoader(!1)})).catch((function(e){console.log(e),t.$swal("Error!",e,"error"),t.toggleLoader(!1)}))},toggleTransDrop:function(t){var e=this;t.showDrop=1!=t.showDrop,e.$forceUpdate()},mapTransactionTerms:function(t){var e={payment_id:t.paid.payment_id,paid_date:t.paid.date};return e.total=parseFloat(t.total)+parseFloat(t.lateFee)+t.reimbursement,this.generateVAforUnpaidInstallmentBankInput[t._id]="",e.btnCheckPayment=!1,e.btnGenerateVA=!1,1!==t.number?201!=t.paid.status_code&&200!=t.paid.status_code||!t.paid.status?""!=t.paid.payment_id||201!=t.paid.status_code||t.paid.status?""==t.paid.payment_id||201!=t.paid.status_code||t.paid.status||(e.msg="VA telah di buat",e.dateLabel="Dibuat pada",e.btnCheckPayment=!0,e.btnGenerateVA=!0):(e.msg="VA belum di buat",e.btnCheckPayment=!0,e.btnGenerateVA=!0):(e.msg="Va telah dibayar",e.dateLabel="Dibayar pada"):t.paid.status?(e.msg="Paid",e.dateLabel="Dibuat pada",e.paymentStatus=!0):(e.msg="Not Paid",e.paymentStatus=!1),e},generateVAforUnpaidInstallment:function(t,e){var a=this,s={terminId:e._id,bank:a.generateVAforUnpaidInstallmentBankInput[e._id]};if(""==a.generateVAforUnpaidInstallmentBankInput[e._id])return a.$swal("Error!","Please select a bank","error"),!1;a.toggleLoader(!0,"Generating"),Nt.a.post("/api/approvedtransactions/injectva/".concat(t._id),s,a.requestedHeaders).then((function(){a.getTransactionList(t.user._id),a.toggleLoader(!1),a.generateVAforUnpaidInstallmentBankInput[e._id]="",a.$swal("Success!","Successfully generated!","success")})).catch((function(t){a.$swal("Error!",t.response.data.message,"error"),console.log(t.response),a.toggleLoader(!1)}))},checkPayment:function(t,e){var a=this;return Object(_e["a"])(regeneratorRuntime.mark((function s(){var r,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=a,i={transactionNumber:t.transactionNumber,terminNumber:e.number},r.toggleLoader(!0,"Checking"),s.prev=3,s.next=6,Nt.a.post("/api/approvedtransactions/checkpayment",i,r.requestedHeaders);case 6:n=s.sent,r.toggleLoader(!1),r.$swal("",n.data,"info"),s.next=16;break;case 11:s.prev=11,s.t0=s["catch"](3),console.log(s.t0),r.toggleLoader(!1),r.$swal("Error!","Tidak ada pembayaran untuk transaksi ini.","error");case 16:case"end":return s.stop()}}),s,null,[[3,11]])})))()}}},Pc=kc,Sc=(a("b47b"),Object(St["a"])(Pc,wc,yc,!1,null,"590fa129",null)),Mc=Sc.exports,Ac=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"relative"},[a("p",{staticClass:"text-sm mt-2 mb-4"},[t._v("Kamu yakin menyetujui pengajuan limit dari:")]),a("div",{staticClass:"flex mb-3"},[t._m(0),a("p",{staticClass:"flex-1 text-sm font-bold"},[t._v(t._s(t.limitDetails.user&&t.limitDetails.user.detail?t.limitDetails.user.detail.name:"---"))])]),a("div",{staticClass:"flex mb-3"},[t._m(1),a("p",{staticClass:"flex-1 text-sm"},[t._v(t._s(t._f("currency")(t.limitDetails.user.credit)))])]),a("div",{staticClass:"flex mb-3"},[t._m(2),a("p",{staticClass:"flex-1 text-sm text-violet font-bold"},[t._v(t._s(t._f("currency")(t.limitDetails.creditNew)))])]),"approve-w-limit"==t.limitDetails.selectedOpt?a("div",[a("div",{staticClass:"flex mb-3 items-center"},[t._m(3),a("div",{staticClass:"flex-1"},[a("div",{staticClass:"relative select-limit-drop"},[a("div",{staticClass:"border-b w-36 py-1 text-sm relative cursor-pointer",class:{"text-gray-400":!t.confirmData.approvedLimit,"border-dangerBtn":"limit"==t.errStatus||"both"==t.errStatus},on:{click:function(e){return t.toggleLimitDrop()}}},[""!=t.confirmData.approvedLimit?a("span",[t._v(t._s(t._f("currency")(t.confirmData.approvedLimit)))]):t._e(),""==t.confirmData.approvedLimit?a("span",[t._v(t._s("Pilih Limit"))]):t._e(),a("svg",{staticClass:"text-gray-500 w-4 absolute top-1.5 right-0",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])]),t.isShowLimitDrop?a("div",{staticClass:"w-36 absolute top-7 left-0 bg-gray-100 px-2 text-left"},[a("ul",[a("li",{staticClass:"cursor-pointer text-base px-1 py-2 border-b-2",class:{"text-gray-300 pointer-events-none":"1000000"==t.limitDetails.user.credit},on:{click:function(e){return t.selectLimitDrop(1e6)}}},[t._v(t._s(t._f("currency")("1000000")))]),a("li",{staticClass:"cursor-pointer text-base px-1 py-2 border-b-2",class:{"text-gray-300 pointer-events-none":"2000000"==t.limitDetails.user.credit},on:{click:function(e){return t.selectLimitDrop(2e6)}}},[t._v(t._s(t._f("currency")("2000000")))]),a("li",{staticClass:"cursor-pointer text-base px-1 py-2 border-b-2",class:{"text-gray-300 pointer-events-none":"3000000"==t.limitDetails.user.credit},on:{click:function(e){return t.selectLimitDrop(3e6)}}},[t._v(t._s(t._f("currency")("3000000")))]),a("li",{staticClass:"cursor-pointer text-base px-1 py-2 border-b-2",class:{"text-gray-300 pointer-events-none":"4000000"==t.limitDetails.user.credit},on:{click:function(e){return t.selectLimitDrop(4e6)}}},[t._v(t._s(t._f("currency")("4000000")))]),a("li",{staticClass:"cursor-pointer text-base px-1 py-2",class:{"text-gray-300 pointer-events-none":"5000000"==t.limitDetails.user.credit},on:{click:function(e){return t.selectLimitDrop(5e6)}}},[t._v(t._s(t._f("currency")("5000000")))])])]):t._e()])])])]):t._e(),"approve"!=t.limitDetails.selectedOpt?a("div",{staticClass:"input-div"},[a("div",{staticClass:"flex mb-2"},[t._m(4),a("p",{staticClass:"flex-1 text-sm text-right text-dangerMsg"},[t._v(t._s("wajib"))])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.confirmData.comment,expression:"confirmData.comment"}],staticClass:"comment-textarea",class:{error:"comment"==t.errStatus||"both"==t.errStatus},staticStyle:{resize:"none"},attrs:{cols:"30",rows:"3",placeholder:"Tulis disini"},domProps:{value:t.confirmData.comment},on:{input:function(e){e.target.composing||t.$set(t.confirmData,"comment",e.target.value)}}})]):t._e(),a("div",{staticClass:"text-right mt-5"},[a("button",{staticClass:"btn px-4 py-2 mx-1 text-violet font-bold rounded-md text-sm",on:{click:function(e){return e.preventDefault(),t.closeModal(!1,"process")}}},[t._v("Batal")]),a("button",{staticClass:"btn px-6 py-3 mx-1 text-white font-bold rounded-md text-sm",class:{"bg-successBtn":"reject"!=t.limitDetails.selectedOpt,"bg-dangerBtn":"reject"==t.limitDetails.selectedOpt},on:{click:function(e){return t.submitLimitConfirm()}}},[t._v(" "+t._s("reject"!=t.limitDetails.selectedOpt?"Approve":"Reject")+" ")])]),"none"!=t.errStatus?a("div",{staticClass:"rounded-full p-3 absolute bg-white -bottom-24",class:{"w-130 -left-8 ":"both"==t.errStatus,"w-68 left-16":"both"!=t.errStatus}},[a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"img-container mr-4"},[a("img",{staticClass:"w-8",attrs:{src:"../../assets/img/red-circle-times.png",alt:""}})]),a("p",{staticClass:"text-sm"},[t._v(" "+t._s("both"!=t.errStatus?"limit"==t.errStatus?"Kamu belum memilih Limit yang disetujui.":"Kamu belum memasukkan alasan.":"Kamu belum memilih Limit yang disetujui dan menulis alasan.")+" ")])])]):t._e()])},Lc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Nama "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Limit Sekarang "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Pengajuan Limit baru "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Limit yang disetujui "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"flex-1 text-sm text-gray-700 relative",attrs:{for:""}},[t._v("Alasan "),a("span",{staticClass:"absolute top-0 right-2 font-bold"},[t._v(":")])])}],Ec={props:{closeModal:Function,requestSuccess:Function,toggleLoader:Function,limitDetails:{type:Object}},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},isShowLimitDrop:!1,confirmData:{comment:"",approvedLimit:""},commentVal:"",errStatus:"none"}},created:function(){console.log(this.limitDetails.selectedOpt),this.initializeShowHideListener()},methods:{initializeShowHideListener:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,document.addEventListener("click",function(){var t=Object(_e["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.isShowLimitDrop){t.next=5;break}return t.next=3,a.checkParentMatch(e,"select-limit-drop");case 3:s=t.sent,a.isShowLimitDrop=s;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()},checkParentMatch:function(t,e){return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.target,r=document.getElementsByClassName(e)[0],void 0===r&&(r=document),i=s.parentNode,n=!1,i!=r){a.next=9;break}n=!0,a.next=17;break;case 9:if(i===r){a.next=17;break}if(o=i,null!=o){a.next=13;break}return a.abrupt("break",17);case 13:i=o.parentNode,i==r&&(n=!0),a.next=9;break;case 17:return a.abrupt("return",n);case 18:case"end":return a.stop()}}),a)})))()},toggleLimitDrop:function(){var t=this;t.isShowLimitDrop=!t.isShowLimitDrop},submitLimitConfirm:function(){var t=this;if("approve-w-limit"==t.limitDetails.selectedOpt){if(""==t.confirmData.comment&&""==t.confirmData.approvedLimit)return t.errStatus="both",!1;if(""==t.confirmData.comment)return t.errStatus="comment",!1;if(""==t.confirmData.approvedLimit)return t.errStatus="limit",!1}if("reject"==t.limitDetails.selectedOpt&&(""==t.confirmData.comment||!t.confirmData.comment))return t.errStatus="comment",!1;t.errStatus="none";var e={reqId:t.limitDetails._id,approve:"reject"==t.limitDetails.selectedOpt?0:1,nominal:"approve-w-limit"==t.limitDetails.selectedOpt?t.confirmData.approvedLimit:t.limitDetails.creditNew,reason:t.confirmData.comment};t.toggleLoader(!0),Nt.a.put("api/users/approvalupdatecredit",e,t.requestedHeaders).then(function(){var e=Object(_e["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(a),a.data.status?(t.$router.go(-1),localStorage.setItem("emitLimitRequestStatus",JSON.stringify({type:t.limitDetails.selectedOpt,name:t.limitDetails.user.detail.name}))):t.$swal("Error!",a.data.message,"error"),t.toggleLoader(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.toggleLoader(!1),t.$swal("Error!",e.response.data.message,"error")}))},selectLimitDrop:function(t){var e=this;e.confirmData.approvedLimit=t,e.isShowLimitDrop=!1}}},Rc=Ec,Nc=(a("c547"),Object(St["a"])(Rc,Ac,Lc,!1,null,"7116bd00",null)),Ic=Nc.exports,jc={components:{EditInformationModal:dc,CommentsModal:vc,EmailModal:Dc,TransactionsModal:Mc,RequestConfirmModal:Ic,Loader:Kt,InsideSpinner:ma},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},loader:{isShow:!1,message:"Loading data"},isEditInfoModalShow:!1,isCommentModalShow:!1,isEmailModalShow:!1,isTransModalShow:!1,isProcessModalShow:!1,editInfoData:{},confirmTypeSelected:"",confirmTitle:"",limitDetails:{},responseAFPI:{},adminData:{}}},created:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.getAdmin(),e.next=4,a.getRequestLimitDetails();case 4:return a.getSideDetails(),e.next=7,a.getUserInfo();case 7:a.getTransactionDetails(),a.getAllTypeUserSalary(),a.getAFPI(),console.log(a.limitDetails);case 11:case"end":return e.stop()}}),e)})))()},methods:{getAdmin:function(){var t=this,e=t.decodeJwt(t.requestedHeaders.headers["x-access-token"]);Nt.a.get("api/admins/".concat(e._id),t.requestedHeaders).then((function(e){e&&(t.adminData=e.data)})).catch((function(t){console.log(t)}))},decodeJwt:function(t){var e=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},a=function(t){return JSON.parse(e(t.split(".")[1].replace("-","+").replace("_","/")))};return a(t)},toggleModals:function(t,e,a){var s=this;s.isEditInfoModalShow="editInfo"==e&&t,s.isCommentModalShow="comment"==e&&t,s.isEmailModalShow="email"==e&&t,s.isTransModalShow="transactions"==e&&t,s.isProcessModalShow="process"==e&&t,"process"==e&&(s.confirmTypeSelected=a,"approve"==a&&(s.confirmTitle="Approve Confirmation"),"approve-w-limit"==a&&(s.confirmTitle="Approve dengan limit lain Confirmation"),"reject"==a&&(s.confirmTitle="Reject Confirmation"),s.limitDetails.selectedOpt=a)},refreshData:function(t,e){console.log(t);var a=this;a.isEditInfoModalShow=!1,"editInfo"==e?a.getSideDetails():console.log("else"),a.loader.isShow=!1},toggleLoader:function(t){var e=this;e.loader.isShow=t},getSideDetails:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/users/getUserUpdateCreditDetail/".concat(a.$route.params.id),e.next=4,Nt.a.get(s,a.requestedHeaders).then((function(t){a.limitDetails.sideDetails=t.data.data.information?t.data.data.information:{},a.limitDetails.imageDocs=t.data.data.docs,a.toggleLoader(!1),a.$forceUpdate()})).catch((function(t){console.log(t),a.$swal("Error!",t.message,"error"),a.toggleLoader(!1)}));case 4:case"end":return e.stop()}}),e)})))()},getTransactionDetails:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/approvedtransactions/getusertransaction/".concat(a.limitDetails.user._id),e.next=4,Nt.a.get(s,a.requestedHeaders).then((function(t){a.limitDetails.transactionDetails=t.data.data})).catch((function(t){console.log(t),a.$swal("Error!",t.message,"error"),a.toggleLoader(!1)}));case 4:case"end":return e.stop()}}),e)})))()},getUserInfo:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/users/"+a.limitDetails.user._id,e.next=4,Nt.a.get(s,a.requestedHeaders).then((function(t){a.limitDetails.otherDetails=t.data})).catch((function(t){console.log(t),a.$swal("Error!",t.message,"error"),a.toggleLoader(!1)}));case 4:case"end":return e.stop()}}),e)})))()},getRequestLimitDetails:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/users/getuserupdatecredit?skip=0&limit=10000",a.toggleLoader(!0,"Loading data"),e.next=5,Nt.a.get(s,a.requestedHeaders).then((function(t){a.limitDetails=a._.find(t.data.data,{_id:a.$route.params.id}),a.toggleLoader(!1)})).catch((function(t){console.log(t),a.$swal("Error!",t.message,"error"),a.toggleLoader(!1)}));case 5:case"end":return e.stop()}}),e)})))()},getAllTypeUserSalary:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,Nt.a.get("api/usersalary",a.requestedHeaders).then((function(t){var e=a.limitDetails.otherDetails.detail.penghasilan;e="gol3";var s=t.data.filter((function(t){return t.type==e}));a.limitDetails.otherDetails.detail.descriptionOfsalary=s[0].description})).catch((function(t){console.log(t),a.$swal("Error!",t.message,"error"),a.toggleLoader(!1)}));case 3:case"end":return e.stop()}}),e)})))()},getAFPI:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,Nt.a.get("https://minion.empatkali.co.id/dataafpi2.php?ktp=".concat(a.limitDetails.user._id),a.requestedHeaders).then((function(t){var e=a.limitDetails.otherDetails.detail.descriptionOfsalary.replaceAll(/(rp\s)|(\.)/gi,"").replaceAll(/(\s-\s)|(<\s)|(>\s)/gi,"~").split("~"),s=e.reduce((function(t,e){return isNaN(t)?parseInt(e):t+parseInt(e)/2}),0);a.responseAFPI=Object.assign(t.data,{income:s})})).catch((function(t){console.log(t),a.$swal("Error!",t.message,"error"),a.toggleLoader(!1)}));case 3:case"end":return e.stop()}}),e)})))()}}},$c=jc,Oc=$c,Fc=Object(St["a"])(Oc,xt,bt,!1,null,null,null),Uc=Fc.exports,Tc=Uc,qc=Tc,Yc=(a("ae27"),Object(St["a"])(qc,sc,rc,!1,null,"51743def",null)),Bc=Yc.exports,Hc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"change-limit-container"},[t.loader.isShow?a("Loader",{attrs:{message:t.loader.message}}):t._e(),a("Header",{attrs:{headerOptions:t.changeLimitOptions}}),a("div",{staticClass:"change-limit-content-container overflow-y-auto px-4 pb-4  relative"},[a("transition",{attrs:{name:"fade"}},[t.limitReqAlert.isShow?a("div",{staticClass:"bg-white p-4 rounded-xl shadow-md fixed right-10 top-14 z-50 w-107"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"icon mr-4"},[a("img",{staticClass:"max-w-40px",attrs:{src:"../assets/img/check-green-circle.png",alt:""}})]),a("div",{staticClass:"flex-1"},[a("p",{staticClass:"mb-1 text-sm font-bold"},[t._v("Change Limit "+t._s("reject"==t.limitReqAlert.type?"Rejected":"Approved"))]),"reject"!=t.limitReqAlert.type?a("p",{staticClass:"text-sm"},[t._v("Kamu berhasil menyetujui request "),a("span",{staticClass:"capitalize"},[t._v(t._s(t.limitReqAlert.name))]),t._v(". User sudah memiliki limit baru.")]):t._e(),"reject"==t.limitReqAlert.type?a("p",{staticClass:"text-sm"},[t._v("Kamu berhasil tidak menyetujui request "),a("span",{staticClass:"capitalize"},[t._v(t._s(t.limitReqAlert.name))]),t._v(".")]):t._e()]),a("div",{staticClass:"w-1 relative"},[a("a",{staticClass:"relative -top-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.closeAlert(e)}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"times",size:"sm"}})],1)])])]):t._e()]),a("div",{staticClass:"card p-5"},[a("div",{staticClass:"filter-container flex mb-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitFilter(e)}}},[a("div",{staticClass:"input-div with-icon border-r pr-4 mr-4"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("svg",{staticClass:"h-full text-gray-800",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.searchVal,expression:"filter.searchVal"}],staticClass:"min-w-250px",attrs:{type:"text",placeholder:"Cari nama, nomor hp"},domProps:{value:t.filter.searchVal},on:{input:function(e){e.target.composing||t.$set(t.filter,"searchVal",e.target.value)}}})])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},on:{input:t.filterDateChanged},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.startDate,callback:function(e){t.$set(t.filter,"startDate",e)},expression:"filter.startDate"}})],1),a("span",{staticClass:"font-bold text-black-100 mx-5 text-sm"},[t._v("sampai")]),a("div",{staticClass:"input-div with-icon w-48"},[a("div",{staticClass:"icon-div absolute left-5 top-3 h-5"},[a("img",{staticClass:"h-full",attrs:{src:"../assets/img/calendar-icon.png",alt:""}})]),a("v-date-picker",{attrs:{mode:"date",popover:{visibility:"focus"},masks:t.dateFormat},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,r=e.inputEvents;return[a("input",t._g({staticClass:"datepicker-input",attrs:{readonly:""},domProps:{value:s}},r))]}}]),model:{value:t.filter.endDate,callback:function(e){t.$set(t.filter,"endDate",e)},expression:"filter.endDate"}})],1),a("button",{staticClass:"btn border-none text-gray-400 font-bold p-2 ml-6",on:{click:t.removeFilter}},[t._v("reset filter")])])]),a("table",{staticClass:"w-full text-left"},[t._m(0),a("tbody",t._l(t.usersArr.data,(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[a("p",{staticClass:"text-sm mb-1 font-bold text-violet"},[t._v(" "+t._s(e.user?e.user.detail.name:"---")+" ")]),a("p",{staticClass:"text-gray-500 text-xs"},[t._v(" "+t._s(e.user?e.user.detail.email:"---")+" ")])]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(e.user?e.user.mobileNumber:"---")+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v(" "+t._s(t._f("currency")(e.user?e.user.credit:"---"))+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[a("div",{staticClass:"flex mb-1 text-xs"},[a("label",{staticClass:"text-gray-500 w-24"},[t._v("Outstanding")]),a("span",[t._v(t._s(t._f("currency")(e.user.credit-e.user.remainingCredit)))])]),a("div",{staticClass:"flex text-xs"},[a("label",{staticClass:"text-gray-500 w-24"},[t._v("Sisa Limit")]),a("span",[t._v(t._s(t._f("currency")(e.user?e.user.remainingCredit:"---")))])])]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm font-bold"},[t._v(" "+t._s(t._f("currency")(e.remainingCreditNew?e.remainingCreditNew:"---"))+" ")]),a("td",{staticClass:"border-b-2 py-3 pr-6 text-sm text-center"},[a("button",{staticClass:"btn border-2 font-bold border-violet py-2 px-4 rounded-md text-violet text-sm",on:{click:function(a){return t.goToVericationDetails(e)}}},[t._v("Lihat Detail")])])])})),0)]),t.usersArr.data&&0==t.usersArr.data.length?a("div",{staticClass:"flex items-center w-full no-data-content"},[a("div",{staticClass:"w-full text-center"},[a("img",{staticClass:"my-4 w-1/4",attrs:{src:"../assets/img/no data results.png",alt:""}}),a("p",{staticClass:"text-xl 2xl:text-2xl mt-10"},[t._v("Pencarian kamu tidak ditemukan")])])]):t._e(),t.usersArr.data&&t.usersArr.data.length>0?a("div",{staticClass:"flex text-sm py-3"},[a("div",{staticClass:"flex-1 flex font-bold"},[a("span",{staticClass:"mr-1"},[t._v("Terlihat")]),a("span",{staticClass:"mr-1"},[t._v(t._s(t.paginationData.resultStart)+"-"+t._s(t.paginationData.resultEnd))]),a("span",{staticClass:"mr-1"},[t._v("dari")]),a("span",[t._v(t._s(t.paginationData.totalResultsRows))])]),a("div",{staticClass:"flex-1 flex justify-end pr-5"},[t.paginationData.currentPage>1?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("prev")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})])]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(1)}}},[t._v("1")]):t._e(),t.paginationData.currentPage>t.paginationCount?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t._l(t.paginateTotalPages,(function(e){return a("div",{key:e.index,staticClass:"font-bold px-1 mx-1 h-5 cursor-pointer",class:{"text-violet":e!=t.paginationData.currentPage},on:{click:function(a){return t.selectPage(e)}}},[t._v(t._s(e))])})),t.paginationData.totalPages>10&&t.paginationData.totalPages%t.paginationCount>1||t.paginationData.totalPages%t.paginationCount==1&&t.paginationData.totalPages-t.paginationData.currentPage>10?a("div",{staticClass:"font-bold text-lg h-5 leading-none tracking-widest text-violet"},[t._v("...")]):t._e(),t.paginationData.totalPages>10&&t.paginationData.totalPages%t.paginationCount>1||t.paginationData.totalPages%t.paginationCount==1&&t.paginationData.totalPages-t.paginationData.currentPage>10?a("div",{staticClass:"font-bold px-1 h-5 cursor-pointer text-violet",on:{click:function(e){return t.selectPage(t.paginationData.totalPages)}}},[t._v(t._s(t.paginationData.totalPages))]):t._e(),t.paginationData.currentPage<t.paginationData.totalPages?a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.changePage("next")}}},[a("svg",{staticClass:"w-5 text-violet",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"}})])]):t._e()],2)]):t._e()])],1)],1)},Wc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nama")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Nomor HP")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Limit")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Detail Limit")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm"},[t._v("Pengajuan Limit")]),a("th",{staticClass:"border-b-2 py-3 pr-6 text-sm text-center"},[t._v("Aksi")])])])}],Vc=(a("841c"),{components:{Header:xe,Loader:Kt},data:function(){return{requestedHeaders:{headers:{Authorization:"Basic ZW1wYXRrYWxpOnZIPHRWQEBFN3cuWDNjWlM=","x-access-token":localStorage.getItem("auth_token")}},loader:{isShow:!0,message:"Preparing"},filter:{searchVal:"",startDate:new Date(this.$moment().startOf("month")),endDate:new Date(this.$moment())},dateFormat:{input:"DD MMM YYYY"},changeLimitOptions:{startDate:new Date,endDate:new Date,resultCount:0},allUsers:[],paginationCount:10,paginationData:{totalResultsRows:1,currentPage:1,perPage:10,resultStart:1,resultEnd:1,totalPages:1},adminData:{},limitStatus:"",usersArr:{},search:{},limitReqAlert:{isShow:!0}}},created:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.setCurrentLimitStatus(),a.checkLimitRequestTransactions(),e.next=5,a.totalUsers();case 5:return e.next=7,a.getLimitRequests(1);case 7:return e.next=9,a.getAdmin();case 9:case"end":return e.stop()}}),e)})))()},computed:{paginateTotalPages:function(){var t=this;if(t.paginationData.totalPages>t.paginationCount){var e=[],a=t._.chunk(Object(ea["a"])(Array(t.paginationData.totalPages).keys()),10);return e=a[t._.findIndex(a,(function(e){return e.includes(t.paginationData.currentPage-1)}))],e=e.map((function(t){return t+1})),e[e.length-1]<t.paginationData.totalPages&&e.push(e[e.length-1]+1),e}return t.paginationData.totalPages}},watch:{$route:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.loader={isShow:!0,message:"Loading data"},a.setCurrentLimitStatus(),e.next=4,a.totalUsers();case 4:return e.next=6,a.getLimitRequests(1);case 6:case"end":return e.stop()}}),e)})))()}},methods:{checkLimitRequestTransactions:function(){var t=this,e=JSON.parse(localStorage.getItem("emitLimitRequestStatus"));console.log(e),t.limitReqAlert=e?Object(ta["a"])({isShow:!0},e):{isShow:!1},setTimeout((function(){t.closeAlert()}),1e4)},closeAlert:function(){var t=this;t.limitReqAlert.isShow=!1,localStorage.setItem("emitLimitRequestStatus",null)},decodeJwt:function(t){var e=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},a=function(t){return JSON.parse(e(t.split(".")[1].replace("-","+").replace("_","/")))};return a(t)},setCurrentLimitStatus:function(){var t=this;switch(t.$route.params.status){case"all":t.limitStatus=null;break;case"pending":t.limitStatus=0;break;case"approved":t.limitStatus=3;break;case"rejected":t.limitStatus=4;break;default:break}},getAdmin:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s=a.decodeJwt(a.requestedHeaders.headers["x-access-token"]),e.next=4,Nt.a.get("api/admins/".concat(s._id),a.requestedHeaders).then((function(t){t&&(a.adminData=t.data)})).catch((function(t){console.log(t)}));case 4:case"end":return e.stop()}}),e)})))()},getAllUsers:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s="/api/users?skip=0&limit=10000",e.next=4,Nt.a.get(s,a.requestedHeaders);case 4:r=e.sent,a.allUsers=r.data.data;case 6:case"end":return e.stop()}}),e)})))()},totalUsers:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,a.prev=1,r="/api/users/getuserupdatecredit?skip=0&limit=10000".concat(void 0!==t?"&".concat(Object.keys(t),"=").concat(Object.values(t)):""),null!=s.limitStatus&&(r+="&status=".concat(s.limitStatus)),a.next=6,Nt.a.get(r,s.requestedHeaders);case 6:i=a.sent,s.paginationData.totalResultsRows=i.data.total,s.changeLimitOptions={startDate:new Date,endDate:new Date,resultCount:s.paginationData.totalResultsRows},a.next=16;break;case 11:a.prev=11,a.t0=a["catch"](1),console.log(a.t0),e.$swal("Error!",a.t0,"error"),s.loader.isShow=!1;case 16:case"end":return a.stop()}}),a,null,[[1,11]])})))()},getLimitRequests:function(t,e){var a=this;return Object(_e["a"])(regeneratorRuntime.mark((function s(){var r,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=a,r.loader={isShow:!0,message:"Loading data"},1==r.paginationData.currentPage?i=0:r.paginationData.currentPage==t&&(i=(t-1)*r.paginationData.perPage),n="/api/users/getuserupdatecredit?skip=".concat(i,"&limit=").concat(r.paginationData.perPage).concat(void 0!==e?"&".concat(Object.keys(e),"=").concat(Object.values(e)):""),null!=r.limitStatus&&(n+="&status=".concat(r.limitStatus)),s.next=7,Nt.a.get(n,r.requestedHeaders).then((function(a){console.log(a),r.usersArr=a.data,r.paginationData=Object(ta["a"])(Object(ta["a"])({},r.paginationData),{resultStart:i+1,resultEnd:i+r.usersArr.data.length,totalPages:Math.ceil(r.paginationData.totalResultsRows/r.paginationData.perPage),currentPage:t}),r.usersArr.data.map(function(){var t=Object(_e["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null==e.user&&(e.user={mobileNumber:0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),void 0!==e&&(r.search.showResult=!0,r.search.totalRows=r.users.length),r.loader.isShow=!1})).catch((function(t){console.log(t),r.$swal("Error!",t,"error"),r.loader.isShow=!1}));case 7:case"end":return s.stop()}}),s)})))()},selectPage:function(t){var e=this;e.paginationData.currentPage=t,e.isSearchActive?e.submitFilter(t):e.getLimitRequests(t)},changePage:function(t){var e=this;e.paginationData.currentPage="prev"==t?e.paginationData.currentPage-1:e.paginationData.currentPage+1,e.isSearchActive?e.submitFilter(e.paginationData.currentPage):e.getLimitRequests(e.paginationData.currentPage)},goToVericationDetails:function(t){var e=this;e.$router.push({name:"User Limit Details",params:{id:t._id}})},submitFilter:function(t){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e,""!=s.filter.searchVal){a.next=4;break}return s.$swal("","Seems like you forgot to put something on the search input!","warning"),a.abrupt("return",!1);case 4:return r=s.filter.searchVal.split(",").map((function(t){return t.trim()})),i={name:r},s.isSearchActive=!0,console.log(i),s.toggleLoader(!0,"Loading data"),s.paginationData.currentPage=void 0!==t?s.paginationData.currentPage:1,a.next=12,s.totalUsers(i);case 12:return a.next=14,s.getLimitRequests(s.paginationData.currentPage,i);case 14:case"end":return a.stop()}}),a)})))()},removeFilter:function(){var t=this;return Object(_e["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.isSearchActive=!1,a.filter={searchVal:"",startDate:new Date,endDate:new Date},a.toggleLoader(!0,"Loading data"),e.next=6,a.totalUsers();case 6:return e.next=8,a.getLimitRequests(1);case 8:case"end":return e.stop()}}),e)})))()},filterDateChanged:function(){var t=this;console.log(t.filter.startDate),console.log(t.filter.endDate)}}}),zc=Vc,Kc=zc,Zc=Object(St["a"])(Kc,ht,_t,!1,null,null,null),Jc=Zc.exports,Xc=Jc,Qc=Xc,Gc=(a("4308"),Object(St["a"])(Qc,Hc,Wc,!1,null,"73dfc5ac",null)),td=Gc.exports;s["default"].use(Et["a"]),s["default"].use(jt.a,Nt.a),s["default"].axios.defaults.baseURL="https://api.empatkali.co.id/admin";var ed=new Et["a"]({mode:"history",linkActiveClass:"active bg-sidemenuActiveColor",routes:[{path:"*",redirect:"/login"},{name:"Login",path:"/login",component:Qt,meta:{auth:!1}},{path:"/",name:"Dashboard",redirect:"/users/all",component:Fe,meta:{auth:!0},children:[{name:"Home",path:"/home",component:Ze},{name:"Users",path:"/users/:status",component:wr},{name:"User Details",path:"/users-details/:id",component:Vi},{name:"Settings",path:"/settings",component:sn},{name:"Email Template",path:"/settings/email-template",component:Sn},{name:"Fee",path:"/settings/fee",component:Jn},{name:"User Management",path:"/settings/user-management",component:fo},{name:"Salary",path:"/settings/salary",component:Oo},{name:"Promotions",path:"/promotions",component:nl},{name:"Merchants",path:"/merchants",component:wl},{name:"Messages",path:"/messages",component:Il},{name:"Tools",path:"/tools",component:Wl},{name:"UnbanOTP",path:"/unban-opt-user",component:ac},{name:"Change Limit",path:"/change-limit/:status",component:td},{name:"User Limit Details",path:"/limit-details/:id",component:Bc}]}]});a("4413"),a("5ac0"),a("0808"),a("6861");Ct["c"].add(Dt["f"],wt["c"],wt["b"],wt["a"],Dt["i"],Dt["b"],Dt["k"],Dt["e"],Dt["c"],Dt["a"],Dt["h"],Dt["d"],Dt["j"],Dt["g"]),s["default"].component("font-awesome-icon",yt["a"]);var ad={confirmButtonColor:"#0392CF",cancelButtonColor:"#FF5959"};s["default"].use(d.a,{name:"custom",lodash:m.a}),s["default"].use(i.a),s["default"].use(n["default"],ad),s["default"].use(l.a),s["default"].use(f.a),s["default"].use(v.a),s["default"].component("Modal",v.a),s["default"].use(x["a"]),s["default"].use(b,{load:{key:"AIzaSyCkjWXef2lDguLgq1Pk9cUkWQd3ReWXXaQ",libraries:"places"}}),s["default"].config.productionTip=!1,s["default"].router=ed,s["default"].use(a("8a9b"),{auth:{request:function(t,e){this.options.http._setHeaders.call(this,t,{Authorization:"Bearer ".concat(e)})},response:function(t){var e=t.data.token;if(e)return e=e.split(/Bearer\:?\s?/i),e[e.length>1?1:0].trim()}},http:a("680f"),router:a("4ae6"),loginData:{url:"/api/auth/login",method:"POST",redirect:"/login"},authRedirect:{path:"/api/auth/login"},tokenDefaultName:"auth_token",refreshData:{enabled:!1},fetchData:{enabled:!1}}),new s["default"]({router:ed,render:function(t){return t(Lt)}}).$mount("#app")},"5cf2":function(t,e,a){"use strict";a("a8c7")},"67cc":function(t,e,a){},6861:function(t,e,a){},6887:function(t,e,a){},"6e4f":function(t,e,a){},"6eef":function(t,e,a){"use strict";a("c8e2")},"6f8f":function(t,e,a){"use strict";a("6fb4")},"6fb4":function(t,e,a){},"7a50":function(t,e,a){},"7bcb":function(t,e,a){"use strict";a("3c5d")},"7ef6":function(t,e,a){},"7ef8":function(t,e,a){"use strict";a("fc9c")},8684:function(t,e,a){"use strict";a("8be7")},"88ba":function(t,e,a){"use strict";a("7a50")},"8aba":function(t,e,a){},"8b14":function(t,e,a){},"8be7":function(t,e,a){},"90a2":function(t,e,a){"use strict";a("25e6")},9400:function(t,e,a){"use strict";a("96a8")},9682:function(t,e,a){"use strict";a("6e4f")},"96a8":function(t,e,a){},"998c":function(t,e,a){"use strict";a("ce4eb")},"9bfa":function(t,e,a){},"9c1c":function(t,e,a){},"9d39":function(t,e,a){},a4df:function(t,e,a){},a8c7:function(t,e,a){},ae27:function(t,e,a){"use strict";a("8aba")},af02:function(t,e,a){},b13f:function(t,e,a){},b47b:function(t,e,a){"use strict";a("4732")},ba10:function(t,e,a){},bb6e:function(t,e,a){"use strict";a("bc69")},bbe8:function(t,e,a){"use strict";a("67cc")},bc69:function(t,e,a){},c006:function(t,e,a){"use strict";a("6887")},c547:function(t,e,a){"use strict";a("34cd")},c7f9:function(t,e,a){"use strict";a("9bfa")},c8e2:function(t,e,a){},cca9:function(t,e,a){"use strict";a("e165")},cdc7:function(t,e,a){"use strict";a("069e")},ce4eb:function(t,e,a){},d3b8:function(t,e,a){},d650:function(t,e,a){"use strict";a("9c1c")},daec:function(t,e,a){},e165:function(t,e,a){},e478:function(t,e,a){"use strict";a("8b14")},e6be:function(t,e,a){"use strict";a("daec")},e779:function(t,e,a){"use strict";a("9d39")},ef3d:function(t,e,a){"use strict";a("2045")},f58b:function(t,e,a){"use strict";a("af02")},fc9c:function(t,e,a){}});
//# sourceMappingURL=app.c857822a.js.map